var oA=Object.create;var Bi=Object.defineProperty,sA=Object.defineProperties,uA=Object.getOwnPropertyDescriptor,cA=Object.getOwnPropertyDescriptors,lA=Object.getOwnPropertyNames,co=Object.getOwnPropertySymbols,fA=Object.getPrototypeOf,Fu=Object.prototype.hasOwnProperty,Jh=Object.prototype.propertyIsEnumerable;var Zh=(e,t,r)=>t in e?Bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))Fu.call(t,r)&&Zh(e,r,t[r]);if(co)for(var r of co(t))Jh.call(t,r)&&Zh(e,r,t[r]);return e},ce=(e,t)=>sA(e,cA(t)),ep=e=>Bi(e,"__esModule",{value:!0});var Pt=(e,t)=>{var r={};for(var n in e)Fu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&co)for(var n of co(e))t.indexOf(n)<0&&Jh.call(e,n)&&(r[n]=e[n]);return r};var Gi=(e,t)=>()=>(e&&(t=e(e=0)),t);var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tp=(e,t)=>{for(var r in t)Bi(e,r,{get:t[r],enumerable:!0})},rp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lA(t))!Fu.call(e,i)&&(r||i!=="default")&&Bi(e,i,{get:()=>t[i],enumerable:!(n=uA(t,i))||n.enumerable});return e},_e=(e,t)=>rp(ep(Bi(e!=null?oA(fA(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),dA=(e=>(t,r)=>e&&e.get(t)||(r=rp(ep({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var ap=S((lo,ip)=>{(function(e,t){typeof lo=="object"&&typeof ip<"u"?t(lo):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.WebStreamsPolyfill={}))})(lo,function(e){"use strict";let t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:o=>`Symbol(${o})`;function r(){}function n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let i=n();function a(o){return typeof o=="object"&&o!==null||typeof o=="function"}let s=r,l=Promise,c=Promise.prototype.then,f=Promise.resolve.bind(l),d=Promise.reject.bind(l);function m(o){return new l(o)}function p(o){return f(o)}function g(o){return d(o)}function y(o,u,h){return c.call(o,u,h)}function v(o,u,h){y(y(o,u,h),void 0,s)}function _(o,u){v(o,u)}function E(o,u){v(o,void 0,u)}function P(o,u,h){return y(o,u,h)}function I(o){y(o,void 0,s)}let D=(()=>{let o=i&&i.queueMicrotask;if(typeof o=="function")return o;let u=p(void 0);return h=>y(u,h)})();function k(o,u,h){if(typeof o!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(o,u,h)}function M(o,u,h){try{return p(k(o,u,h))}catch(b){return g(b)}}let N=16384;class L{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(u){let h=this._back,b=h;h._elements.length===N-1&&(b={_elements:[],_next:void 0}),h._elements.push(u),b!==h&&(this._back=b,h._next=b),++this._size}shift(){let u=this._front,h=u,b=this._cursor,w=b+1,O=u._elements,x=O[b];return w===N&&(h=u._next,w=0),--this._size,this._cursor=w,u!==h&&(this._front=h),O[b]=void 0,x}forEach(u){let h=this._cursor,b=this._front,w=b._elements;for(;(h!==w.length||b._next!==void 0)&&!(h===w.length&&(b=b._next,w=b._elements,h=0,w.length===0));)u(w[h]),++h}peek(){let u=this._front,h=this._cursor;return u._elements[h]}}function C(o,u){o._ownerReadableStream=u,u._reader=o,u._state==="readable"?B(o):u._state==="closed"?A(o):z(o,u._storedError)}function q(o,u){let h=o._ownerReadableStream;return St(h,u)}function R(o){o._ownerReadableStream._state==="readable"?T(o,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):$(o,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),o._ownerReadableStream._reader=void 0,o._ownerReadableStream=void 0}function W(o){return new TypeError("Cannot "+o+" a stream using a released reader")}function B(o){o._closedPromise=m((u,h)=>{o._closedPromise_resolve=u,o._closedPromise_reject=h})}function z(o,u){B(o),T(o,u)}function A(o){B(o),j(o)}function T(o,u){o._closedPromise_reject!==void 0&&(I(o._closedPromise),o._closedPromise_reject(u),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0)}function $(o,u){z(o,u)}function j(o){o._closedPromise_resolve!==void 0&&(o._closedPromise_resolve(void 0),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0)}let K=t("[[AbortSteps]]"),ke=t("[[ErrorSteps]]"),Te=t("[[CancelSteps]]"),ut=t("[[PullSteps]]"),Ca=Number.isFinite||function(o){return typeof o=="number"&&isFinite(o)},_n=Math.trunc||function(o){return o<0?Math.ceil(o):Math.floor(o)};function $t(o){return typeof o=="object"||typeof o=="function"}function V(o,u){if(o!==void 0&&!$t(o))throw new TypeError(`${u} is not an object.`)}function Be(o,u){if(typeof o!="function")throw new TypeError(`${u} is not a function.`)}function lu(o){return typeof o=="object"&&o!==null||typeof o=="function"}function G(o,u){if(!lu(o))throw new TypeError(`${u} is not an object.`)}function te(o,u,h){if(o===void 0)throw new TypeError(`Parameter ${u} is required in '${h}'.`)}function F(o,u,h){if(o===void 0)throw new TypeError(`${u} is required in '${h}'.`)}function X(o){return Number(o)}function pe(o){return o===0?0:o}function De(o){return pe(_n(o))}function Se(o,u){let b=Number.MAX_SAFE_INTEGER,w=Number(o);if(w=pe(w),!Ca(w))throw new TypeError(`${u} is not a finite number`);if(w=De(w),w<0||w>b)throw new TypeError(`${u} is outside the accepted range of ${0} to ${b}, inclusive`);return!Ca(w)||w===0?0:w}function Mr(o,u){if(!cr(o))throw new TypeError(`${u} is not a ReadableStream.`)}function bt(o){return new Ri(o)}function zd(o,u){o._reader._readRequests.push(u)}function fu(o,u,h){let w=o._reader._readRequests.shift();h?w._closeSteps():w._chunkSteps(u)}function Ia(o){return o._reader._readRequests.length}function Yd(o){let u=o._reader;return!(u===void 0||!ar(u))}class Ri{constructor(u){if(te(u,1,"ReadableStreamDefaultReader"),Mr(u,"First parameter"),lr(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,u),this._readRequests=new L}get closed(){return ar(this)?this._closedPromise:g(ka("closed"))}cancel(u=void 0){return ar(this)?this._ownerReadableStream===void 0?g(W("cancel")):q(this,u):g(ka("cancel"))}read(){if(!ar(this))return g(ka("read"));if(this._ownerReadableStream===void 0)return g(W("read from"));let u,h,b=m((O,x)=>{u=O,h=x});return Ai(this,{_chunkSteps:O=>u({value:O,done:!1}),_closeSteps:()=>u({value:void 0,done:!0}),_errorSteps:O=>h(O)}),b}releaseLock(){if(!ar(this))throw ka("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");R(this)}}}Object.defineProperties(Ri.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ri.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ar(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readRequests")?!1:o instanceof Ri}function Ai(o,u){let h=o._ownerReadableStream;h._disturbed=!0,h._state==="closed"?u._closeSteps():h._state==="errored"?u._errorSteps(h._storedError):h._readableStreamController[ut](u)}function ka(o){return new TypeError(`ReadableStreamDefaultReader.prototype.${o} can only be used on a ReadableStreamDefaultReader`)}let Vd=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Qd{constructor(u,h){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=u,this._preventCancel=h}next(){let u=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?P(this._ongoingPromise,u,u):u(),this._ongoingPromise}return(u){let h=()=>this._returnSteps(u);return this._ongoingPromise?P(this._ongoingPromise,h,h):h()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let u=this._reader;if(u._ownerReadableStream===void 0)return g(W("iterate"));let h,b,w=m((x,U)=>{h=x,b=U});return Ai(u,{_chunkSteps:x=>{this._ongoingPromise=void 0,D(()=>h({value:x,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,R(u),h({value:void 0,done:!0})},_errorSteps:x=>{this._ongoingPromise=void 0,this._isFinished=!0,R(u),b(x)}}),w}_returnSteps(u){if(this._isFinished)return Promise.resolve({value:u,done:!0});this._isFinished=!0;let h=this._reader;if(h._ownerReadableStream===void 0)return g(W("finish iterating"));if(!this._preventCancel){let b=q(h,u);return R(h),P(b,()=>({value:u,done:!0}))}return R(h),p({value:u,done:!0})}}let Kd={next(){return Xd(this)?this._asyncIteratorImpl.next():g(Zd("next"))},return(o){return Xd(this)?this._asyncIteratorImpl.return(o):g(Zd("return"))}};Vd!==void 0&&Object.setPrototypeOf(Kd,Vd);function $0(o,u){let h=bt(o),b=new Qd(h,u),w=Object.create(Kd);return w._asyncIteratorImpl=b,w}function Xd(o){if(!a(o)||!Object.prototype.hasOwnProperty.call(o,"_asyncIteratorImpl"))return!1;try{return o._asyncIteratorImpl instanceof Qd}catch{return!1}}function Zd(o){return new TypeError(`ReadableStreamAsyncIterator.${o} can only be used on a ReadableSteamAsyncIterator`)}let Jd=Number.isNaN||function(o){return o!==o};function Ti(o){return o.slice()}function eh(o,u,h,b,w){new Uint8Array(o).set(new Uint8Array(h,b,w),u)}function Hq(o){return o}function Da(o){return!1}function th(o,u,h){if(o.slice)return o.slice(u,h);let b=h-u,w=new ArrayBuffer(b);return eh(w,0,o,u,b),w}function W0(o){return!(typeof o!="number"||Jd(o)||o<0)}function rh(o){let u=th(o.buffer,o.byteOffset,o.byteOffset+o.byteLength);return new Uint8Array(u)}function du(o){let u=o._queue.shift();return o._queueTotalSize-=u.size,o._queueTotalSize<0&&(o._queueTotalSize=0),u.value}function hu(o,u,h){if(!W0(h)||h===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");o._queue.push({value:u,size:h}),o._queueTotalSize+=h}function j0(o){return o._queue.peek().value}function or(o){o._queue=new L,o._queueTotalSize=0}class Pi{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!pu(this))throw bu("view");return this._view}respond(u){if(!pu(this))throw bu("respond");if(te(u,1,"respond"),u=Se(u,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Da(this._view.buffer),Na(this._associatedReadableByteStreamController,u)}respondWithNewView(u){if(!pu(this))throw bu("respondWithNewView");if(te(u,1,"respondWithNewView"),!ArrayBuffer.isView(u))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Da(u.buffer),Ba(this._associatedReadableByteStreamController,u)}}Object.defineProperties(Pi.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Pi.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class wn{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!qr(this))throw xi("byobRequest");return gu(this)}get desiredSize(){if(!qr(this))throw xi("desiredSize");return lh(this)}close(){if(!qr(this))throw xi("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be closed`);Oi(this)}enqueue(u){if(!qr(this))throw xi("enqueue");if(te(u,1,"enqueue"),!ArrayBuffer.isView(u))throw new TypeError("chunk must be an array buffer view");if(u.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(u.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let h=this._controlledReadableByteStream._state;if(h!=="readable")throw new TypeError(`The stream (in ${h} state) is not in the readable state and cannot be enqueued to`);qa(this,u)}error(u=void 0){if(!qr(this))throw xi("error");vt(this,u)}[Te](u){nh(this),or(this);let h=this._cancelAlgorithm(u);return Ma(this),h}[ut](u){let h=this._controlledReadableByteStream;if(this._queueTotalSize>0){let w=this._queue.shift();this._queueTotalSize-=w.byteLength,sh(this);let O=new Uint8Array(w.buffer,w.byteOffset,w.byteLength);u._chunkSteps(O);return}let b=this._autoAllocateChunkSize;if(b!==void 0){let w;try{w=new ArrayBuffer(b)}catch(x){u._errorSteps(x);return}let O={buffer:w,bufferByteLength:b,byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(O)}zd(h,u),Nr(this)}}Object.defineProperties(wn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function qr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledReadableByteStream")?!1:o instanceof wn}function pu(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_associatedReadableByteStreamController")?!1:o instanceof Pi}function Nr(o){if(!Y0(o))return;if(o._pulling){o._pullAgain=!0;return}o._pulling=!0;let h=o._pullAlgorithm();v(h,()=>{o._pulling=!1,o._pullAgain&&(o._pullAgain=!1,Nr(o))},b=>{vt(o,b)})}function nh(o){yu(o),o._pendingPullIntos=new L}function mu(o,u){let h=!1;o._state==="closed"&&(h=!0);let b=ih(u);u.readerType==="default"?fu(o,b,h):K0(o,b,h)}function ih(o){let u=o.bytesFilled,h=o.elementSize;return new o.viewConstructor(o.buffer,o.byteOffset,u/h)}function La(o,u,h,b){o._queue.push({buffer:u,byteOffset:h,byteLength:b}),o._queueTotalSize+=b}function ah(o,u){let h=u.elementSize,b=u.bytesFilled-u.bytesFilled%h,w=Math.min(o._queueTotalSize,u.byteLength-u.bytesFilled),O=u.bytesFilled+w,x=O-O%h,U=w,J=!1;x>b&&(U=x-u.bytesFilled,J=!0);let re=o._queue;for(;U>0;){let ae=re.peek(),oe=Math.min(U,ae.byteLength),Pe=u.byteOffset+u.bytesFilled;eh(u.buffer,Pe,ae.buffer,ae.byteOffset,oe),ae.byteLength===oe?re.shift():(ae.byteOffset+=oe,ae.byteLength-=oe),o._queueTotalSize-=oe,oh(o,oe,u),U-=oe}return J}function oh(o,u,h){h.bytesFilled+=u}function sh(o){o._queueTotalSize===0&&o._closeRequested?(Ma(o),qi(o._controlledReadableByteStream)):Nr(o)}function yu(o){o._byobRequest!==null&&(o._byobRequest._associatedReadableByteStreamController=void 0,o._byobRequest._view=null,o._byobRequest=null)}function uh(o){for(;o._pendingPullIntos.length>0;){if(o._queueTotalSize===0)return;let u=o._pendingPullIntos.peek();ah(o,u)&&(Fa(o),mu(o._controlledReadableByteStream,u))}}function U0(o,u,h){let b=o._controlledReadableByteStream,w=1;u.constructor!==DataView&&(w=u.constructor.BYTES_PER_ELEMENT);let O=u.constructor,x=u.buffer,U={buffer:x,bufferByteLength:x.byteLength,byteOffset:u.byteOffset,byteLength:u.byteLength,bytesFilled:0,elementSize:w,viewConstructor:O,readerType:"byob"};if(o._pendingPullIntos.length>0){o._pendingPullIntos.push(U),hh(b,h);return}if(b._state==="closed"){let J=new O(U.buffer,U.byteOffset,0);h._closeSteps(J);return}if(o._queueTotalSize>0){if(ah(o,U)){let J=ih(U);sh(o),h._chunkSteps(J);return}if(o._closeRequested){let J=new TypeError("Insufficient bytes to fill elements in the given buffer");vt(o,J),h._errorSteps(J);return}}o._pendingPullIntos.push(U),hh(b,h),Nr(o)}function H0(o,u){let h=o._controlledReadableByteStream;if(vu(h))for(;ph(h)>0;){let b=Fa(o);mu(h,b)}}function z0(o,u,h){if(oh(o,u,h),h.bytesFilled<h.elementSize)return;Fa(o);let b=h.bytesFilled%h.elementSize;if(b>0){let w=h.byteOffset+h.bytesFilled,O=th(h.buffer,w-b,w);La(o,O,0,O.byteLength)}h.bytesFilled-=b,mu(o._controlledReadableByteStream,h),uh(o)}function ch(o,u){let h=o._pendingPullIntos.peek();yu(o),o._controlledReadableByteStream._state==="closed"?H0(o):z0(o,u,h),Nr(o)}function Fa(o){return o._pendingPullIntos.shift()}function Y0(o){let u=o._controlledReadableByteStream;return u._state!=="readable"||o._closeRequested||!o._started?!1:!!(Yd(u)&&Ia(u)>0||vu(u)&&ph(u)>0||lh(o)>0)}function Ma(o){o._pullAlgorithm=void 0,o._cancelAlgorithm=void 0}function Oi(o){let u=o._controlledReadableByteStream;if(!(o._closeRequested||u._state!=="readable")){if(o._queueTotalSize>0){o._closeRequested=!0;return}if(o._pendingPullIntos.length>0&&o._pendingPullIntos.peek().bytesFilled>0){let b=new TypeError("Insufficient bytes to fill elements in the given buffer");throw vt(o,b),b}Ma(o),qi(u)}}function qa(o,u){let h=o._controlledReadableByteStream;if(o._closeRequested||h._state!=="readable")return;let b=u.buffer,w=u.byteOffset,O=u.byteLength,x=b;if(o._pendingPullIntos.length>0){let U=o._pendingPullIntos.peek();Da(U.buffer),U.buffer=U.buffer}if(yu(o),Yd(h))if(Ia(h)===0)La(o,x,w,O);else{o._pendingPullIntos.length>0&&Fa(o);let U=new Uint8Array(x,w,O);fu(h,U,!1)}else vu(h)?(La(o,x,w,O),uh(o)):La(o,x,w,O);Nr(o)}function vt(o,u){let h=o._controlledReadableByteStream;h._state==="readable"&&(nh(o),or(o),Ma(o),Nh(h,u))}function gu(o){if(o._byobRequest===null&&o._pendingPullIntos.length>0){let u=o._pendingPullIntos.peek(),h=new Uint8Array(u.buffer,u.byteOffset+u.bytesFilled,u.byteLength-u.bytesFilled),b=Object.create(Pi.prototype);Q0(b,o,h),o._byobRequest=b}return o._byobRequest}function lh(o){let u=o._controlledReadableByteStream._state;return u==="errored"?null:u==="closed"?0:o._strategyHWM-o._queueTotalSize}function Na(o,u){let h=o._pendingPullIntos.peek();if(o._controlledReadableByteStream._state==="closed"){if(u!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(u===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(h.bytesFilled+u>h.byteLength)throw new RangeError("bytesWritten out of range")}h.buffer=h.buffer,ch(o,u)}function Ba(o,u){let h=o._pendingPullIntos.peek();if(o._controlledReadableByteStream._state==="closed"){if(u.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(u.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(h.byteOffset+h.bytesFilled!==u.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(h.bufferByteLength!==u.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(h.bytesFilled+u.byteLength>h.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let w=u.byteLength;h.buffer=u.buffer,ch(o,w)}function fh(o,u,h,b,w,O,x){u._controlledReadableByteStream=o,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,or(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=O,u._pullAlgorithm=b,u._cancelAlgorithm=w,u._autoAllocateChunkSize=x,u._pendingPullIntos=new L,o._readableStreamController=u;let U=h();v(p(U),()=>{u._started=!0,Nr(u)},J=>{vt(u,J)})}function V0(o,u,h){let b=Object.create(wn.prototype),w=()=>{},O=()=>p(void 0),x=()=>p(void 0);u.start!==void 0&&(w=()=>u.start(b)),u.pull!==void 0&&(O=()=>u.pull(b)),u.cancel!==void 0&&(x=J=>u.cancel(J));let U=u.autoAllocateChunkSize;if(U===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");fh(o,b,w,O,x,h,U)}function Q0(o,u,h){o._associatedReadableByteStreamController=u,o._view=h}function bu(o){return new TypeError(`ReadableStreamBYOBRequest.prototype.${o} can only be used on a ReadableStreamBYOBRequest`)}function xi(o){return new TypeError(`ReadableByteStreamController.prototype.${o} can only be used on a ReadableByteStreamController`)}function dh(o){return new Ci(o)}function hh(o,u){o._reader._readIntoRequests.push(u)}function K0(o,u,h){let w=o._reader._readIntoRequests.shift();h?w._closeSteps(u):w._chunkSteps(u)}function ph(o){return o._reader._readIntoRequests.length}function vu(o){let u=o._reader;return!(u===void 0||!Br(u))}class Ci{constructor(u){if(te(u,1,"ReadableStreamBYOBReader"),Mr(u,"First parameter"),lr(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!qr(u._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");C(this,u),this._readIntoRequests=new L}get closed(){return Br(this)?this._closedPromise:g(Ga("closed"))}cancel(u=void 0){return Br(this)?this._ownerReadableStream===void 0?g(W("cancel")):q(this,u):g(Ga("cancel"))}read(u){if(!Br(this))return g(Ga("read"));if(!ArrayBuffer.isView(u))return g(new TypeError("view must be an array buffer view"));if(u.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(u.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Da(u.buffer),this._ownerReadableStream===void 0)return g(W("read from"));let h,b,w=m((x,U)=>{h=x,b=U});return mh(this,u,{_chunkSteps:x=>h({value:x,done:!1}),_closeSteps:x=>h({value:x,done:!0}),_errorSteps:x=>b(x)}),w}releaseLock(){if(!Br(this))throw Ga("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");R(this)}}}Object.defineProperties(Ci.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ci.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Br(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readIntoRequests")?!1:o instanceof Ci}function mh(o,u,h){let b=o._ownerReadableStream;b._disturbed=!0,b._state==="errored"?h._errorSteps(b._storedError):U0(b._readableStreamController,u,h)}function Ga(o){return new TypeError(`ReadableStreamBYOBReader.prototype.${o} can only be used on a ReadableStreamBYOBReader`)}function Ii(o,u){let{highWaterMark:h}=o;if(h===void 0)return u;if(Jd(h)||h<0)throw new RangeError("Invalid highWaterMark");return h}function $a(o){let{size:u}=o;return u||(()=>1)}function Wa(o,u){V(o,u);let h=o==null?void 0:o.highWaterMark,b=o==null?void 0:o.size;return{highWaterMark:h===void 0?void 0:X(h),size:b===void 0?void 0:X0(b,`${u} has member 'size' that`)}}function X0(o,u){return Be(o,u),h=>X(o(h))}function Z0(o,u){V(o,u);let h=o==null?void 0:o.abort,b=o==null?void 0:o.close,w=o==null?void 0:o.start,O=o==null?void 0:o.type,x=o==null?void 0:o.write;return{abort:h===void 0?void 0:J0(h,o,`${u} has member 'abort' that`),close:b===void 0?void 0:eR(b,o,`${u} has member 'close' that`),start:w===void 0?void 0:tR(w,o,`${u} has member 'start' that`),write:x===void 0?void 0:rR(x,o,`${u} has member 'write' that`),type:O}}function J0(o,u,h){return Be(o,h),b=>M(o,u,[b])}function eR(o,u,h){return Be(o,h),()=>M(o,u,[])}function tR(o,u,h){return Be(o,h),b=>k(o,u,[b])}function rR(o,u,h){return Be(o,h),(b,w)=>M(o,u,[b,w])}function yh(o,u){if(!En(o))throw new TypeError(`${u} is not a WritableStream.`)}function nR(o){if(typeof o!="object"||o===null)return!1;try{return typeof o.aborted=="boolean"}catch{return!1}}let iR=typeof AbortController=="function";function aR(){if(iR)return new AbortController}class ki{constructor(u={},h={}){u===void 0?u=null:G(u,"First parameter");let b=Wa(h,"Second parameter"),w=Z0(u,"First parameter");if(bh(this),w.type!==void 0)throw new RangeError("Invalid type is specified");let x=$a(b),U=Ii(b,1);vR(this,w,U,x)}get locked(){if(!En(this))throw Ya("locked");return Rn(this)}abort(u=void 0){return En(this)?Rn(this)?g(new TypeError("Cannot abort a stream that already has a writer")):ja(this,u):g(Ya("abort"))}close(){return En(this)?Rn(this)?g(new TypeError("Cannot close a stream that already has a writer")):Tt(this)?g(new TypeError("Cannot close an already-closing stream")):vh(this):g(Ya("close"))}getWriter(){if(!En(this))throw Ya("getWriter");return gh(this)}}Object.defineProperties(ki.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ki.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function gh(o){return new Di(o)}function oR(o,u,h,b,w=1,O=()=>1){let x=Object.create(ki.prototype);bh(x);let U=Object.create(An.prototype);return Ah(x,U,o,u,h,b,w,O),x}function bh(o){o._state="writable",o._storedError=void 0,o._writer=void 0,o._writableStreamController=void 0,o._writeRequests=new L,o._inFlightWriteRequest=void 0,o._closeRequest=void 0,o._inFlightCloseRequest=void 0,o._pendingAbortRequest=void 0,o._backpressure=!1}function En(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_writableStreamController")?!1:o instanceof ki}function Rn(o){return o._writer!==void 0}function ja(o,u){var h;if(o._state==="closed"||o._state==="errored")return p(void 0);o._writableStreamController._abortReason=u,(h=o._writableStreamController._abortController)===null||h===void 0||h.abort();let b=o._state;if(b==="closed"||b==="errored")return p(void 0);if(o._pendingAbortRequest!==void 0)return o._pendingAbortRequest._promise;let w=!1;b==="erroring"&&(w=!0,u=void 0);let O=m((x,U)=>{o._pendingAbortRequest={_promise:void 0,_resolve:x,_reject:U,_reason:u,_wasAlreadyErroring:w}});return o._pendingAbortRequest._promise=O,w||_u(o,u),O}function vh(o){let u=o._state;if(u==="closed"||u==="errored")return g(new TypeError(`The stream (in ${u} state) is not in the writable state and cannot be closed`));let h=m((w,O)=>{let x={_resolve:w,_reject:O};o._closeRequest=x}),b=o._writer;return b!==void 0&&o._backpressure&&u==="writable"&&Cu(b),SR(o._writableStreamController),h}function sR(o){return m((h,b)=>{let w={_resolve:h,_reject:b};o._writeRequests.push(w)})}function Su(o,u){if(o._state==="writable"){_u(o,u);return}wu(o)}function _u(o,u){let h=o._writableStreamController;o._state="erroring",o._storedError=u;let b=o._writer;b!==void 0&&_h(b,u),!dR(o)&&h._started&&wu(o)}function wu(o){o._state="errored",o._writableStreamController[ke]();let u=o._storedError;if(o._writeRequests.forEach(w=>{w._reject(u)}),o._writeRequests=new L,o._pendingAbortRequest===void 0){Ua(o);return}let h=o._pendingAbortRequest;if(o._pendingAbortRequest=void 0,h._wasAlreadyErroring){h._reject(u),Ua(o);return}let b=o._writableStreamController[K](h._reason);v(b,()=>{h._resolve(),Ua(o)},w=>{h._reject(w),Ua(o)})}function uR(o){o._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0}function cR(o,u){o._inFlightWriteRequest._reject(u),o._inFlightWriteRequest=void 0,Su(o,u)}function lR(o){o._inFlightCloseRequest._resolve(void 0),o._inFlightCloseRequest=void 0,o._state==="erroring"&&(o._storedError=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._resolve(),o._pendingAbortRequest=void 0)),o._state="closed";let h=o._writer;h!==void 0&&xh(h)}function fR(o,u){o._inFlightCloseRequest._reject(u),o._inFlightCloseRequest=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._reject(u),o._pendingAbortRequest=void 0),Su(o,u)}function Tt(o){return!(o._closeRequest===void 0&&o._inFlightCloseRequest===void 0)}function dR(o){return!(o._inFlightWriteRequest===void 0&&o._inFlightCloseRequest===void 0)}function hR(o){o._inFlightCloseRequest=o._closeRequest,o._closeRequest=void 0}function pR(o){o._inFlightWriteRequest=o._writeRequests.shift()}function Ua(o){o._closeRequest!==void 0&&(o._closeRequest._reject(o._storedError),o._closeRequest=void 0);let u=o._writer;u!==void 0&&Ou(u,o._storedError)}function Eu(o,u){let h=o._writer;h!==void 0&&u!==o._backpressure&&(u?PR(h):Cu(h)),o._backpressure=u}class Di{constructor(u){if(te(u,1,"WritableStreamDefaultWriter"),yh(u,"First parameter"),Rn(u))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=u,u._writer=this;let h=u._state;if(h==="writable")!Tt(u)&&u._backpressure?Qa(this):Ch(this),Va(this);else if(h==="erroring")xu(this,u._storedError),Va(this);else if(h==="closed")Ch(this),AR(this);else{let b=u._storedError;xu(this,b),Oh(this,b)}}get closed(){return Gr(this)?this._closedPromise:g($r("closed"))}get desiredSize(){if(!Gr(this))throw $r("desiredSize");if(this._ownerWritableStream===void 0)throw Li("desiredSize");return bR(this)}get ready(){return Gr(this)?this._readyPromise:g($r("ready"))}abort(u=void 0){return Gr(this)?this._ownerWritableStream===void 0?g(Li("abort")):mR(this,u):g($r("abort"))}close(){if(!Gr(this))return g($r("close"));let u=this._ownerWritableStream;return u===void 0?g(Li("close")):Tt(u)?g(new TypeError("Cannot close an already-closing stream")):Sh(this)}releaseLock(){if(!Gr(this))throw $r("releaseLock");this._ownerWritableStream!==void 0&&wh(this)}write(u=void 0){return Gr(this)?this._ownerWritableStream===void 0?g(Li("write to")):Eh(this,u):g($r("write"))}}Object.defineProperties(Di.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Di.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Gr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_ownerWritableStream")?!1:o instanceof Di}function mR(o,u){let h=o._ownerWritableStream;return ja(h,u)}function Sh(o){let u=o._ownerWritableStream;return vh(u)}function yR(o){let u=o._ownerWritableStream,h=u._state;return Tt(u)||h==="closed"?p(void 0):h==="errored"?g(u._storedError):Sh(o)}function gR(o,u){o._closedPromiseState==="pending"?Ou(o,u):TR(o,u)}function _h(o,u){o._readyPromiseState==="pending"?Ih(o,u):OR(o,u)}function bR(o){let u=o._ownerWritableStream,h=u._state;return h==="errored"||h==="erroring"?null:h==="closed"?0:Th(u._writableStreamController)}function wh(o){let u=o._ownerWritableStream,h=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_h(o,h),gR(o,h),u._writer=void 0,o._ownerWritableStream=void 0}function Eh(o,u){let h=o._ownerWritableStream,b=h._writableStreamController,w=_R(b,u);if(h!==o._ownerWritableStream)return g(Li("write to"));let O=h._state;if(O==="errored")return g(h._storedError);if(Tt(h)||O==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(O==="erroring")return g(h._storedError);let x=sR(h);return wR(b,u,w),x}let Rh={};class An{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ru(this))throw Pu("abortReason");return this._abortReason}get signal(){if(!Ru(this))throw Pu("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(u=void 0){if(!Ru(this))throw Pu("error");this._controlledWritableStream._state==="writable"&&Ph(this,u)}[K](u){let h=this._abortAlgorithm(u);return Ha(this),h}[ke](){or(this)}}Object.defineProperties(An.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(An.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Ru(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledWritableStream")?!1:o instanceof An}function Ah(o,u,h,b,w,O,x,U){u._controlledWritableStream=o,o._writableStreamController=u,u._queue=void 0,u._queueTotalSize=void 0,or(u),u._abortReason=void 0,u._abortController=aR(),u._started=!1,u._strategySizeAlgorithm=U,u._strategyHWM=x,u._writeAlgorithm=b,u._closeAlgorithm=w,u._abortAlgorithm=O;let J=Tu(u);Eu(o,J);let re=h(),ae=p(re);v(ae,()=>{u._started=!0,za(u)},oe=>{u._started=!0,Su(o,oe)})}function vR(o,u,h,b){let w=Object.create(An.prototype),O=()=>{},x=()=>p(void 0),U=()=>p(void 0),J=()=>p(void 0);u.start!==void 0&&(O=()=>u.start(w)),u.write!==void 0&&(x=re=>u.write(re,w)),u.close!==void 0&&(U=()=>u.close()),u.abort!==void 0&&(J=re=>u.abort(re)),Ah(o,w,O,x,U,J,h,b)}function Ha(o){o._writeAlgorithm=void 0,o._closeAlgorithm=void 0,o._abortAlgorithm=void 0,o._strategySizeAlgorithm=void 0}function SR(o){hu(o,Rh,0),za(o)}function _R(o,u){try{return o._strategySizeAlgorithm(u)}catch(h){return Au(o,h),1}}function Th(o){return o._strategyHWM-o._queueTotalSize}function wR(o,u,h){try{hu(o,u,h)}catch(w){Au(o,w);return}let b=o._controlledWritableStream;if(!Tt(b)&&b._state==="writable"){let w=Tu(o);Eu(b,w)}za(o)}function za(o){let u=o._controlledWritableStream;if(!o._started||u._inFlightWriteRequest!==void 0)return;if(u._state==="erroring"){wu(u);return}if(o._queue.length===0)return;let b=j0(o);b===Rh?ER(o):RR(o,b)}function Au(o,u){o._controlledWritableStream._state==="writable"&&Ph(o,u)}function ER(o){let u=o._controlledWritableStream;hR(u),du(o);let h=o._closeAlgorithm();Ha(o),v(h,()=>{lR(u)},b=>{fR(u,b)})}function RR(o,u){let h=o._controlledWritableStream;pR(h);let b=o._writeAlgorithm(u);v(b,()=>{uR(h);let w=h._state;if(du(o),!Tt(h)&&w==="writable"){let O=Tu(o);Eu(h,O)}za(o)},w=>{h._state==="writable"&&Ha(o),cR(h,w)})}function Tu(o){return Th(o)<=0}function Ph(o,u){let h=o._controlledWritableStream;Ha(o),_u(h,u)}function Ya(o){return new TypeError(`WritableStream.prototype.${o} can only be used on a WritableStream`)}function Pu(o){return new TypeError(`WritableStreamDefaultController.prototype.${o} can only be used on a WritableStreamDefaultController`)}function $r(o){return new TypeError(`WritableStreamDefaultWriter.prototype.${o} can only be used on a WritableStreamDefaultWriter`)}function Li(o){return new TypeError("Cannot "+o+" a stream using a released writer")}function Va(o){o._closedPromise=m((u,h)=>{o._closedPromise_resolve=u,o._closedPromise_reject=h,o._closedPromiseState="pending"})}function Oh(o,u){Va(o),Ou(o,u)}function AR(o){Va(o),xh(o)}function Ou(o,u){o._closedPromise_reject!==void 0&&(I(o._closedPromise),o._closedPromise_reject(u),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0,o._closedPromiseState="rejected")}function TR(o,u){Oh(o,u)}function xh(o){o._closedPromise_resolve!==void 0&&(o._closedPromise_resolve(void 0),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0,o._closedPromiseState="resolved")}function Qa(o){o._readyPromise=m((u,h)=>{o._readyPromise_resolve=u,o._readyPromise_reject=h}),o._readyPromiseState="pending"}function xu(o,u){Qa(o),Ih(o,u)}function Ch(o){Qa(o),Cu(o)}function Ih(o,u){o._readyPromise_reject!==void 0&&(I(o._readyPromise),o._readyPromise_reject(u),o._readyPromise_resolve=void 0,o._readyPromise_reject=void 0,o._readyPromiseState="rejected")}function PR(o){Qa(o)}function OR(o,u){xu(o,u)}function Cu(o){o._readyPromise_resolve!==void 0&&(o._readyPromise_resolve(void 0),o._readyPromise_resolve=void 0,o._readyPromise_reject=void 0,o._readyPromiseState="fulfilled")}let kh=typeof DOMException<"u"?DOMException:void 0;function xR(o){if(!(typeof o=="function"||typeof o=="object"))return!1;try{return new o,!0}catch{return!1}}function CR(){let o=function(h,b){this.message=h||"",this.name=b||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return o.prototype=Object.create(Error.prototype),Object.defineProperty(o.prototype,"constructor",{value:o,writable:!0,configurable:!0}),o}let IR=xR(kh)?kh:CR();function Dh(o,u,h,b,w,O){let x=bt(o),U=gh(u);o._disturbed=!0;let J=!1,re=p(void 0);return m((ae,oe)=>{let Pe;if(O!==void 0){if(Pe=()=>{let Y=new IR("Aborted","AbortError"),ee=[];b||ee.push(()=>u._state==="writable"?ja(u,Y):p(void 0)),w||ee.push(()=>o._state==="readable"?St(o,Y):p(void 0)),Ke(()=>Promise.all(ee.map(me=>me())),!0,Y)},O.aborted){Pe();return}O.addEventListener("abort",Pe)}function _t(){return m((Y,ee)=>{function me(tt){tt?Y():y(On(),me,ee)}me(!1)})}function On(){return J?p(!0):y(U._readyPromise,()=>m((Y,ee)=>{Ai(x,{_chunkSteps:me=>{re=y(Eh(U,me),void 0,r),Y(!1)},_closeSteps:()=>Y(!0),_errorSteps:ee})}))}if(Wt(o,x._closedPromise,Y=>{b?ct(!0,Y):Ke(()=>ja(u,Y),!0,Y)}),Wt(u,U._closedPromise,Y=>{w?ct(!0,Y):Ke(()=>St(o,Y),!0,Y)}),He(o,x._closedPromise,()=>{h?ct():Ke(()=>yR(U))}),Tt(u)||u._state==="closed"){let Y=new TypeError("the destination writable stream closed before all data could be piped to it");w?ct(!0,Y):Ke(()=>St(o,Y),!0,Y)}I(_t());function fr(){let Y=re;return y(re,()=>Y!==re?fr():void 0)}function Wt(Y,ee,me){Y._state==="errored"?me(Y._storedError):E(ee,me)}function He(Y,ee,me){Y._state==="closed"?me():_(ee,me)}function Ke(Y,ee,me){if(J)return;J=!0,u._state==="writable"&&!Tt(u)?_(fr(),tt):tt();function tt(){v(Y(),()=>jt(ee,me),xn=>jt(!0,xn))}}function ct(Y,ee){J||(J=!0,u._state==="writable"&&!Tt(u)?_(fr(),()=>jt(Y,ee)):jt(Y,ee))}function jt(Y,ee){wh(U),R(x),O!==void 0&&O.removeEventListener("abort",Pe),Y?oe(ee):ae(void 0)}})}class Tn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ka(this))throw Ja("desiredSize");return Iu(this)}close(){if(!Ka(this))throw Ja("close");if(!Pn(this))throw new TypeError("The stream is not in a state that permits close");Mi(this)}enqueue(u=void 0){if(!Ka(this))throw Ja("enqueue");if(!Pn(this))throw new TypeError("The stream is not in a state that permits enqueue");return Za(this,u)}error(u=void 0){if(!Ka(this))throw Ja("error");sr(this,u)}[Te](u){or(this);let h=this._cancelAlgorithm(u);return Xa(this),h}[ut](u){let h=this._controlledReadableStream;if(this._queue.length>0){let b=du(this);this._closeRequested&&this._queue.length===0?(Xa(this),qi(h)):Fi(this),u._chunkSteps(b)}else zd(h,u),Fi(this)}}Object.defineProperties(Tn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Tn.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ka(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledReadableStream")?!1:o instanceof Tn}function Fi(o){if(!Lh(o))return;if(o._pulling){o._pullAgain=!0;return}o._pulling=!0;let h=o._pullAlgorithm();v(h,()=>{o._pulling=!1,o._pullAgain&&(o._pullAgain=!1,Fi(o))},b=>{sr(o,b)})}function Lh(o){let u=o._controlledReadableStream;return!Pn(o)||!o._started?!1:!!(lr(u)&&Ia(u)>0||Iu(o)>0)}function Xa(o){o._pullAlgorithm=void 0,o._cancelAlgorithm=void 0,o._strategySizeAlgorithm=void 0}function Mi(o){if(!Pn(o))return;let u=o._controlledReadableStream;o._closeRequested=!0,o._queue.length===0&&(Xa(o),qi(u))}function Za(o,u){if(!Pn(o))return;let h=o._controlledReadableStream;if(lr(h)&&Ia(h)>0)fu(h,u,!1);else{let b;try{b=o._strategySizeAlgorithm(u)}catch(w){throw sr(o,w),w}try{hu(o,u,b)}catch(w){throw sr(o,w),w}}Fi(o)}function sr(o,u){let h=o._controlledReadableStream;h._state==="readable"&&(or(o),Xa(o),Nh(h,u))}function Iu(o){let u=o._controlledReadableStream._state;return u==="errored"?null:u==="closed"?0:o._strategyHWM-o._queueTotalSize}function kR(o){return!Lh(o)}function Pn(o){let u=o._controlledReadableStream._state;return!o._closeRequested&&u==="readable"}function Fh(o,u,h,b,w,O,x){u._controlledReadableStream=o,u._queue=void 0,u._queueTotalSize=void 0,or(u),u._started=!1,u._closeRequested=!1,u._pullAgain=!1,u._pulling=!1,u._strategySizeAlgorithm=x,u._strategyHWM=O,u._pullAlgorithm=b,u._cancelAlgorithm=w,o._readableStreamController=u;let U=h();v(p(U),()=>{u._started=!0,Fi(u)},J=>{sr(u,J)})}function DR(o,u,h,b){let w=Object.create(Tn.prototype),O=()=>{},x=()=>p(void 0),U=()=>p(void 0);u.start!==void 0&&(O=()=>u.start(w)),u.pull!==void 0&&(x=()=>u.pull(w)),u.cancel!==void 0&&(U=J=>u.cancel(J)),Fh(o,w,O,x,U,h,b)}function Ja(o){return new TypeError(`ReadableStreamDefaultController.prototype.${o} can only be used on a ReadableStreamDefaultController`)}function LR(o,u){return qr(o._readableStreamController)?MR(o):FR(o)}function FR(o,u){let h=bt(o),b=!1,w=!1,O=!1,x=!1,U,J,re,ae,oe,Pe=m(He=>{oe=He});function _t(){return b?(w=!0,p(void 0)):(b=!0,Ai(h,{_chunkSteps:Ke=>{D(()=>{w=!1;let ct=Ke,jt=Ke;O||Za(re._readableStreamController,ct),x||Za(ae._readableStreamController,jt),b=!1,w&&_t()})},_closeSteps:()=>{b=!1,O||Mi(re._readableStreamController),x||Mi(ae._readableStreamController),(!O||!x)&&oe(void 0)},_errorSteps:()=>{b=!1}}),p(void 0))}function On(He){if(O=!0,U=He,x){let Ke=Ti([U,J]),ct=St(o,Ke);oe(ct)}return Pe}function fr(He){if(x=!0,J=He,O){let Ke=Ti([U,J]),ct=St(o,Ke);oe(ct)}return Pe}function Wt(){}return re=ku(Wt,_t,On),ae=ku(Wt,_t,fr),E(h._closedPromise,He=>{sr(re._readableStreamController,He),sr(ae._readableStreamController,He),(!O||!x)&&oe(void 0)}),[re,ae]}function MR(o){let u=bt(o),h=!1,b=!1,w=!1,O=!1,x=!1,U,J,re,ae,oe,Pe=m(Y=>{oe=Y});function _t(Y){E(Y._closedPromise,ee=>{Y===u&&(vt(re._readableStreamController,ee),vt(ae._readableStreamController,ee),(!O||!x)&&oe(void 0))})}function On(){Br(u)&&(R(u),u=bt(o),_t(u)),Ai(u,{_chunkSteps:ee=>{D(()=>{b=!1,w=!1;let me=ee,tt=ee;if(!O&&!x)try{tt=rh(ee)}catch(xn){vt(re._readableStreamController,xn),vt(ae._readableStreamController,xn),oe(St(o,xn));return}O||qa(re._readableStreamController,me),x||qa(ae._readableStreamController,tt),h=!1,b?Wt():w&&He()})},_closeSteps:()=>{h=!1,O||Oi(re._readableStreamController),x||Oi(ae._readableStreamController),re._readableStreamController._pendingPullIntos.length>0&&Na(re._readableStreamController,0),ae._readableStreamController._pendingPullIntos.length>0&&Na(ae._readableStreamController,0),(!O||!x)&&oe(void 0)},_errorSteps:()=>{h=!1}})}function fr(Y,ee){ar(u)&&(R(u),u=dh(o),_t(u));let me=ee?ae:re,tt=ee?re:ae;mh(u,Y,{_chunkSteps:Cn=>{D(()=>{b=!1,w=!1;let In=ee?x:O;if(ee?O:x)In||Ba(me._readableStreamController,Cn);else{let Xh;try{Xh=rh(Cn)}catch(Lu){vt(me._readableStreamController,Lu),vt(tt._readableStreamController,Lu),oe(St(o,Lu));return}In||Ba(me._readableStreamController,Cn),qa(tt._readableStreamController,Xh)}h=!1,b?Wt():w&&He()})},_closeSteps:Cn=>{h=!1;let In=ee?x:O,uo=ee?O:x;In||Oi(me._readableStreamController),uo||Oi(tt._readableStreamController),Cn!==void 0&&(In||Ba(me._readableStreamController,Cn),!uo&&tt._readableStreamController._pendingPullIntos.length>0&&Na(tt._readableStreamController,0)),(!In||!uo)&&oe(void 0)},_errorSteps:()=>{h=!1}})}function Wt(){if(h)return b=!0,p(void 0);h=!0;let Y=gu(re._readableStreamController);return Y===null?On():fr(Y._view,!1),p(void 0)}function He(){if(h)return w=!0,p(void 0);h=!0;let Y=gu(ae._readableStreamController);return Y===null?On():fr(Y._view,!0),p(void 0)}function Ke(Y){if(O=!0,U=Y,x){let ee=Ti([U,J]),me=St(o,ee);oe(me)}return Pe}function ct(Y){if(x=!0,J=Y,O){let ee=Ti([U,J]),me=St(o,ee);oe(me)}return Pe}function jt(){}return re=qh(jt,Wt,Ke),ae=qh(jt,He,ct),_t(u),[re,ae]}function qR(o,u){V(o,u);let h=o,b=h==null?void 0:h.autoAllocateChunkSize,w=h==null?void 0:h.cancel,O=h==null?void 0:h.pull,x=h==null?void 0:h.start,U=h==null?void 0:h.type;return{autoAllocateChunkSize:b===void 0?void 0:Se(b,`${u} has member 'autoAllocateChunkSize' that`),cancel:w===void 0?void 0:NR(w,h,`${u} has member 'cancel' that`),pull:O===void 0?void 0:BR(O,h,`${u} has member 'pull' that`),start:x===void 0?void 0:GR(x,h,`${u} has member 'start' that`),type:U===void 0?void 0:$R(U,`${u} has member 'type' that`)}}function NR(o,u,h){return Be(o,h),b=>M(o,u,[b])}function BR(o,u,h){return Be(o,h),b=>M(o,u,[b])}function GR(o,u,h){return Be(o,h),b=>k(o,u,[b])}function $R(o,u){if(o=`${o}`,o!=="bytes")throw new TypeError(`${u} '${o}' is not a valid enumeration value for ReadableStreamType`);return o}function WR(o,u){V(o,u);let h=o==null?void 0:o.mode;return{mode:h===void 0?void 0:jR(h,`${u} has member 'mode' that`)}}function jR(o,u){if(o=`${o}`,o!=="byob")throw new TypeError(`${u} '${o}' is not a valid enumeration value for ReadableStreamReaderMode`);return o}function UR(o,u){V(o,u);let h=o==null?void 0:o.preventCancel;return{preventCancel:Boolean(h)}}function Mh(o,u){V(o,u);let h=o==null?void 0:o.preventAbort,b=o==null?void 0:o.preventCancel,w=o==null?void 0:o.preventClose,O=o==null?void 0:o.signal;return O!==void 0&&HR(O,`${u} has member 'signal' that`),{preventAbort:Boolean(h),preventCancel:Boolean(b),preventClose:Boolean(w),signal:O}}function HR(o,u){if(!nR(o))throw new TypeError(`${u} is not an AbortSignal.`)}function zR(o,u){V(o,u);let h=o==null?void 0:o.readable;F(h,"readable","ReadableWritablePair"),Mr(h,`${u} has member 'readable' that`);let b=o==null?void 0:o.writable;return F(b,"writable","ReadableWritablePair"),yh(b,`${u} has member 'writable' that`),{readable:h,writable:b}}class ur{constructor(u={},h={}){u===void 0?u=null:G(u,"First parameter");let b=Wa(h,"Second parameter"),w=qR(u,"First parameter");if(Du(this),w.type==="bytes"){if(b.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let O=Ii(b,0);V0(this,w,O)}else{let O=$a(b),x=Ii(b,1);DR(this,w,x,O)}}get locked(){if(!cr(this))throw Wr("locked");return lr(this)}cancel(u=void 0){return cr(this)?lr(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):St(this,u):g(Wr("cancel"))}getReader(u=void 0){if(!cr(this))throw Wr("getReader");return WR(u,"First parameter").mode===void 0?bt(this):dh(this)}pipeThrough(u,h={}){if(!cr(this))throw Wr("pipeThrough");te(u,1,"pipeThrough");let b=zR(u,"First parameter"),w=Mh(h,"Second parameter");if(lr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Rn(b.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let O=Dh(this,b.writable,w.preventClose,w.preventAbort,w.preventCancel,w.signal);return I(O),b.readable}pipeTo(u,h={}){if(!cr(this))return g(Wr("pipeTo"));if(u===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!En(u))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let b;try{b=Mh(h,"Second parameter")}catch(w){return g(w)}return lr(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Rn(u)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Dh(this,u,b.preventClose,b.preventAbort,b.preventCancel,b.signal)}tee(){if(!cr(this))throw Wr("tee");let u=LR(this);return Ti(u)}values(u=void 0){if(!cr(this))throw Wr("values");let h=UR(u,"First parameter");return $0(this,h.preventCancel)}}Object.defineProperties(ur.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(ur.prototype,t.asyncIterator,{value:ur.prototype.values,writable:!0,configurable:!0});function ku(o,u,h,b=1,w=()=>1){let O=Object.create(ur.prototype);Du(O);let x=Object.create(Tn.prototype);return Fh(O,x,o,u,h,b,w),O}function qh(o,u,h){let b=Object.create(ur.prototype);Du(b);let w=Object.create(wn.prototype);return fh(b,w,o,u,h,0,void 0),b}function Du(o){o._state="readable",o._reader=void 0,o._storedError=void 0,o._disturbed=!1}function cr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readableStreamController")?!1:o instanceof ur}function lr(o){return o._reader!==void 0}function St(o,u){if(o._disturbed=!0,o._state==="closed")return p(void 0);if(o._state==="errored")return g(o._storedError);qi(o);let h=o._reader;h!==void 0&&Br(h)&&(h._readIntoRequests.forEach(w=>{w._closeSteps(void 0)}),h._readIntoRequests=new L);let b=o._readableStreamController[Te](u);return P(b,r)}function qi(o){o._state="closed";let u=o._reader;u!==void 0&&(j(u),ar(u)&&(u._readRequests.forEach(h=>{h._closeSteps()}),u._readRequests=new L))}function Nh(o,u){o._state="errored",o._storedError=u;let h=o._reader;h!==void 0&&(T(h,u),ar(h)?(h._readRequests.forEach(b=>{b._errorSteps(u)}),h._readRequests=new L):(h._readIntoRequests.forEach(b=>{b._errorSteps(u)}),h._readIntoRequests=new L))}function Wr(o){return new TypeError(`ReadableStream.prototype.${o} can only be used on a ReadableStream`)}function Bh(o,u){V(o,u);let h=o==null?void 0:o.highWaterMark;return F(h,"highWaterMark","QueuingStrategyInit"),{highWaterMark:X(h)}}let Gh=o=>o.byteLength;try{Object.defineProperty(Gh,"name",{value:"size",configurable:!0})}catch{}class eo{constructor(u){te(u,1,"ByteLengthQueuingStrategy"),u=Bh(u,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!Wh(this))throw $h("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Wh(this))throw $h("size");return Gh}}Object.defineProperties(eo.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(eo.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function $h(o){return new TypeError(`ByteLengthQueuingStrategy.prototype.${o} can only be used on a ByteLengthQueuingStrategy`)}function Wh(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_byteLengthQueuingStrategyHighWaterMark")?!1:o instanceof eo}let jh=()=>1;try{Object.defineProperty(jh,"name",{value:"size",configurable:!0})}catch{}class to{constructor(u){te(u,1,"CountQueuingStrategy"),u=Bh(u,"First parameter"),this._countQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!Hh(this))throw Uh("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Hh(this))throw Uh("size");return jh}}Object.defineProperties(to.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(to.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Uh(o){return new TypeError(`CountQueuingStrategy.prototype.${o} can only be used on a CountQueuingStrategy`)}function Hh(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_countQueuingStrategyHighWaterMark")?!1:o instanceof to}function YR(o,u){V(o,u);let h=o==null?void 0:o.flush,b=o==null?void 0:o.readableType,w=o==null?void 0:o.start,O=o==null?void 0:o.transform,x=o==null?void 0:o.writableType;return{flush:h===void 0?void 0:VR(h,o,`${u} has member 'flush' that`),readableType:b,start:w===void 0?void 0:QR(w,o,`${u} has member 'start' that`),transform:O===void 0?void 0:KR(O,o,`${u} has member 'transform' that`),writableType:x}}function VR(o,u,h){return Be(o,h),b=>M(o,u,[b])}function QR(o,u,h){return Be(o,h),b=>k(o,u,[b])}function KR(o,u,h){return Be(o,h),(b,w)=>M(o,u,[b,w])}class ro{constructor(u={},h={},b={}){u===void 0&&(u=null);let w=Wa(h,"Second parameter"),O=Wa(b,"Third parameter"),x=YR(u,"First parameter");if(x.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(x.writableType!==void 0)throw new RangeError("Invalid writableType specified");let U=Ii(O,0),J=$a(O),re=Ii(w,1),ae=$a(w),oe,Pe=m(_t=>{oe=_t});XR(this,Pe,re,ae,U,J),JR(this,x),x.start!==void 0?oe(x.start(this._transformStreamController)):oe(void 0)}get readable(){if(!zh(this))throw Kh("readable");return this._readable}get writable(){if(!zh(this))throw Kh("writable");return this._writable}}Object.defineProperties(ro.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ro.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function XR(o,u,h,b,w,O){function x(){return u}function U(Pe){return rA(o,Pe)}function J(Pe){return nA(o,Pe)}function re(){return iA(o)}o._writable=oR(x,U,re,J,h,b);function ae(){return aA(o)}function oe(Pe){return io(o,Pe),p(void 0)}o._readable=ku(x,ae,oe,w,O),o._backpressure=void 0,o._backpressureChangePromise=void 0,o._backpressureChangePromise_resolve=void 0,ao(o,!0),o._transformStreamController=void 0}function zh(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_transformStreamController")?!1:o instanceof ro}function no(o,u){sr(o._readable._readableStreamController,u),io(o,u)}function io(o,u){Yh(o._transformStreamController),Au(o._writable._writableStreamController,u),o._backpressure&&ao(o,!1)}function ao(o,u){o._backpressureChangePromise!==void 0&&o._backpressureChangePromise_resolve(),o._backpressureChangePromise=m(h=>{o._backpressureChangePromise_resolve=h}),o._backpressure=u}class Ni{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!oo(this))throw so("desiredSize");let u=this._controlledTransformStream._readable._readableStreamController;return Iu(u)}enqueue(u=void 0){if(!oo(this))throw so("enqueue");Vh(this,u)}error(u=void 0){if(!oo(this))throw so("error");eA(this,u)}terminate(){if(!oo(this))throw so("terminate");tA(this)}}Object.defineProperties(Ni.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ni.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function oo(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledTransformStream")?!1:o instanceof Ni}function ZR(o,u,h,b){u._controlledTransformStream=o,o._transformStreamController=u,u._transformAlgorithm=h,u._flushAlgorithm=b}function JR(o,u){let h=Object.create(Ni.prototype),b=O=>{try{return Vh(h,O),p(void 0)}catch(x){return g(x)}},w=()=>p(void 0);u.transform!==void 0&&(b=O=>u.transform(O,h)),u.flush!==void 0&&(w=()=>u.flush(h)),ZR(o,h,b,w)}function Yh(o){o._transformAlgorithm=void 0,o._flushAlgorithm=void 0}function Vh(o,u){let h=o._controlledTransformStream,b=h._readable._readableStreamController;if(!Pn(b))throw new TypeError("Readable side is not in a state that permits enqueue");try{Za(b,u)}catch(O){throw io(h,O),h._readable._storedError}kR(b)!==h._backpressure&&ao(h,!0)}function eA(o,u){no(o._controlledTransformStream,u)}function Qh(o,u){let h=o._transformAlgorithm(u);return P(h,void 0,b=>{throw no(o._controlledTransformStream,b),b})}function tA(o){let u=o._controlledTransformStream,h=u._readable._readableStreamController;Mi(h);let b=new TypeError("TransformStream terminated");io(u,b)}function rA(o,u){let h=o._transformStreamController;if(o._backpressure){let b=o._backpressureChangePromise;return P(b,()=>{let w=o._writable;if(w._state==="erroring")throw w._storedError;return Qh(h,u)})}return Qh(h,u)}function nA(o,u){return no(o,u),p(void 0)}function iA(o){let u=o._readable,h=o._transformStreamController,b=h._flushAlgorithm();return Yh(h),P(b,()=>{if(u._state==="errored")throw u._storedError;Mi(u._readableStreamController)},w=>{throw no(o,w),u._storedError})}function aA(o){return ao(o,!1),o._backpressureChangePromise}function so(o){return new TypeError(`TransformStreamDefaultController.prototype.${o} can only be used on a TransformStreamDefaultController`)}function Kh(o){return new TypeError(`TransformStream.prototype.${o} can only be used on a TransformStream`)}e.ByteLengthQueuingStrategy=eo,e.CountQueuingStrategy=to,e.ReadableByteStreamController=wn,e.ReadableStream=ur,e.ReadableStreamBYOBReader=Ci,e.ReadableStreamBYOBRequest=Pi,e.ReadableStreamDefaultController=Tn,e.ReadableStreamDefaultReader=Ri,e.TransformStream=ro,e.TransformStreamDefaultController=Ni,e.WritableStream=ki,e.WritableStreamDefaultController=An,e.WritableStreamDefaultWriter=Di,Object.defineProperty(e,"__esModule",{value:!0})})});var op=S(()=>{if(!globalThis.ReadableStream)try{let e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,ap())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(a){let l=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=l.byteLength,a.enqueue(new Uint8Array(l)),n===i.size&&a.close()}})})}catch{}});async function*Mu(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let a=Math.min(i-n,sp),s=r.buffer.slice(n,n+a);n+=s.byteLength,yield new Uint8Array(s)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let s=await i.slice(n,Math.min(i.size,n+sp)).arrayBuffer();n+=s.byteLength,yield new Uint8Array(s)}}}var Kq,sp,up,pA,Ut,$i=Gi(()=>{Kq=_e(op(),1);sp=65536;up=class qu{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],r={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of t){let s;ArrayBuffer.isView(a)?s=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?s=new Uint8Array(a.slice(0)):a instanceof qu?s=a:s=n.encode(`${a}`);let l=ArrayBuffer.isView(s)?s.byteLength:s.size;l&&(this.#r+=l,this.#e.push(s))}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,r="";for await(let n of Mu(this.#e,!1))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of Mu(this.#e,!1))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=Mu(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await t.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,n=""){let{size:i}=this,a=t<0?Math.max(i+t,0):Math.min(t,i),s=r<0?Math.max(i+r,0):Math.min(r,i),l=Math.max(s-a,0),c=this.#e,f=[],d=0;for(let p of c){if(d>=l)break;let g=ArrayBuffer.isView(p)?p.byteLength:p.size;if(a&&g<=a)a-=g,s-=g;else{let y;ArrayBuffer.isView(p)?(y=p.subarray(a,Math.min(g,s)),d+=y.byteLength):(y=p.slice(a,Math.min(g,s)),d+=y.size),s-=g,f.push(y),a=0}}let m=new qu([],{type:String(n).toLowerCase()});return m.#r=l,m.#e=f,m}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(up.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});pA=up,Ut=pA});var mA,yA,kn,Nu=Gi(()=>{$i();mA=class extends Ut{#e=0;#t="";constructor(t,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,n);n===null&&(n={});let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||(this.#e=i),this.#t=String(r)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof Ut&&/^(File)$/.test(t[Symbol.toStringTag])}},yA=mA,kn=yA});function fp(e,t=Ut){var r=`${cp()}${cp()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((a,s)=>typeof a=="string"?n.push(i+Bu(s)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+Bu(s)+`"; filename="${Bu(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}var Wi,gA,bA,cp,vA,lp,Bu,jr,Ur,fo=Gi(()=>{$i();Nu();({toStringTag:Wi,iterator:gA,hasInstance:bA}=Symbol),cp=Math.random,vA="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),lp=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[Wi])?[(r=r!==void 0?r+"":t[Wi]=="File"?t.name:"blob",e),t.name!==r||t[Wi]=="blob"?new kn([t],r,t):t]:[e,t+""]),Bu=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),jr=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},Ur=class{#e=[];constructor(...t){if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Wi](){return"FormData"}[gA](){return this.entries()}static[bA](t){return t&&typeof t=="object"&&t[Wi]==="FormData"&&!vA.some(r=>typeof t[r]!="function")}append(...t){jr("append",arguments,2),this.#e.push(lp(...t))}delete(t){jr("delete",arguments,1),t+="",this.#e=this.#e.filter(([r])=>r!==t)}get(t){jr("get",arguments,1),t+="";for(var r=this.#e,n=r.length,i=0;i<n;i++)if(r[i][0]===t)return r[i][1];return null}getAll(t,r){return jr("getAll",arguments,1),r=[],t+="",this.#e.forEach(n=>n[0]===t&&r.push(n[1])),r}has(t){return jr("has",arguments,1),t+="",this.#e.some(r=>r[0]===t)}forEach(t,r){jr("forEach",arguments,1);for(var[n,i]of this)t.call(r,i,n,this)}set(...t){jr("set",arguments,2);var r=[],n=!0;t=lp(...t),this.#e.forEach(i=>{i[0]===t[0]?n&&(n=!r.push(t)):r.push(i)}),n&&r.push(t),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}}});var mp=S((cN,pp)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=require("worker_threads"),t=new e().port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){e.constructor.name==="DOMException"&&(globalThis.DOMException=e.constructor)}pp.exports=globalThis.DOMException});var Ui,yp,SA,$u,Wu=Gi(()=>{Ui=require("node:fs"),yp=_e(mp(),1);Nu();$i();({stat:SA}=Ui.promises),$u=class{#e;#t;constructor(t){this.#e=t.path,this.#t=t.start,this.size=t.size,this.lastModified=t.lastModified,this.originalSize=t.originalSize===void 0?t.size:t.originalSize}slice(t,r){return new $u({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:r-t,start:this.#t+t})}async*stream(){let{mtimeMs:t,size:r}=await SA(this.#e);if(t>this.lastModified||this.originalSize!==r)throw new yp.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Ui.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var vp={};tp(vp,{toFormData:()=>PA});function TA(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,a)=>String.fromCharCode(a)),n}async function PA(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new bp(r[1]||r[2]),i,a,s,l,c,f,d=[],m=new Ur,p=E=>{s+=_.decode(E,{stream:!0})},g=E=>{d.push(E)},y=()=>{let E=new kn(d,f,{type:c});m.append(l,E)},v=()=>{m.append(l,s)},_=new TextDecoder("utf-8");_.decode(),n.onPartBegin=function(){n.onPartData=p,n.onPartEnd=v,i="",a="",s="",l="",c="",f=null,d.length=0},n.onHeaderField=function(E){i+=_.decode(E,{stream:!0})},n.onHeaderValue=function(E){a+=_.decode(E,{stream:!0})},n.onHeaderEnd=function(){if(a+=_.decode(),i=i.toLowerCase(),i==="content-disposition"){let E=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);E&&(l=E[2]||E[3]||""),f=TA(a),f&&(n.onPartData=g,n.onPartEnd=y)}else i==="content-type"&&(c=a);a="",i=""};for await(let E of e)n.write(E);return n.end(),m}var Ot,ye,gp,hr,po,mo,_A,Hi,wA,EA,RA,AA,Hr,bp,Sp=Gi(()=>{Wu();fo();Ot=0,ye={START_BOUNDARY:Ot++,HEADER_FIELD_START:Ot++,HEADER_FIELD:Ot++,HEADER_VALUE_START:Ot++,HEADER_VALUE:Ot++,HEADER_VALUE_ALMOST_DONE:Ot++,HEADERS_ALMOST_DONE:Ot++,PART_DATA_START:Ot++,PART_DATA:Ot++,END:Ot++},gp=1,hr={PART_BOUNDARY:gp,LAST_BOUNDARY:gp*=2},po=10,mo=13,_A=32,Hi=45,wA=58,EA=97,RA=122,AA=e=>e|32,Hr=()=>{},bp=class{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=Hr,this.onHeaderField=Hr,this.onHeadersEnd=Hr,this.onHeaderValue=Hr,this.onPartBegin=Hr,this.onPartData=Hr,this.onPartEnd=Hr,this.boundaryChars={},t=`\r
--`+t;let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=ye.START_BOUNDARY}write(t){let r=0,n=t.length,i=this.index,{lookbehind:a,boundary:s,boundaryChars:l,index:c,state:f,flags:d}=this,m=this.boundary.length,p=m-1,g=t.length,y,v,_=D=>{this[D+"Mark"]=r},E=D=>{delete this[D+"Mark"]},P=(D,k,M,N)=>{(k===void 0||k!==M)&&this[D](N&&N.subarray(k,M))},I=(D,k)=>{let M=D+"Mark";M in this&&(k?(P(D,this[M],r,t),delete this[M]):(P(D,this[M],t.length,t),this[M]=0))};for(r=0;r<n;r++)switch(y=t[r],f){case ye.START_BOUNDARY:if(c===s.length-2){if(y===Hi)d|=hr.LAST_BOUNDARY;else if(y!==mo)return;c++;break}else if(c-1===s.length-2){if(d&hr.LAST_BOUNDARY&&y===Hi)f=ye.END,d=0;else if(!(d&hr.LAST_BOUNDARY)&&y===po)c=0,P("onPartBegin"),f=ye.HEADER_FIELD_START;else return;break}y!==s[c+2]&&(c=-2),y===s[c+2]&&c++;break;case ye.HEADER_FIELD_START:f=ye.HEADER_FIELD,_("onHeaderField"),c=0;case ye.HEADER_FIELD:if(y===mo){E("onHeaderField"),f=ye.HEADERS_ALMOST_DONE;break}if(c++,y===Hi)break;if(y===wA){if(c===1)return;I("onHeaderField",!0),f=ye.HEADER_VALUE_START;break}if(v=AA(y),v<EA||v>RA)return;break;case ye.HEADER_VALUE_START:if(y===_A)break;_("onHeaderValue"),f=ye.HEADER_VALUE;case ye.HEADER_VALUE:y===mo&&(I("onHeaderValue",!0),P("onHeaderEnd"),f=ye.HEADER_VALUE_ALMOST_DONE);break;case ye.HEADER_VALUE_ALMOST_DONE:if(y!==po)return;f=ye.HEADER_FIELD_START;break;case ye.HEADERS_ALMOST_DONE:if(y!==po)return;P("onHeadersEnd"),f=ye.PART_DATA_START;break;case ye.PART_DATA_START:f=ye.PART_DATA,_("onPartData");case ye.PART_DATA:if(i=c,c===0){for(r+=p;r<g&&!(t[r]in l);)r+=m;r-=p,y=t[r]}if(c<s.length)s[c]===y?(c===0&&I("onPartData",!0),c++):c=0;else if(c===s.length)c++,y===mo?d|=hr.PART_BOUNDARY:y===Hi?d|=hr.LAST_BOUNDARY:c=0;else if(c-1===s.length)if(d&hr.PART_BOUNDARY){if(c=0,y===po){d&=~hr.PART_BOUNDARY,P("onPartEnd"),P("onPartBegin"),f=ye.HEADER_FIELD_START;break}}else d&hr.LAST_BOUNDARY&&y===Hi?(P("onPartEnd"),f=ye.END,d=0):c=0;if(c>0)a[c-1]=y;else if(i>0){let D=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);P("onPartData",0,i,D),i=0,_("onPartData"),r--}break;case ye.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}I("onHeaderField"),I("onHeaderValue"),I("onPartData"),this.index=c,this.state=f,this.flags=d}end(){if(this.state===ye.HEADER_FIELD_START&&this.index===0||this.state===ye.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==ye.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var lc=S(Ee=>{"use strict";var To=Ee&&Ee.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Logger=Ee.LogLevel=void 0;var ta;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(ta=Ee.LogLevel||(Ee.LogLevel={}));Ee.Logger={ENABLED:typeof window<"u"&&typeof location<"u"&&location.search.indexOf("giphy-debug")!==-1,LEVEL:0,PREFIX:"GiphyJS",debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ee.Logger.ENABLED&&Ee.Logger.LEVEL<=ta.DEBUG&&console.debug.apply(console,To([Ee.Logger.PREFIX],e))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ee.Logger.ENABLED&&Ee.Logger.LEVEL<=ta.INFO&&console.info.apply(console,To([Ee.Logger.PREFIX],e))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ee.Logger.ENABLED&&Ee.Logger.LEVEL<=ta.WARN&&console.warn.apply(console,To([Ee.Logger.PREFIX],e))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ee.Logger.ENABLED&&Ee.Logger.LEVEL<=ta.ERROR&&console.error.apply(console,To([Ee.Logger.PREFIX],e))}}});var fc=S(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.setRenditionScaleUpMaxPixels=void 0;var NT=lc(),BT=function(e,t,r){var n=1/0,i;return r.forEach(function(a){var s=a.width/e,l=a.height/t,c=s*l,f=Math.abs(1-c);f<n&&(n=f,i=a)}),i},cm=50,GT=function(e){NT.Logger.debug("@giphy/js-util set rendition selection scale up max pixels to "+e),cm=e};ra.setRenditionScaleUpMaxPixels=GT;function $T(e,t,r,n){n===void 0&&(n=cm);var i=e[0],a=e.filter(function(s){return s.width*s.height>i.width*i.height&&(i=s),t-s.width<=n&&r-s.height<=n});return a.length===0?i:BT(t,r,a)}ra.default=$T});var dc=S(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.pick=ft.without=ft.take=ft.forEach=ft.mapValues=void 0;function WT(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.map for arrays";return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}ft.mapValues=WT;function jT(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.forEach for arrays";return Object.keys(e).forEach(function(r){t(e[r],r)})}ft.forEach=jT;function UT(e,t){return t===void 0&&(t=0),e.slice(0,t)}ft.take=UT;function HT(e,t){return e.filter(function(r){return t.indexOf(r)===-1})}ft.without=HT;function zT(e,t){var r={};return t.forEach(function(n){e[n]!==void 0&&(r[n]=e[n])}),r}ft.pick=zT});var lm=S(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var YT=function(e){var t=0,r=0,n=e.offsetWidth,i=e.offsetHeight;do t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;while(e);return{left:t,top:r,width:n,height:i,right:t+n,bottom:r+i}};hc.default=YT});var mc=S(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.default=KT;var VT=QT(require("crypto"));function QT(e){return e&&e.__esModule?e:{default:e}}var Oo=new Uint8Array(256),Po=Oo.length;function KT(){return Po>Oo.length-16&&(VT.default.randomFillSync(Oo),Po=0),Oo.slice(Po,Po+=16)}});var fm=S(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.default=void 0;var XT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;xo.default=XT});var na=S(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var ZT=JT(fm());function JT(e){return e&&e.__esModule?e:{default:e}}function eP(e){return typeof e=="string"&&ZT.default.test(e)}var tP=eP;Co.default=tP});var ia=S(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.default=void 0;var rP=nP(na());function nP(e){return e&&e.__esModule?e:{default:e}}var Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).substr(1));function iP(e,t=0){let r=(Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]).toLowerCase();if(!(0,rP.default)(r))throw TypeError("Stringified UUID is invalid");return r}var aP=iP;Io.default=aP});var pm=S(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.default=void 0;var oP=hm(mc()),sP=hm(ia());function hm(e){return e&&e.__esModule?e:{default:e}}var dm,yc,gc=0,bc=0;function uP(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let a=e.node||dm,s=e.clockseq!==void 0?e.clockseq:yc;if(a==null||s==null){let p=e.random||(e.rng||oP.default)();a==null&&(a=dm=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=yc=(p[6]<<8|p[7])&16383)}let l=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:bc+1,f=l-gc+(c-bc)/1e4;if(f<0&&e.clockseq===void 0&&(s=s+1&16383),(f<0||l>gc)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gc=l,bc=c,yc=s,l+=122192928e5;let d=((l&268435455)*1e4+c)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let m=l/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=a[p];return t||(0,sP.default)(i)}var cP=uP;ko.default=cP});var vc=S(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.default=void 0;var lP=fP(na());function fP(e){return e&&e.__esModule?e:{default:e}}function dP(e){if(!(0,lP.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var hP=dP;Do.default=hP});var Sc=S(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.default=gP;Kr.URL=Kr.DNS=void 0;var pP=mm(ia()),mP=mm(vc());function mm(e){return e&&e.__esModule?e:{default:e}}function yP(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ym="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Kr.DNS=ym;var gm="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Kr.URL=gm;function gP(e,t,r){function n(i,a,s,l){if(typeof i=="string"&&(i=yP(i)),typeof a=="string"&&(a=(0,mP.default)(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){l=l||0;for(let f=0;f<16;++f)s[l+f]=c[f];return s}return(0,pP.default)(c)}try{n.name=e}catch{}return n.DNS=ym,n.URL=gm,n}});var bm=S(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=void 0;var bP=vP(require("crypto"));function vP(e){return e&&e.__esModule?e:{default:e}}function SP(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),bP.default.createHash("md5").update(e).digest()}var _P=SP;Lo.default=_P});var Sm=S(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var wP=vm(Sc()),EP=vm(bm());function vm(e){return e&&e.__esModule?e:{default:e}}var RP=(0,wP.default)("v3",48,EP.default),AP=RP;Fo.default=AP});var wm=S(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default=void 0;var TP=_m(mc()),PP=_m(ia());function _m(e){return e&&e.__esModule?e:{default:e}}function OP(e,t,r){e=e||{};let n=e.random||(e.rng||TP.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,PP.default)(n)}var xP=OP;Mo.default=xP});var Em=S(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.default=void 0;var CP=IP(require("crypto"));function IP(e){return e&&e.__esModule?e:{default:e}}function kP(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),CP.default.createHash("sha1").update(e).digest()}var DP=kP;qo.default=DP});var Am=S(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.default=void 0;var LP=Rm(Sc()),FP=Rm(Em());function Rm(e){return e&&e.__esModule?e:{default:e}}var MP=(0,LP.default)("v5",80,FP.default),qP=MP;No.default=qP});var Tm=S(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var NP="00000000-0000-0000-0000-000000000000";Bo.default=NP});var Pm=S(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.default=void 0;var BP=GP(na());function GP(e){return e&&e.__esModule?e:{default:e}}function $P(e){if(!(0,BP.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var WP=$P;Go.default=WP});var Om=S(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Object.defineProperty(Et,"v1",{enumerable:!0,get:function(){return jP.default}});Object.defineProperty(Et,"v3",{enumerable:!0,get:function(){return UP.default}});Object.defineProperty(Et,"v4",{enumerable:!0,get:function(){return HP.default}});Object.defineProperty(Et,"v5",{enumerable:!0,get:function(){return zP.default}});Object.defineProperty(Et,"NIL",{enumerable:!0,get:function(){return YP.default}});Object.defineProperty(Et,"version",{enumerable:!0,get:function(){return VP.default}});Object.defineProperty(Et,"validate",{enumerable:!0,get:function(){return QP.default}});Object.defineProperty(Et,"stringify",{enumerable:!0,get:function(){return KP.default}});Object.defineProperty(Et,"parse",{enumerable:!0,get:function(){return XP.default}});var jP=Qt(pm()),UP=Qt(Sm()),HP=Qt(wm()),zP=Qt(Am()),YP=Qt(Tm()),VP=Qt(Pm()),QP=Qt(na()),KP=Qt(ia()),XP=Qt(vc());function Qt(e){return e&&e.__esModule?e:{default:e}}});var Cm=S(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var ZP=Om(),Xr="",xm=16,JP=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length,n=0;n<xm;n++)e+=t.charAt(Math.floor(Math.random()*r));return e},eO=function(){if(!Xr){try{Xr=sessionStorage.getItem("giphyPingbackId")}catch{}if(!Xr){var e=new Date().getTime().toString(16);try{Xr=(""+e+ZP.v4().replace(/-/g,"")).substring(0,xm)}catch{Xr=JP()}try{sessionStorage.setItem("giphyPingbackId",Xr)}catch{}}}return Xr};_c.default=eO});var wc=S(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.checkIfWebP=Ct.SUPPORTS_WEBP=void 0;Ct.SUPPORTS_WEBP=null;Ct.checkIfWebP=new Promise(function(e){typeof Image>"u"&&e(!1);var t=new Image;t.onload=function(){Ct.SUPPORTS_WEBP=!0,e(Ct.SUPPORTS_WEBP)},t.onerror=function(){Ct.SUPPORTS_WEBP=!1,e(Ct.SUPPORTS_WEBP)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})});var Dm=S(Re=>{"use strict";var $o=Re&&Re.__assign||function(){return $o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$o.apply(this,arguments)},tO=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0});Re.getAltText=Re.getGifWidth=Re.getGifHeight=Re.getBestRenditionUrl=Re.getBestRendition=Re.getBestVideo=Re.getSpecificRendition=void 0;var Im=tO(fc()),Ec=dc(),km=wc(),rO=function(e,t,r,n){var i=e.images,a=e.is_sticker;if(r===void 0&&(r=!1),n===void 0&&(n=!1),!i||!t)return"";r=r&&!n;var s=i[""+t+(r?"_still":"")];if(s){if(a||r)return s.url;var l=km.SUPPORTS_WEBP&&s.webp;return n?s.mp4:l||s.url}return""};Re.getSpecificRendition=rO;var nO=function(e,t,r){var n=e==null?void 0:e.assets;if(n){n=$o({},n),delete n.source;var i=Object.values(n).sort(function(a,s){return a.width-s.width});return Im.default(i,t,r)}};Re.getBestVideo=nO;var iO=function(e,t,r){return e==="video"&&r&&r.previews&&!Object.keys(t).length?r.previews:t},aO=function(e,t,r,n){var i=Ec.pick(e,["original","fixed_width","fixed_height","fixed_width_small","fixed_height_small"]),a=Object.entries(i).map(function(s){var l=s[0],c=s[1];return $o({renditionName:l},c)});return Im.default(a,t,r,n)};Re.getBestRendition=aO;var oO=function(e,t,r,n){var i=e.images,a=e.video,s=e.type;if(n===void 0&&(n={isStill:!1,useVideo:!1}),!t||!r||!i)return"";var l=n.useVideo,c=n.isStill,f=n.scaleUpMaxPixels,d=iO(s,i,a),m=Re.getBestRendition(d,t,r,f).renditionName,p=""+m+(c&&!l?"_still":""),g=d[p],y=l?g.mp4:km.SUPPORTS_WEBP&&g.webp?g.webp:g.url;return y||""};Re.getBestRenditionUrl=oO;var sO=function(e,t){var r=e.images,n=r.fixed_width;if(n){var i=n.width,a=n.height,s=i/a;return Math.round(t/s)}return 0};Re.getGifHeight=sO;var uO=function(e,t){var r=e.images,n=r.fixed_width;if(n){var i=n.width,a=n.height,s=i/a;return Math.round(t*s)}return 0};Re.getGifWidth=uO;var cO=function(e){var t=e.user,r=e.tags,n=r===void 0?[]:r,i=e.is_sticker,a=i===void 0?!1:i,s=e.title,l=s===void 0?"":s;if(l)return l;var c=t&&t.username||"",f=Ec.take(Ec.without(n,["transparent"]),c?4:5);return(c?c+" ":"")+f.join(" ")+" "+(a?"Sticker":"GIF")};Re.getAltText=cO});var Lm=S(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.appendGiphySDKRequestParam=It.appendGiphySDKRequestHeader=It.getGiphySDKRequestHeaders=void 0;var aa=(typeof window<"u"?window:global)||{};aa._GIPHY_SDK_HEADERS_=aa._GIPHY_SDK_HEADERS_||(aa.Headers?new aa.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0);var lO=function(){return aa._GIPHY_SDK_HEADERS_};It.getGiphySDKRequestHeaders=lO;var fO=function(e,t){var r;return(r=It.getGiphySDKRequestHeaders())===null||r===void 0?void 0:r.set(e,t)};It.appendGiphySDKRequestHeader=fO;var dO=function(e,t){var r;return(r=It.getGiphySDKRequestHeaders())===null||r===void 0?void 0:r.set(e,t)};It.appendGiphySDKRequestParam=dO});var Tc=S(ne=>{"use strict";var hO=ne&&ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rc=ne&&ne.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hO(t,e,r)},Ac=ne&&ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ne,"__esModule",{value:!0});ne.checkIfWebP=ne.getSpecificRendition=ne.getGifWidth=ne.getGifHeight=ne.getBestVideo=ne.getBestRenditionUrl=ne.getBestRendition=ne.getAltText=ne.getPingbackId=ne.getClientRect=ne.setRenditionScaleUpMaxPixels=ne.bestfit=void 0;var Fm=fc();Object.defineProperty(ne,"bestfit",{enumerable:!0,get:function(){return Ac(Fm).default}});Object.defineProperty(ne,"setRenditionScaleUpMaxPixels",{enumerable:!0,get:function(){return Fm.setRenditionScaleUpMaxPixels}});Rc(dc(),ne);var pO=lm();Object.defineProperty(ne,"getClientRect",{enumerable:!0,get:function(){return Ac(pO).default}});var mO=Cm();Object.defineProperty(ne,"getPingbackId",{enumerable:!0,get:function(){return Ac(mO).default}});var Zr=Dm();Object.defineProperty(ne,"getAltText",{enumerable:!0,get:function(){return Zr.getAltText}});Object.defineProperty(ne,"getBestRendition",{enumerable:!0,get:function(){return Zr.getBestRendition}});Object.defineProperty(ne,"getBestRenditionUrl",{enumerable:!0,get:function(){return Zr.getBestRenditionUrl}});Object.defineProperty(ne,"getBestVideo",{enumerable:!0,get:function(){return Zr.getBestVideo}});Object.defineProperty(ne,"getGifHeight",{enumerable:!0,get:function(){return Zr.getGifHeight}});Object.defineProperty(ne,"getGifWidth",{enumerable:!0,get:function(){return Zr.getGifWidth}});Object.defineProperty(ne,"getSpecificRendition",{enumerable:!0,get:function(){return Zr.getSpecificRendition}});Rc(lc(),ne);Rc(Lm(),ne);var yO=wc();Object.defineProperty(ne,"checkIfWebP",{enumerable:!0,get:function(){return yO.checkIfWebP}})});var Pc=S(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.serverUrl=void 0;var gO=(typeof window<"u"?window:global)||{};Wo.serverUrl=gO.GIPHY_API_URL||"https://api.giphy.com/v1/"});var qm=S((Q$,Mm)=>{"use strict";Mm.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Gm=S((K$,Bm)=>{"use strict";var Nm=typeof Symbol<"u"&&Symbol,bO=qm();Bm.exports=function(){return typeof Nm!="function"||typeof Symbol!="function"||typeof Nm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:bO()}});var Wm=S((X$,$m)=>{"use strict";var vO="Function.prototype.bind called on incompatible ",Oc=Array.prototype.slice,SO=Object.prototype.toString,_O="[object Function]";$m.exports=function(t){var r=this;if(typeof r!="function"||SO.call(r)!==_O)throw new TypeError(vO+r);for(var n=Oc.call(arguments,1),i,a=function(){if(this instanceof i){var d=r.apply(this,n.concat(Oc.call(arguments)));return Object(d)===d?d:this}else return r.apply(t,n.concat(Oc.call(arguments)))},s=Math.max(0,r.length-n.length),l=[],c=0;c<s;c++)l.push("$"+c);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i}});var jo=S((Z$,jm)=>{"use strict";var wO=Wm();jm.exports=Function.prototype.bind||wO});var Hm=S((J$,Um)=>{"use strict";var EO=jo();Um.exports=EO.call(Function.call,Object.prototype.hasOwnProperty)});var Yo=S((eW,Qm)=>{"use strict";var ie,oa=SyntaxError,Vm=Function,jn=TypeError,xc=function(e){try{return Vm('"use strict"; return ('+e+").constructor;")()}catch{}},Jr=Object.getOwnPropertyDescriptor;if(Jr)try{Jr({},"")}catch{Jr=null}var Cc=function(){throw new jn},RO=Jr?function(){try{return arguments.callee,Cc}catch{try{return Jr(arguments,"callee").get}catch{return Cc}}}():Cc,$n=Gm()(),vr=Object.getPrototypeOf||function(e){return e.__proto__},Wn={},AO=typeof Uint8Array>"u"?ie:vr(Uint8Array),Un={"%AggregateError%":typeof AggregateError>"u"?ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ie:ArrayBuffer,"%ArrayIteratorPrototype%":$n?vr([][Symbol.iterator]()):ie,"%AsyncFromSyncIteratorPrototype%":ie,"%AsyncFunction%":Wn,"%AsyncGenerator%":Wn,"%AsyncGeneratorFunction%":Wn,"%AsyncIteratorPrototype%":Wn,"%Atomics%":typeof Atomics>"u"?ie:Atomics,"%BigInt%":typeof BigInt>"u"?ie:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ie:FinalizationRegistry,"%Function%":Vm,"%GeneratorFunction%":Wn,"%Int8Array%":typeof Int8Array>"u"?ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$n?vr(vr([][Symbol.iterator]())):ie,"%JSON%":typeof JSON=="object"?JSON:ie,"%Map%":typeof Map>"u"?ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$n?ie:vr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ie:Promise,"%Proxy%":typeof Proxy>"u"?ie:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$n?ie:vr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$n?vr(""[Symbol.iterator]()):ie,"%Symbol%":$n?Symbol:ie,"%SyntaxError%":oa,"%ThrowTypeError%":RO,"%TypedArray%":AO,"%TypeError%":jn,"%Uint8Array%":typeof Uint8Array>"u"?ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ie:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ie:WeakSet},TO=function e(t){var r;if(t==="%AsyncFunction%")r=xc("async function () {}");else if(t==="%GeneratorFunction%")r=xc("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=xc("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=vr(i.prototype))}return Un[t]=r,r},zm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},zo=jo(),Uo=Hm(),PO=zo.call(Function.call,Array.prototype.concat),OO=zo.call(Function.apply,Array.prototype.splice),Ym=zo.call(Function.call,String.prototype.replace),Ho=zo.call(Function.call,String.prototype.slice),xO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,CO=/\\(\\)?/g,IO=function(t){var r=Ho(t,0,1),n=Ho(t,-1);if(r==="%"&&n!=="%")throw new oa("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new oa("invalid intrinsic syntax, expected opening `%`");var i=[];return Ym(t,xO,function(a,s,l,c){i[i.length]=l?Ym(c,CO,"$1"):s||a}),i},kO=function(t,r){var n=t,i;if(Uo(zm,n)&&(i=zm[n],n="%"+i[0]+"%"),Uo(Un,n)){var a=Un[n];if(a===Wn&&(a=TO(n)),typeof a>"u"&&!r)throw new jn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new oa("intrinsic "+t+" does not exist!")};Qm.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new jn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new jn('"allowMissing" argument must be a boolean');var n=IO(t),i=n.length>0?n[0]:"",a=kO("%"+i+"%",r),s=a.name,l=a.value,c=!1,f=a.alias;f&&(i=f[0],OO(n,PO([0,1],f)));for(var d=1,m=!0;d<n.length;d+=1){var p=n[d],g=Ho(p,0,1),y=Ho(p,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new oa("property names with quotes must have matching quotes");if((p==="constructor"||!m)&&(c=!0),i+="."+p,s="%"+i+"%",Uo(Un,s))l=Un[s];else if(l!=null){if(!(p in l)){if(!r)throw new jn("base intrinsic for "+t+" exists, but the property is not available.");return}if(Jr&&d+1>=n.length){var v=Jr(l,p);m=!!v,m&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[p]}else m=Uo(l,p),l=l[p];m&&!c&&(Un[s]=l)}}return l}});var ty=S((tW,Vo)=>{"use strict";var Ic=jo(),Hn=Yo(),Zm=Hn("%Function.prototype.apply%"),Jm=Hn("%Function.prototype.call%"),ey=Hn("%Reflect.apply%",!0)||Ic.call(Jm,Zm),Km=Hn("%Object.getOwnPropertyDescriptor%",!0),en=Hn("%Object.defineProperty%",!0),DO=Hn("%Math.max%");if(en)try{en({},"a",{value:1})}catch{en=null}Vo.exports=function(t){var r=ey(Ic,Jm,arguments);if(Km&&en){var n=Km(r,"length");n.configurable&&en(r,"length",{value:1+DO(0,t.length-(arguments.length-1))})}return r};var Xm=function(){return ey(Ic,Zm,arguments)};en?en(Vo.exports,"apply",{value:Xm}):Vo.exports.apply=Xm});var ay=S((rW,iy)=>{"use strict";var ry=Yo(),ny=ty(),LO=ny(ry("String.prototype.indexOf"));iy.exports=function(t,r){var n=ry(t,!!r);return typeof n=="function"&&LO(t,".prototype.")>-1?ny(n):n}});var sy=S((nW,oy)=>{oy.exports=require("util").inspect});var wy=S((iW,_y)=>{var Wc=typeof Map=="function"&&Map.prototype,kc=Object.getOwnPropertyDescriptor&&Wc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ko=Wc&&kc&&typeof kc.get=="function"?kc.get:null,FO=Wc&&Map.prototype.forEach,jc=typeof Set=="function"&&Set.prototype,Dc=Object.getOwnPropertyDescriptor&&jc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xo=jc&&Dc&&typeof Dc.get=="function"?Dc.get:null,MO=jc&&Set.prototype.forEach,qO=typeof WeakMap=="function"&&WeakMap.prototype,ua=qO?WeakMap.prototype.has:null,NO=typeof WeakSet=="function"&&WeakSet.prototype,ca=NO?WeakSet.prototype.has:null,BO=typeof WeakRef=="function"&&WeakRef.prototype,uy=BO?WeakRef.prototype.deref:null,GO=Boolean.prototype.valueOf,$O=Object.prototype.toString,WO=Function.prototype.toString,jO=String.prototype.match,Uc=String.prototype.slice,_r=String.prototype.replace,UO=String.prototype.toUpperCase,cy=String.prototype.toLowerCase,my=RegExp.prototype.test,ly=Array.prototype.concat,kt=Array.prototype.join,HO=Array.prototype.slice,fy=Math.floor,Nc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Lc=Object.getOwnPropertySymbols,Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,zn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ge=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===zn?"object":"symbol")?Symbol.toStringTag:null,yy=Object.prototype.propertyIsEnumerable,dy=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function hy(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||my.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-fy(-e):fy(e);if(n!==e){var i=String(n),a=Uc.call(t,i.length+1);return _r.call(i,r,"$&_")+"."+_r.call(_r.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _r.call(t,r,"$&_")}var Fc=sy().custom,Mc=Fc&&by(Fc)?Fc:null;_y.exports=function e(t,r,n,i){var a=r||{};if(Sr(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Sr(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Sr(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Sr(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Sr(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Sy(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return l?hy(t,c):c}if(typeof t=="bigint"){var f=String(t)+"n";return l?hy(t,f):f}var d=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return Gc(t)?"[Array]":"[Object]";var m=lx(a,n);if(typeof i>"u")i=[];else if(vy(i,t)>=0)return"[Circular]";function p(B,z,A){if(z&&(i=HO.call(i),i.push(z)),A){var T={depth:a.depth};return Sr(a,"quoteStyle")&&(T.quoteStyle=a.quoteStyle),e(B,T,n+1,i)}return e(B,a,n+1,i)}if(typeof t=="function"){var g=tx(t),y=Qo(t,p);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+kt.call(y,", ")+" }":"")}if(by(t)){var v=zn?_r.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bc.call(t);return typeof t=="object"&&!zn?sa(v):v}if(sx(t)){for(var _="<"+cy.call(String(t.nodeName)),E=t.attributes||[],P=0;P<E.length;P++)_+=" "+E[P].name+"="+gy(zO(E[P].value),"double",a);return _+=">",t.childNodes&&t.childNodes.length&&(_+="..."),_+="</"+cy.call(String(t.nodeName))+">",_}if(Gc(t)){if(t.length===0)return"[]";var I=Qo(t,p);return m&&!cx(I)?"["+$c(I,m)+"]":"[ "+kt.call(I,", ")+" ]"}if(QO(t)){var D=Qo(t,p);return"cause"in t&&!yy.call(t,"cause")?"{ ["+String(t)+"] "+kt.call(ly.call("[cause]: "+p(t.cause),D),", ")+" }":D.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+kt.call(D,", ")+" }"}if(typeof t=="object"&&s){if(Mc&&typeof t[Mc]=="function")return t[Mc]();if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(rx(t)){var k=[];return FO.call(t,function(B,z){k.push(p(z,t,!0)+" => "+p(B,t))}),py("Map",Ko.call(t),k,m)}if(ax(t)){var M=[];return MO.call(t,function(B){M.push(p(B,t))}),py("Set",Xo.call(t),M,m)}if(nx(t))return qc("WeakMap");if(ox(t))return qc("WeakSet");if(ix(t))return qc("WeakRef");if(XO(t))return sa(p(Number(t)));if(JO(t))return sa(p(Nc.call(t)));if(ZO(t))return sa(GO.call(t));if(KO(t))return sa(p(String(t)));if(!YO(t)&&!VO(t)){var N=Qo(t,p),L=dy?dy(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",q=!L&&Ge&&Object(t)===t&&Ge in t?Uc.call(wr(t),8,-1):C?"Object":"",R=L||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",W=R+(q||C?"["+kt.call(ly.call([],q||[],C||[]),": ")+"] ":"");return N.length===0?W+"{}":m?W+"{"+$c(N,m)+"}":W+"{ "+kt.call(N,", ")+" }"}return String(t)};function gy(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function zO(e){return _r.call(String(e),/"/g,"&quot;")}function Gc(e){return wr(e)==="[object Array]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function YO(e){return wr(e)==="[object Date]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function VO(e){return wr(e)==="[object RegExp]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function QO(e){return wr(e)==="[object Error]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function KO(e){return wr(e)==="[object String]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function XO(e){return wr(e)==="[object Number]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function ZO(e){return wr(e)==="[object Boolean]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function by(e){if(zn)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Bc)return!1;try{return Bc.call(e),!0}catch{}return!1}function JO(e){if(!e||typeof e!="object"||!Nc)return!1;try{return Nc.call(e),!0}catch{}return!1}var ex=Object.prototype.hasOwnProperty||function(e){return e in this};function Sr(e,t){return ex.call(e,t)}function wr(e){return $O.call(e)}function tx(e){if(e.name)return e.name;var t=jO.call(WO.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function vy(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function rx(e){if(!Ko||!e||typeof e!="object")return!1;try{Ko.call(e);try{Xo.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function nx(e){if(!ua||!e||typeof e!="object")return!1;try{ua.call(e,ua);try{ca.call(e,ca)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function ix(e){if(!uy||!e||typeof e!="object")return!1;try{return uy.call(e),!0}catch{}return!1}function ax(e){if(!Xo||!e||typeof e!="object")return!1;try{Xo.call(e);try{Ko.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ox(e){if(!ca||!e||typeof e!="object")return!1;try{ca.call(e,ca);try{ua.call(e,ua)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function sx(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Sy(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Sy(Uc.call(e,0,t.maxStringLength),t)+n}var i=_r.call(_r.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ux);return gy(i,"single",t)}function ux(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+UO.call(t.toString(16))}function sa(e){return"Object("+e+")"}function qc(e){return e+" { ? }"}function py(e,t,r,n){var i=n?$c(r,n):kt.call(r,", ");return e+" ("+t+") {"+i+"}"}function cx(e){for(var t=0;t<e.length;t++)if(vy(e[t],`
`)>=0)return!1;return!0}function lx(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=kt.call(Array(e.indent+1)," ");else return null;return{base:r,prev:kt.call(Array(t+1),r)}}function $c(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+kt.call(e,","+r)+`
`+t.prev}function Qo(e,t){var r=Gc(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Sr(e,i)?t(e[i],e):""}var a=typeof Lc=="function"?Lc(e):[],s;if(zn){s={};for(var l=0;l<a.length;l++)s["$"+a[l]]=a[l]}for(var c in e)!Sr(e,c)||r&&String(Number(c))===c&&c<e.length||zn&&s["$"+c]instanceof Symbol||(my.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e)));if(typeof Lc=="function")for(var f=0;f<a.length;f++)yy.call(e,a[f])&&n.push("["+t(a[f])+"]: "+t(e[a[f]],e));return n}});var Ry=S((aW,Ey)=>{"use strict";var Hc=Yo(),Yn=ay(),fx=wy(),dx=Hc("%TypeError%"),Zo=Hc("%WeakMap%",!0),Jo=Hc("%Map%",!0),hx=Yn("WeakMap.prototype.get",!0),px=Yn("WeakMap.prototype.set",!0),mx=Yn("WeakMap.prototype.has",!0),yx=Yn("Map.prototype.get",!0),gx=Yn("Map.prototype.set",!0),bx=Yn("Map.prototype.has",!0),zc=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},vx=function(e,t){var r=zc(e,t);return r&&r.value},Sx=function(e,t,r){var n=zc(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},_x=function(e,t){return!!zc(e,t)};Ey.exports=function(){var t,r,n,i={assert:function(a){if(!i.has(a))throw new dx("Side channel does not contain "+fx(a))},get:function(a){if(Zo&&a&&(typeof a=="object"||typeof a=="function")){if(t)return hx(t,a)}else if(Jo){if(r)return yx(r,a)}else if(n)return vx(n,a)},has:function(a){if(Zo&&a&&(typeof a=="object"||typeof a=="function")){if(t)return mx(t,a)}else if(Jo){if(r)return bx(r,a)}else if(n)return _x(n,a);return!1},set:function(a,s){Zo&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new Zo),px(t,a,s)):Jo?(r||(r=new Jo),gx(r,a,s)):(n||(n={key:{},next:null}),Sx(n,a,s))}};return i}});var es=S((oW,Ay)=>{"use strict";var wx=String.prototype.replace,Ex=/%20/g,Yc={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ay.exports={default:Yc.RFC3986,formatters:{RFC1738:function(e){return wx.call(e,Ex,"+")},RFC3986:function(e){return String(e)}},RFC1738:Yc.RFC1738,RFC3986:Yc.RFC3986}});var Qc=S((sW,Py)=>{"use strict";var Rx=es(),Vc=Object.prototype.hasOwnProperty,tn=Array.isArray,Dt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ax=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(tn(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Ty=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},Tx=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(tn(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Vc.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return tn(t)&&!tn(r)&&(i=Ty(t,n)),tn(t)&&tn(r)?(r.forEach(function(a,s){if(Vc.call(t,s)){var l=t[s];l&&typeof l=="object"&&a&&typeof a=="object"?t[s]=e(l,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var l=r[s];return Vc.call(a,s)?a[s]=e(a[s],l,n):a[s]=l,a},i)},Px=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},Ox=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},xx=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",c=0;c<s.length;++c){var f=s.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===Rx.RFC1738&&(f===40||f===41)){l+=s.charAt(c);continue}if(f<128){l=l+Dt[f];continue}if(f<2048){l=l+(Dt[192|f>>6]+Dt[128|f&63]);continue}if(f<55296||f>=57344){l=l+(Dt[224|f>>12]+Dt[128|f>>6&63]+Dt[128|f&63]);continue}c+=1,f=65536+((f&1023)<<10|s.charCodeAt(c)&1023),l+=Dt[240|f>>18]+Dt[128|f>>12&63]+Dt[128|f>>6&63]+Dt[128|f&63]}return l},Cx=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],l=Object.keys(s),c=0;c<l.length;++c){var f=l[c],d=s[f];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:s,prop:f}),n.push(d))}return Ax(r),t},Ix=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},kx=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Dx=function(t,r){return[].concat(t,r)},Lx=function(t,r){if(tn(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)};Py.exports={arrayToObject:Ty,assign:Px,combine:Dx,compact:Cx,decode:Ox,encode:xx,isBuffer:kx,isRegExp:Ix,maybeMap:Lx,merge:Tx}});var Dy=S((uW,ky)=>{"use strict";var Cy=Ry(),Xc=Qc(),la=es(),Fx=Object.prototype.hasOwnProperty,Oy={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},rn=Array.isArray,Mx=String.prototype.split,qx=Array.prototype.push,Iy=function(e,t){qx.apply(e,rn(t)?t:[t])},Nx=Date.prototype.toISOString,xy=la.default,Me={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Xc.encode,encodeValuesOnly:!1,format:xy,formatter:la.formatters[xy],indices:!1,serializeDate:function(t){return Nx.call(t)},skipNulls:!1,strictNullHandling:!1},Bx=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Kc={},Gx=function e(t,r,n,i,a,s,l,c,f,d,m,p,g,y,v){for(var _=t,E=v,P=0,I=!1;(E=E.get(Kc))!==void 0&&!I;){var D=E.get(t);if(P+=1,typeof D<"u"){if(D===P)throw new RangeError("Cyclic object value");I=!0}typeof E.get(Kc)>"u"&&(P=0)}if(typeof l=="function"?_=l(r,_):_ instanceof Date?_=d(_):n==="comma"&&rn(_)&&(_=Xc.maybeMap(_,function($){return $ instanceof Date?d($):$})),_===null){if(i)return s&&!g?s(r,Me.encoder,y,"key",m):r;_=""}if(Bx(_)||Xc.isBuffer(_)){if(s){var k=g?r:s(r,Me.encoder,y,"key",m);if(n==="comma"&&g){for(var M=Mx.call(String(_),","),N="",L=0;L<M.length;++L)N+=(L===0?"":",")+p(s(M[L],Me.encoder,y,"value",m));return[p(k)+"="+N]}return[p(k)+"="+p(s(_,Me.encoder,y,"value",m))]}return[p(r)+"="+p(String(_))]}var C=[];if(typeof _>"u")return C;var q;if(n==="comma"&&rn(_))q=[{value:_.length>0?_.join(",")||null:void 0}];else if(rn(l))q=l;else{var R=Object.keys(_);q=c?R.sort(c):R}for(var W=0;W<q.length;++W){var B=q[W],z=typeof B=="object"&&typeof B.value<"u"?B.value:_[B];if(!(a&&z===null)){var A=rn(_)?typeof n=="function"?n(r,B):r:r+(f?"."+B:"["+B+"]");v.set(t,P);var T=Cy();T.set(Kc,v),Iy(C,e(z,A,n,i,a,s,l,c,f,d,m,p,g,y,T))}}return C},$x=function(t){if(!t)return Me;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Me.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=la.default;if(typeof t.format<"u"){if(!Fx.call(la.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=la.formatters[n],a=Me.filter;return(typeof t.filter=="function"||rn(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Me.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Me.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Me.charsetSentinel,delimiter:typeof t.delimiter>"u"?Me.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Me.encode,encoder:typeof t.encoder=="function"?t.encoder:Me.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Me.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Me.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Me.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Me.strictNullHandling}};ky.exports=function(e,t){var r=e,n=$x(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):rn(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var l;t&&t.arrayFormat in Oy?l=t.arrayFormat:t&&"indices"in t?l=t.indices?"indices":"repeat":l="indices";var c=Oy[l];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=Cy(),d=0;d<i.length;++d){var m=i[d];n.skipNulls&&r[m]===null||Iy(s,Gx(r[m],m,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var p=s.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""}});var My=S((cW,Fy)=>{"use strict";var Vn=Qc(),Zc=Object.prototype.hasOwnProperty,Wx=Array.isArray,Ce={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Vn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},jx=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Ly=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Ux="utf8=%26%2310003%3B",Hx="utf8=%E2%9C%93",zx=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),l=-1,c,f=r.charset;if(r.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===Hx?f="utf-8":s[c]===Ux&&(f="iso-8859-1"),l=c,c=s.length);for(c=0;c<s.length;++c)if(c!==l){var d=s[c],m=d.indexOf("]="),p=m===-1?d.indexOf("="):m+1,g,y;p===-1?(g=r.decoder(d,Ce.decoder,f,"key"),y=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,p),Ce.decoder,f,"key"),y=Vn.maybeMap(Ly(d.slice(p+1),r),function(v){return r.decoder(v,Ce.decoder,f,"value")})),y&&r.interpretNumericEntities&&f==="iso-8859-1"&&(y=jx(y)),d.indexOf("[]=")>-1&&(y=Wx(y)?[y]:y),Zc.call(n,g)?n[g]=Vn.combine(n[g],y):n[g]=y}return n},Yx=function(e,t,r,n){for(var i=n?t:Ly(t,r),a=e.length-1;a>=0;--a){var s,l=e[a];if(l==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,f=parseInt(c,10);!r.parseArrays&&c===""?s={0:i}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[],s[f]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},Vx=function(t,r,n,i){if(!!t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&s.exec(a),f=c?a.slice(0,c.index):a,d=[];if(f){if(!n.plainObjects&&Zc.call(Object.prototype,f)&&!n.allowPrototypes)return;d.push(f)}for(var m=0;n.depth>0&&(c=l.exec(a))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&Zc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+a.slice(c.index)+"]"),Yx(d,r,n,i)}},Qx=function(t){if(!t)return Ce;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?Ce.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Ce.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Ce.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Ce.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Ce.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ce.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Ce.comma,decoder:typeof t.decoder=="function"?t.decoder:Ce.decoder,delimiter:typeof t.delimiter=="string"||Vn.isRegExp(t.delimiter)?t.delimiter:Ce.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Ce.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Ce.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Ce.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Ce.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ce.strictNullHandling}};Fy.exports=function(e,t){var r=Qx(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?zx(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var l=a[s],c=Vx(l,n[l],r,typeof e=="string");i=Vn.merge(i,c,r)}return r.allowSparse===!0?i:Vn.compact(i)}});var Ny=S((lW,qy)=>{"use strict";var Kx=Dy(),Xx=My(),Zx=es();qy.exports={formats:Zx,parse:Xx,stringify:Kx}});var $y=S(Ze=>{"use strict";var ts=Ze&&Ze.__assign||function(){return ts=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ts.apply(this,arguments)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.normalizeGifs=Ze.normalizeGif=Ze.USER_BOOL_PROPS=Ze.BOOL_PROPS=void 0;Ze.BOOL_PROPS=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker","is_dynamic"];Ze.USER_BOOL_PROPS=["suppress_chrome","is_public","is_verified"];var By=function(e){return function(t){return e[t]=!!e[t]}},Jx=function(e){return typeof e=="string"?e:e.text},Gy=function(e){var t=ts({},e);t.id=String(t.id),t.tags=(t.tags||[]).map(Jx),Ze.BOOL_PROPS.forEach(By(t)),Object.keys(t.images||{}).forEach(function(i){var a=t.images[i];a.width=parseInt(a.width),a.height=parseInt(a.height)});var r=t.user;if(r){var n=ts({},r);Ze.USER_BOOL_PROPS.forEach(By(n)),t.user=n}return t},eC=function(e){return e.data=Gy(e.data),e};Ze.normalizeGif=eC;var tC=function(e){return e.data=e.data.map(function(t){return Gy(t)}),e};Ze.normalizeGifs=tC});var Wy=S(fa=>{"use strict";var rC=fa&&fa.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fa,"__esModule",{value:!0});var nC=function(e){rC(t,e);function t(r,n,i){n===void 0&&(n=0),i===void 0&&(i="");var a=e.call(this,r)||this;return a.status=n,a.statusText=i,a}return t}(Error);fa.default=nC});var Uy=S(Ve=>{"use strict";var iC=Ve&&Ve.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{f(n.next(d))}catch(m){s(m)}}function c(d){try{f(n.throw(d))}catch(m){s(m)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((n=n.apply(e,t||[])).next())})},aC=Ve&&Ve.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return c([f,d])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},oC=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.DEFAULT_ERROR=Ve.ERROR_PREFIX=void 0;var sC=Pc(),jy=oC(Wy());Ve.ERROR_PREFIX="@giphy/js-fetch-api: ";Ve.DEFAULT_ERROR="Error fetching";var uC=function(e){return e},Rt={},cC=6e4,lC=6e3,fC=function(){var e=Date.now();Object.keys(Rt).forEach(function(t){var r=Rt[t].isError?lC:cC;e-Rt[t].ts>=r&&delete Rt[t]})};function dC(e,t,r){var n=this;if(t===void 0&&(t=uC),r===void 0&&(r=!1),fC(),!Rt[e]||r){var i=function(){return iC(n,void 0,void 0,function(){var a,s,c,l,c,f,d,m;return aC(this,function(p){switch(p.label){case 0:return p.trys.push([0,9,,10]),[4,fetch(""+sC.serverUrl+e,{method:"get"})];case 1:return s=p.sent(),s.ok?[4,s.json()]:[3,3];case 2:if(c=p.sent(),(m=c.meta)===null||m===void 0?void 0:m.response_id)return[2,t(c)];throw{message:"synthetic response"};case 3:l=Ve.DEFAULT_ERROR,p.label=4;case 4:return p.trys.push([4,6,,7]),[4,s.json()];case 5:return c=p.sent(),c.message&&(l=c.message),[3,7];case 6:return f=p.sent(),[3,7];case 7:Rt[e]&&(Rt[e].isError=!0),a=new jy.default(""+Ve.ERROR_PREFIX+l,s.status,s.statusText),p.label=8;case 8:return[3,10];case 9:return d=p.sent(),a=new jy.default(d.message),Rt[e]&&(Rt[e].isError=!0),[3,10];case 10:throw a}})})};Rt[e]={request:i(),ts:Date.now()}}return Rt[e].request}Ve.default=dC});var Yy=S(Zt=>{"use strict";var Xt=Zt&&Zt.__assign||function(){return Xt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xt.apply(this,arguments)},Hy=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.GiphyFetch=void 0;var hC=Tc(),pC=Hy(Ny()),Kt=$y(),At=Hy(Uy()),Jc=function(e){return e&&e.type?e.type:"gifs"},zy=function(){function e(t){var r=this;this.getQS=function(n){return n===void 0&&(n={}),pC.default.stringify(Xt(Xt({},n),{api_key:r.apiKey,pingback_id:hC.getPingbackId()}))},this.apiKey=t}return e.prototype.categories=function(t){return At.default("gifs/categories?"+this.getQS(t))},e.prototype.gif=function(t){return At.default("gifs/"+t+"?"+this.getQS(),Kt.normalizeGif)},e.prototype.gifs=function(t,r){return Array.isArray(t)?At.default("gifs?"+this.getQS({ids:t.join(",")}),Kt.normalizeGifs):At.default("gifs/categories/"+t+"/"+r+"?"+this.getQS(),Kt.normalizeGifs)},e.prototype.emoji=function(t){return At.default("emoji?"+this.getQS(t),Kt.normalizeGifs)},e.prototype.animate=function(t,r){r===void 0&&(r={});var n=this.getQS(Xt(Xt({},r),{m:t}));return At.default("text/animate?"+n,Kt.normalizeGifs)},e.prototype.search=function(t,r){r===void 0&&(r={});var n=r.channel?"@"+r.channel+" "+t:t,i;r.type==="text"&&(i=!0);var a=this.getQS(Xt(Xt({},r),{q:n,excludeDynamicResults:i}));return At.default(Jc(r)+"/search?"+a,Kt.normalizeGifs)},e.prototype.subcategories=function(t,r){return At.default("gifs/categories/"+t+"?"+this.getQS(r))},e.prototype.trending=function(t){return t===void 0&&(t={}),At.default(Jc(t)+"/trending?"+this.getQS(t),Kt.normalizeGifs)},e.prototype.random=function(t){return At.default(Jc(t)+"/random?"+this.getQS(t),Kt.normalizeGif,!0)},e.prototype.related=function(t,r){return At.default(((r==null?void 0:r.type)==="stickers"?"stickers":"gifs")+"/related?"+this.getQS(Xt({gif_id:t},r)),Kt.normalizeGifs)},e}();Zt.GiphyFetch=zy;Zt.default=zy});var Qy=S(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0})});var Xy=S(Lt=>{"use strict";var mC=Lt&&Lt.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{f(n.next(d))}catch(m){s(m)}}function c(d){try{f(n.throw(d))}catch(m){s(m)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((n=n.apply(e,t||[])).next())})},yC=Lt&&Lt.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return c([f,d])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Ky=Lt&&Lt.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.gifPaginator=void 0;var gC=function(e,t){t===void 0&&(t=[]);var r=Ky([],t),n=t.map(function(s){return s.id}),i=t.length,a=!1;return function(){return mC(void 0,void 0,void 0,function(){var s,l,c;return yC(this,function(f){switch(f.label){case 0:return a?[2,r]:[4,e(i)];case 1:return s=f.sent(),l=s.pagination,c=s.data,i=l.count+l.offset,a=i===l.total_count,c.forEach(function(d){var m=d.id;n.includes(m)||(r.push(d),n.push(m))}),[2,Ky([],r)]}})})}};Lt.gifPaginator=gC});var Jy=S(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0})});var eg=S((bW,bC)=>{bC.exports={scripts:{clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc src/index.ts",prepublish:"npm run clean && tsc",build:"tsc",test:"jest --config ./jestconfig.js","test:watch":"jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"4.1.2",main:"dist/index.js",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",homepage:"https://github.com/Giphy/giphy-js/tree/master/packages/fetch-api",types:"dist/index.d.ts",files:["dist/**/*","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"^4.1.0","@giphy/js-util":"^4.0.1",qs:"^6.9.4"},devDependencies:{"@types/qs":"^6.9.4","jest-fetch-mock":"^3.0.3","parcel-bundler":"latest",typedoc:"^0.20.36","typedoc-thunder-theme":"^0.0.2",typescript:"^4.3.5"},gitHead:"3f2ca6fc6762db1abdc991a89dcef1932a1547d4"}});var rg=S($e=>{"use strict";var vC=$e&&$e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tg=$e&&$e.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vC(t,e,r)},SC=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},el;Object.defineProperty($e,"__esModule",{value:!0});$e.gifPaginator=$e.GiphyFetch=$e.serverUrl=void 0;var tl=Tc(),_C=Pc();Object.defineProperty($e,"serverUrl",{enumerable:!0,get:function(){return _C.serverUrl}});var wC=Yy();Object.defineProperty($e,"GiphyFetch",{enumerable:!0,get:function(){return SC(wC).default}});tg(Qy(),$e);var EC=Xy();Object.defineProperty($e,"gifPaginator",{enumerable:!0,get:function(){return EC.gifPaginator}});tg(Jy(),$e);var RC=eg().version;((el=tl.getGiphySDKRequestHeaders())===null||el===void 0?void 0:el.get("X-GIPHY-SDK-NAME"))||(tl.appendGiphySDKRequestHeader("X-GIPHY-SDK-NAME","FetchAPI"),tl.appendGiphySDKRequestHeader("X-GIPHY-SDK-VERSION",RC))});var yg=S((dj,mg)=>{mg.exports=pg;pg.sync=CC;var dg=require("fs");function xC(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function hg(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:xC(t,r)}function pg(e,t,r){dg.stat(e,function(n,i){r(n,n?!1:hg(i,e,t))})}function CC(e,t){return hg(dg.statSync(e),e,t)}});var _g=S((hj,Sg)=>{Sg.exports=bg;bg.sync=IC;var gg=require("fs");function bg(e,t,r){gg.stat(e,function(n,i){r(n,n?!1:vg(i,t))})}function IC(e,t){return vg(gg.statSync(e),t)}function vg(e,t){return e.isFile()&&kC(e,t)}function kC(e,t){var r=e.mode,n=e.uid,i=e.gid,a=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),l=parseInt("100",8),c=parseInt("010",8),f=parseInt("001",8),d=l|c,m=r&f||r&c&&i===s||r&l&&n===a||r&d&&a===0;return m}});var Eg=S((mj,wg)=>{var pj=require("fs"),is;process.platform==="win32"||global.TESTING_WINDOWS?is=yg():is=_g();wg.exports=hl;hl.sync=DC;function hl(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){hl(e,t||{},function(a,s){a?i(a):n(s)})})}is(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function DC(e,t){try{return is.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Cg=S((yj,xg)=>{var Zn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Rg=require("path"),LC=Zn?";":":",Ag=Eg(),Tg=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Pg=(e,t)=>{let r=t.colon||LC,n=e.match(/\//)||Zn&&e.match(/\\/)?[""]:[...Zn?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Zn?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=Zn?i.split(r):[""];return Zn&&e.indexOf(".")!==-1&&a[0]!==""&&a.unshift(""),{pathEnv:n,pathExt:a,pathExtExe:i}},Og=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:a}=Pg(e,t),s=[],l=f=>new Promise((d,m)=>{if(f===n.length)return t.all&&s.length?d(s):m(Tg(e));let p=n[f],g=/^".*"$/.test(p)?p.slice(1,-1):p,y=Rg.join(g,e),v=!g&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;d(c(v,f,0))}),c=(f,d,m)=>new Promise((p,g)=>{if(m===i.length)return p(l(d+1));let y=i[m];Ag(f+y,{pathExt:a},(v,_)=>{if(!v&&_)if(t.all)s.push(f+y);else return p(f+y);return p(c(f,d,m+1))})});return r?l(0).then(f=>r(null,f),r):l(0)},FC=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Pg(e,t),a=[];for(let s=0;s<r.length;s++){let l=r[s],c=/^".*"$/.test(l)?l.slice(1,-1):l,f=Rg.join(c,e),d=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let m=0;m<n.length;m++){let p=d+n[m];try{if(Ag.sync(p,{pathExt:i}))if(t.all)a.push(p);else return p}catch{}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw Tg(e)};xg.exports=Og;Og.sync=FC});var ml=S((gj,pl)=>{"use strict";var Ig=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};pl.exports=Ig;pl.exports.default=Ig});var Fg=S((bj,Lg)=>{"use strict";var kg=require("path"),MC=Cg(),qC=ml();function Dg(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,a=i&&process.chdir!==void 0&&!process.chdir.disabled;if(a)try{process.chdir(e.options.cwd)}catch{}let s;try{s=MC.sync(e.command,{path:r[qC({env:r})],pathExt:t?kg.delimiter:void 0})}catch{}finally{a&&process.chdir(n)}return s&&(s=kg.resolve(i?e.options.cwd:"",s)),s}function NC(e){return Dg(e)||Dg(e,!0)}Lg.exports=NC});var Mg=S((vj,gl)=>{"use strict";var yl=/([()\][%!^"`<>&|;, *?])/g;function BC(e){return e=e.replace(yl,"^$1"),e}function GC(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(yl,"^$1"),t&&(e=e.replace(yl,"^$1")),e}gl.exports.command=BC;gl.exports.argument=GC});var Ng=S((Sj,qg)=>{"use strict";qg.exports=/^#!(.*)/});var Gg=S((_j,Bg)=>{"use strict";var $C=Ng();Bg.exports=(e="")=>{let t=e.match($C);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Wg=S((wj,$g)=>{"use strict";var bl=require("fs"),WC=Gg();function jC(e){let r=Buffer.alloc(150),n;try{n=bl.openSync(e,"r"),bl.readSync(n,r,0,150,0),bl.closeSync(n)}catch{}return WC(r.toString())}$g.exports=jC});var zg=S((Ej,Hg)=>{"use strict";var UC=require("path"),jg=Fg(),Ug=Mg(),HC=Wg(),zC=process.platform==="win32",YC=/\.(?:com|exe)$/i,VC=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function QC(e){e.file=jg(e);let t=e.file&&HC(e.file);return t?(e.args.unshift(e.file),e.command=t,jg(e)):e.file}function KC(e){if(!zC)return e;let t=QC(e),r=!YC.test(t);if(e.options.forceShell||r){let n=VC.test(t);e.command=UC.normalize(e.command),e.command=Ug.command(e.command),e.args=e.args.map(a=>Ug.argument(a,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function XC(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:KC(n)}Hg.exports=XC});var Qg=S((Rj,Vg)=>{"use strict";var vl=process.platform==="win32";function Sl(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function ZC(e,t){if(!vl)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let a=Yg(i,t,"spawn");if(a)return r.call(e,"error",a)}return r.apply(e,arguments)}}function Yg(e,t){return vl&&e===1&&!t.file?Sl(t.original,"spawn"):null}function JC(e,t){return vl&&e===1&&!t.file?Sl(t.original,"spawnSync"):null}Vg.exports={hookChildProcess:ZC,verifyENOENT:Yg,verifyENOENTSync:JC,notFoundError:Sl}});var Zg=S((Aj,Jn)=>{"use strict";var Kg=require("child_process"),_l=zg(),wl=Qg();function Xg(e,t,r){let n=_l(e,t,r),i=Kg.spawn(n.command,n.args,n.options);return wl.hookChildProcess(i,n),i}function eI(e,t,r){let n=_l(e,t,r),i=Kg.spawnSync(n.command,n.args,n.options);return i.error=i.error||wl.verifyENOENTSync(i.status,n),i}Jn.exports=Xg;Jn.exports.spawn=Xg;Jn.exports.sync=eI;Jn.exports._parse=_l;Jn.exports._enoent=wl});var eb=S((Tj,Jg)=>{"use strict";Jg.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var nb=S((Pj,ma)=>{"use strict";var pa=require("path"),tb=ml(),rb=e=>{e=H({cwd:process.cwd(),path:process.env[tb()],execPath:process.execPath},e);let t,r=pa.resolve(e.cwd),n=[];for(;t!==r;)n.push(pa.join(r,"node_modules/.bin")),t=r,r=pa.resolve(r,"..");let i=pa.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(pa.delimiter)};ma.exports=rb;ma.exports.default=rb;ma.exports.env=e=>{e=H({env:process.env},e);let t=H({},e.env),r=tb({env:t});return e.path=t[r],t[r]=ma.exports(e),t}});var ab=S((Oj,El)=>{"use strict";var ib=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};El.exports=ib;El.exports.default=ib});var sb=S((xj,os)=>{"use strict";var tI=ab(),as=new WeakMap,ob=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",a=function(...s){if(as.set(a,++n),n===1)r=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return tI(a,e),as.set(a,n),a};os.exports=ob;os.exports.default=ob;os.exports.callCount=e=>{if(!as.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return as.get(e)}});var ub=S(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.SIGNALS=void 0;var rI=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ss.SIGNALS=rI});var Rl=S(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.SIGRTMAX=ei.getRealtimeSignals=void 0;var nI=function(){let e=lb-cb+1;return Array.from({length:e},iI)};ei.getRealtimeSignals=nI;var iI=function(e,t){return{name:`SIGRT${t+1}`,number:cb+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},cb=34,lb=64;ei.SIGRTMAX=lb});var fb=S(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.getSignals=void 0;var aI=require("os"),oI=ub(),sI=Rl(),uI=function(){let e=(0,sI.getRealtimeSignals)();return[...oI.SIGNALS,...e].map(cI)};us.getSignals=uI;var cI=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:a}){let{signals:{[e]:s}}=aI.constants,l=s!==void 0;return{name:e,number:l?s:t,description:r,supported:l,action:n,forced:i,standard:a}}});var hb=S(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.signalsByNumber=ti.signalsByName=void 0;var lI=require("os"),db=fb(),fI=Rl(),dI=function(){return(0,db.getSignals)().reduce(hI,{})},hI=function(e,{name:t,number:r,description:n,supported:i,action:a,forced:s,standard:l}){return ce(H({},e),{[t]:{name:t,number:r,description:n,supported:i,action:a,forced:s,standard:l}})},pI=dI();ti.signalsByName=pI;var mI=function(){let e=(0,db.getSignals)(),t=fI.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>yI(i,e));return Object.assign({},...r)},yI=function(e,t){let r=gI(e,t);if(r===void 0)return{};let{name:n,description:i,supported:a,action:s,forced:l,standard:c}=r;return{[e]:{name:n,number:e,description:i,supported:a,action:s,forced:l,standard:c}}},gI=function(e,t){let r=t.find(({name:n})=>lI.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},bI=mI();ti.signalsByNumber=bI});var mb=S((Lj,pb)=>{"use strict";var{signalsByName:vI}=hb(),SI=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:a,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:a!==void 0?`failed with exit code ${a}`:"failed",_I=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:a,command:s,escapedCommand:l,timedOut:c,isCanceled:f,killed:d,parsed:{options:{timeout:m}}})=>{a=a===null?void 0:a,i=i===null?void 0:i;let p=i===void 0?void 0:vI[i].description,g=n&&n.code,v=`Command ${SI({timedOut:c,timeout:m,errorCode:g,signal:i,signalDescription:p,exitCode:a,isCanceled:f})}: ${s}`,_=Object.prototype.toString.call(n)==="[object Error]",E=_?`${v}
${n.message}`:v,P=[E,t,e].filter(Boolean).join(`
`);return _?(n.originalMessage=n.message,n.message=P):n=new Error(P),n.shortMessage=E,n.command=s,n.escapedCommand=l,n.exitCode=a,n.signal=i,n.signalDescription=p,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(c),n.isCanceled=f,n.killed=d&&!c,n};pb.exports=_I});var gb=S((Fj,Al)=>{"use strict";var cs=["stdin","stdout","stderr"],wI=e=>cs.some(t=>e[t]!==void 0),yb=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return cs.map(n=>e[n]);if(wI(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${cs.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,cs.length);return Array.from({length:r},(n,i)=>t[i])};Al.exports=yb;Al.exports.node=e=>{let t=yb(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var bb=S((Mj,ls)=>{ls.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&ls.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ls.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Eb=S((qj,ii)=>{var ge=global.process,on=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};on(ge)?(vb=require("assert"),ri=bb(),Sb=/^win/i.test(ge.platform),ya=require("events"),typeof ya!="function"&&(ya=ya.EventEmitter),ge.__signal_exit_emitter__?Ie=ge.__signal_exit_emitter__:(Ie=ge.__signal_exit_emitter__=new ya,Ie.count=0,Ie.emitted={}),Ie.infinite||(Ie.setMaxListeners(1/0),Ie.infinite=!0),ii.exports=function(e,t){if(!on(global.process))return function(){};vb.equal(typeof e,"function","a callback must be provided for exit handler"),ni===!1&&Tl();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){Ie.removeListener(r,e),Ie.listeners("exit").length===0&&Ie.listeners("afterexit").length===0&&fs()};return Ie.on(r,e),n},fs=function(){!ni||!on(global.process)||(ni=!1,ri.forEach(function(t){try{ge.removeListener(t,ds[t])}catch{}}),ge.emit=hs,ge.reallyExit=Pl,Ie.count-=1)},ii.exports.unload=fs,sn=function(t,r,n){Ie.emitted[t]||(Ie.emitted[t]=!0,Ie.emit(t,r,n))},ds={},ri.forEach(function(e){ds[e]=function(){if(!!on(global.process)){var r=ge.listeners(e);r.length===Ie.count&&(fs(),sn("exit",null,e),sn("afterexit",null,e),Sb&&e==="SIGHUP"&&(e="SIGINT"),ge.kill(ge.pid,e))}}}),ii.exports.signals=function(){return ri},ni=!1,Tl=function(){ni||!on(global.process)||(ni=!0,Ie.count+=1,ri=ri.filter(function(t){try{return ge.on(t,ds[t]),!0}catch{return!1}}),ge.emit=wb,ge.reallyExit=_b)},ii.exports.load=Tl,Pl=ge.reallyExit,_b=function(t){!on(global.process)||(ge.exitCode=t||0,sn("exit",ge.exitCode,null),sn("afterexit",ge.exitCode,null),Pl.call(ge,ge.exitCode))},hs=ge.emit,wb=function(t,r){if(t==="exit"&&on(global.process)){r!==void 0&&(ge.exitCode=r);var n=hs.apply(this,arguments);return sn("exit",ge.exitCode,null),sn("afterexit",ge.exitCode,null),n}else return hs.apply(this,arguments)}):ii.exports=function(){return function(){}};var vb,ri,Sb,ya,Ie,fs,sn,ds,ni,Tl,Pl,_b,hs,wb});var Ab=S((Nj,Rb)=>{"use strict";var EI=require("os"),RI=Eb(),AI=1e3*5,TI=(e,t="SIGTERM",r={})=>{let n=e(t);return PI(e,t,r,n),n},PI=(e,t,r,n)=>{if(!OI(t,r,n))return;let i=CI(r),a=setTimeout(()=>{e("SIGKILL")},i);a.unref&&a.unref()},OI=(e,{forceKillAfterTimeout:t},r)=>xI(e)&&t!==!1&&r,xI=e=>e===EI.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",CI=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return AI;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},II=(e,t)=>{e.kill()&&(t.isCanceled=!0)},kI=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},DI=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let i,a=new Promise((l,c)=>{i=setTimeout(()=>{kI(e,r,c)},t)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([a,s])},LI=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},FI=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let i=RI(()=>{e.kill()});return n.finally(()=>{i()})};Rb.exports={spawnedKill:TI,spawnedCancel:II,setupTimeout:DI,validateTimeout:LI,setExitHandler:FI}});var Pb=S((Bj,Tb)=>{"use strict";var Ft=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Ft.writable=e=>Ft(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";Ft.readable=e=>Ft(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";Ft.duplex=e=>Ft.writable(e)&&Ft.readable(e);Ft.transform=e=>Ft.duplex(e)&&typeof e._transform=="function";Tb.exports=Ft});var xb=S((Gj,Ob)=>{"use strict";var{PassThrough:MI}=require("stream");Ob.exports=e=>{e=H({},e);let{array:t}=e,{encoding:r}=e,n=r==="buffer",i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);let a=new MI({objectMode:i});r&&a.setEncoding(r);let s=0,l=[];return a.on("data",c=>{l.push(c),i?s=l.length:s+=c.length}),a.getBufferedValue=()=>t?l:n?Buffer.concat(l,s):l.join(""),a.getBufferedLength=()=>s,a}});var Cb=S(($j,ga)=>{"use strict";var{constants:qI}=require("buffer"),NI=require("stream"),{promisify:BI}=require("util"),GI=xb(),$I=BI(NI.pipeline),Ol=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function xl(e,t){if(!e)throw new Error("Expected a stream");t=H({maxBuffer:1/0},t);let{maxBuffer:r}=t,n=GI(t);return await new Promise((i,a)=>{let s=l=>{l&&n.getBufferedLength()<=qI.MAX_LENGTH&&(l.bufferedData=n.getBufferedValue()),a(l)};(async()=>{try{await $I(e,n),i()}catch(l){s(l)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new Ol)})}),n.getBufferedValue()}ga.exports=xl;ga.exports.buffer=(e,t)=>xl(e,ce(H({},t),{encoding:"buffer"}));ga.exports.array=(e,t)=>xl(e,ce(H({},t),{array:!0}));ga.exports.MaxBufferError=Ol});var kb=S((Wj,Ib)=>{"use strict";var{PassThrough:WI}=require("stream");Ib.exports=function(){var e=[],t=new WI({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(a){return Array.isArray(a)?(a.forEach(r),this):(e.push(a),a.once("end",i.bind(null,a)),a.once("error",t.emit.bind(t,"error")),a.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(a){e=e.filter(function(s){return s!==a}),!e.length&&t.readable&&t.end()}}});var Mb=S((jj,Fb)=>{"use strict";var Lb=Pb(),Db=Cb(),jI=kb(),UI=(e,t)=>{t===void 0||e.stdin===void 0||(Lb(t)?t.pipe(e.stdin):e.stdin.end(t))},HI=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=jI();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Cl=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},Il=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Db(e,{encoding:t,maxBuffer:n}):Db.buffer(e,{maxBuffer:n})},zI=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:a},s)=>{let l=Il(e,{encoding:n,buffer:i,maxBuffer:a}),c=Il(t,{encoding:n,buffer:i,maxBuffer:a}),f=Il(r,{encoding:n,buffer:i,maxBuffer:a*2});try{return await Promise.all([s,l,c,f])}catch(d){return Promise.all([{error:d,signal:d.signal,timedOut:d.timedOut},Cl(e,l),Cl(t,c),Cl(r,f)])}},YI=({input:e})=>{if(Lb(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Fb.exports={handleInput:UI,makeAllStream:HI,getSpawnedResult:zI,validateInputSync:YI}});var Nb=S((Uj,qb)=>{"use strict";var VI=(async()=>{})().constructor.prototype,QI=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(VI,e)]),KI=(e,t)=>{for(let[r,n]of QI){let i=typeof t=="function"?(...a)=>Reflect.apply(n.value,t(),a):n.value.bind(t);Reflect.defineProperty(e,r,ce(H({},n),{value:i}))}return e},XI=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});qb.exports={mergePromise:KI,getSpawnedPromise:XI}});var $b=S((Hj,Gb)=>{"use strict";var Bb=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],ZI=/^[\w.-]+$/,JI=/"/g,ek=e=>typeof e!="string"||ZI.test(e)?e:`"${e.replace(JI,'\\"')}"`,tk=(e,t)=>Bb(e,t).join(" "),rk=(e,t)=>Bb(e,t).map(r=>ek(r)).join(" "),nk=/ +/g,ik=e=>{let t=[];for(let r of e.trim().split(nk)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};Gb.exports={joinCommand:tk,getEscapedCommand:rk,parseCommand:ik}});var Vb=S((zj,ai)=>{"use strict";var ak=require("path"),kl=require("child_process"),ok=Zg(),sk=eb(),uk=nb(),ck=sb(),ps=mb(),jb=gb(),{spawnedKill:lk,spawnedCancel:fk,setupTimeout:dk,validateTimeout:hk,setExitHandler:pk}=Ab(),{handleInput:mk,getSpawnedResult:yk,makeAllStream:gk,validateInputSync:bk}=Mb(),{mergePromise:Wb,getSpawnedPromise:vk}=Nb(),{joinCommand:Ub,parseCommand:Hb,getEscapedCommand:zb}=$b(),Sk=1e3*1e3*100,_k=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{let a=t?H(H({},process.env),e):e;return r?uk.env({env:a,cwd:n,execPath:i}):a},Yb=(e,t,r={})=>{let n=ok._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r=H({maxBuffer:Sk,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},r),r.env=_k(r),r.stdio=jb(r),process.platform==="win32"&&ak.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},ba=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?sk(t):t,ms=(e,t,r)=>{let n=Yb(e,t,r),i=Ub(e,t),a=zb(e,t);hk(n.options);let s;try{s=kl.spawn(n.file,n.args,n.options)}catch(g){let y=new kl.ChildProcess,v=Promise.reject(ps({error:g,stdout:"",stderr:"",all:"",command:i,escapedCommand:a,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Wb(y,v)}let l=vk(s),c=dk(s,n.options,l),f=pk(s,n.options,c),d={isCanceled:!1};s.kill=lk.bind(null,s.kill.bind(s)),s.cancel=fk.bind(null,s,d);let p=ck(async()=>{let[{error:g,exitCode:y,signal:v,timedOut:_},E,P,I]=await yk(s,n.options,f),D=ba(n.options,E),k=ba(n.options,P),M=ba(n.options,I);if(g||y!==0||v!==null){let N=ps({error:g,exitCode:y,signal:v,stdout:D,stderr:k,all:M,command:i,escapedCommand:a,parsed:n,timedOut:_,isCanceled:d.isCanceled,killed:s.killed});if(!n.options.reject)return N;throw N}return{command:i,escapedCommand:a,exitCode:0,stdout:D,stderr:k,all:M,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return mk(s,n.options.input),s.all=gk(s,n.options),Wb(s,p)};ai.exports=ms;ai.exports.sync=(e,t,r)=>{let n=Yb(e,t,r),i=Ub(e,t),a=zb(e,t);bk(n.options);let s;try{s=kl.spawnSync(n.file,n.args,n.options)}catch(f){throw ps({error:f,stdout:"",stderr:"",all:"",command:i,escapedCommand:a,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let l=ba(n.options,s.stdout,s.error),c=ba(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let f=ps({stdout:l,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:a,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return f;throw f}return{command:i,escapedCommand:a,exitCode:0,stdout:l,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ai.exports.command=(e,t)=>{let[r,...n]=Hb(e);return ms(r,n,t)};ai.exports.commandSync=(e,t)=>{let[r,...n]=Hb(e);return ms.sync(r,n,t)};ai.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=jb.node(r),i=process.execArgv.filter(l=>!l.startsWith("--inspect")),{nodePath:a=process.execPath,nodeOptions:s=i}=r;return ms(a,[...s,e,...Array.isArray(t)?t:[]],ce(H({},r),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1}))}});var iv=S((Xj,nv)=>{"use strict";var kk=require("fs"),Dk=require("os"),Ll=Symbol.for("__RESOLVED_TEMP_DIRECTORY__");global[Ll]||Object.defineProperty(global,Ll,{value:kk.realpathSync(Dk.tmpdir())});nv.exports=global[Ll]});var sv=S((Jj,ov)=>{"use strict";ov.exports=(...e)=>[...new Set([].concat(...e))]});var Fl=S((eU,lv)=>{"use strict";var Lk=require("stream"),uv=Lk.PassThrough,Fk=Array.prototype.slice;lv.exports=Mk;function Mk(){let e=[],t=Fk.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,a=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let s=uv(n);function l(){for(let d=0,m=arguments.length;d<m;d++)e.push(cv(arguments[d],n));return c(),this}function c(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(f);return}Array.isArray(d)||(d=[d]);let m=d.length+1;function p(){--m>0||(r=!1,c())}function g(y){function v(){y.removeListener("merge2UnpipeEnd",v),y.removeListener("end",v),a&&y.removeListener("error",_),p()}function _(E){s.emit("error",E)}if(y._readableState.endEmitted)return p();y.on("merge2UnpipeEnd",v),y.on("end",v),a&&y.on("error",_),y.pipe(s,{end:!1}),y.resume()}for(let y=0;y<d.length;y++)g(d[y]);p()}function f(){r=!1,s.emit("queueDrain"),i&&s.end()}return s.setMaxListeners(0),s.add=l,s.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&l.apply(null,t),s}function cv(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=cv(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(uv(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var fv=S(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.splitWhen=oi.flatten=void 0;function qk(e){return e.reduce((t,r)=>[].concat(t,r),[])}oi.flatten=qk;function Nk(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}oi.splitWhen=Nk});var dv=S(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.isEnoentCodeError=void 0;function Bk(e){return e.code==="ENOENT"}gs.isEnoentCodeError=Bk});var pv=S(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.createDirentFromStats=void 0;var hv=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Gk(e,t){return new hv(e,t)}bs.createDirentFromStats=Gk});var mv=S(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.removeLeadingDotSegment=Mt.escape=Mt.makeAbsolute=Mt.unixify=void 0;var $k=require("path"),Wk=2,jk=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Uk(e){return e.replace(/\\/g,"/")}Mt.unixify=Uk;function Hk(e,t){return $k.resolve(e,t)}Mt.makeAbsolute=Hk;function zk(e){return e.replace(jk,"\\$2")}Mt.escape=zk;function Yk(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(Wk)}return e}Mt.removeLeadingDotSegment=Yk});var gv=S((aU,yv)=>{yv.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Ml=S((oU,vv)=>{var Vk=gv(),bv={"{":"}","(":")","[":"]"},Qk=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,a=-2,s=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(s===-1||s>n||(s=e.indexOf("\\",t),s===-1||s>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(s=e.indexOf("\\",t),s===-1||s>i))||a!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(a=e.indexOf(")",t),a>t&&(s=e.indexOf("\\",t),s===-1||s>a))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(a=e.indexOf(")",r),a>r&&(s=e.indexOf("\\",r),s===-1||s>a))))return!0;if(e[t]==="\\"){var l=e[t+1];t+=2;var c=bv[l];if(c){var f=e.indexOf(c,t);f!==-1&&(t=f+1)}if(e[t]==="!")return!0}else t++}return!1},Kk=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=bv[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};vv.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Vk(t))return!0;var n=Qk;return r&&r.strict===!1&&(n=Kk),n(t)}});var _v=S((sU,Sv)=>{"use strict";var Xk=Ml(),Zk=require("path").posix.dirname,Jk=require("os").platform()==="win32",ql="/",eD=/\\/g,tD=/[\{\[].*[\}\]]$/,rD=/(^|[^\\])([\{\[]|\([^\)]+$)/,nD=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Sv.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Jk&&t.indexOf(ql)<0&&(t=t.replace(eD,ql)),tD.test(t)&&(t+=ql),t+="a";do t=Zk(t);while(Xk(t)||rD.test(t));return t.replace(nD,"$1")}});var vs=S(ht=>{"use strict";ht.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ht.find=(e,t)=>e.nodes.find(r=>r.type===t);ht.exceedsLimit=(e,t,r=1,n)=>n===!1||!ht.isInteger(e)||!ht.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ht.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ht.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ht.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ht.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ht.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ht.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?r(a,t):a!==void 0&&t.push(a)}return t};return r(e),t}});var Ss=S((cU,Ev)=>{"use strict";var wv=vs();Ev.exports=(e,t={})=>{let r=(n,i={})=>{let a=t.escapeInvalid&&wv.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,l="";if(n.value)return(a||s)&&wv.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)l+=r(c);return l};return r(e)}});var Av=S((lU,Rv)=>{"use strict";Rv.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Lv=S((fU,Dv)=>{"use strict";var Tv=Av(),un=(e,t,r)=>{if(Tv(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Tv(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=H({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),a=String(n.shorthand),s=String(n.capture),l=String(n.wrap),c=e+":"+t+"="+i+a+s+l;if(un.cache.hasOwnProperty(c))return un.cache[c].result;let f=Math.min(e,t),d=Math.max(e,t);if(Math.abs(f-d)===1){let v=e+"|"+t;return n.capture?`(${v})`:n.wrap===!1?v:`(?:${v})`}let m=kv(e)||kv(t),p={min:e,max:t,a:f,b:d},g=[],y=[];if(m&&(p.isPadded=m,p.maxLen=String(p.max).length),f<0){let v=d<0?Math.abs(d):1;y=Pv(v,Math.abs(f),p,n),f=p.a=0}return d>=0&&(g=Pv(f,d,p,n)),p.negatives=y,p.positives=g,p.result=iD(y,g,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&g.length+y.length>1&&(p.result=`(?:${p.result})`),un.cache[c]=p,p.result};function iD(e,t,r){let n=Nl(e,t,"-",!1,r)||[],i=Nl(t,e,"",!1,r)||[],a=Nl(e,t,"-?",!0,r)||[];return n.concat(a).concat(i).join("|")}function aD(e,t){let r=1,n=1,i=xv(e,r),a=new Set([t]);for(;e<=i&&i<=t;)a.add(i),r+=1,i=xv(e,r);for(i=Cv(t+1,n)-1;e<i&&i<=t;)a.add(i),n+=1,i=Cv(t+1,n)-1;return a=[...a],a.sort(uD),a}function oD(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=sD(e,t),i=n.length,a="",s=0;for(let l=0;l<i;l++){let[c,f]=n[l];c===f?a+=c:c!=="0"||f!=="9"?a+=cD(c,f,r):s++}return s&&(a+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[s],digits:i}}function Pv(e,t,r,n){let i=aD(e,t),a=[],s=e,l;for(let c=0;c<i.length;c++){let f=i[c],d=oD(String(s),String(f),n),m="";if(!r.isPadded&&l&&l.pattern===d.pattern){l.count.length>1&&l.count.pop(),l.count.push(d.count[0]),l.string=l.pattern+Iv(l.count),s=f+1;continue}r.isPadded&&(m=lD(f,r,n)),d.string=m+d.pattern+Iv(d.count),a.push(d),s=f+1,l=d}return a}function Nl(e,t,r,n,i){let a=[];for(let s of e){let{string:l}=s;!n&&!Ov(t,"string",l)&&a.push(r+l),n&&Ov(t,"string",l)&&a.push(r+l)}return a}function sD(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function uD(e,t){return e>t?1:t>e?-1:0}function Ov(e,t,r){return e.some(n=>n[t]===r)}function xv(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Cv(e,t){return e-e%Math.pow(10,t)}function Iv(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function cD(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function kv(e){return/^-?(0+)\d/.test(e)}function lD(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}un.cache={};un.clearCache=()=>un.cache={};Dv.exports=un});var $l=S((dU,Wv)=>{"use strict";var fD=require("util"),qv=Lv(),Fv=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),dD=e=>t=>e===!0?Number(t):String(t),Bl=e=>typeof e=="number"||typeof e=="string"&&e!=="",va=e=>Number.isInteger(+e),Gl=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},hD=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,pD=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Mv=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},mD=(e,t)=>{e.negatives.sort((s,l)=>s<l?-1:s>l?1:0),e.positives.sort((s,l)=>s<l?-1:s>l?1:0);let r=t.capture?"":"?:",n="",i="",a;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?a=`${n}|${i}`:a=n||i,t.wrap?`(${r}${a})`:a},Nv=(e,t,r,n)=>{if(r)return qv(e,t,H({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let a=String.fromCharCode(t);return`[${i}-${a}]`},Bv=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return qv(e,t,r)},Gv=(...e)=>new RangeError("Invalid range arguments: "+fD.inspect(...e)),$v=(e,t,r)=>{if(r.strictRanges===!0)throw Gv([e,t]);return[]},yD=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},gD=(e,t,r=1,n={})=>{let i=Number(e),a=Number(t);if(!Number.isInteger(i)||!Number.isInteger(a)){if(n.strictRanges===!0)throw Gv([e,t]);return[]}i===0&&(i=0),a===0&&(a=0);let s=i>a,l=String(e),c=String(t),f=String(r);r=Math.max(Math.abs(r),1);let d=Gl(l)||Gl(c)||Gl(f),m=d?Math.max(l.length,c.length,f.length):0,p=d===!1&&hD(e,t,n)===!1,g=n.transform||dD(p);if(n.toRegex&&r===1)return Nv(Mv(e,m),Mv(t,m),!0,n);let y={negatives:[],positives:[]},v=P=>y[P<0?"negatives":"positives"].push(Math.abs(P)),_=[],E=0;for(;s?i>=a:i<=a;)n.toRegex===!0&&r>1?v(i):_.push(pD(g(i,E),m,p)),i=s?i-r:i+r,E++;return n.toRegex===!0?r>1?mD(y,n):Bv(_,null,H({wrap:!1},n)):_},bD=(e,t,r=1,n={})=>{if(!va(e)&&e.length>1||!va(t)&&t.length>1)return $v(e,t,n);let i=n.transform||(p=>String.fromCharCode(p)),a=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),l=a>s,c=Math.min(a,s),f=Math.max(a,s);if(n.toRegex&&r===1)return Nv(c,f,!1,n);let d=[],m=0;for(;l?a>=s:a<=s;)d.push(i(a,m)),a=l?a-r:a+r,m++;return n.toRegex===!0?Bv(d,null,{wrap:!1,options:n}):d},_s=(e,t,r,n={})=>{if(t==null&&Bl(e))return[e];if(!Bl(e)||!Bl(t))return $v(e,t,n);if(typeof r=="function")return _s(e,t,1,{transform:r});if(Fv(r))return _s(e,t,0,r);let i=H({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,va(r)?va(e)&&va(t)?gD(e,t,r,i):bD(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Fv(r)?yD(r,i):_s(e,t,1,r)};Wv.exports=_s});var Hv=S((hU,Uv)=>{"use strict";var vD=$l(),jv=vs(),SD=(e,t={})=>{let r=(n,i={})=>{let a=jv.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,l=a===!0||s===!0,c=t.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return l?c+n.value:"(";if(n.type==="close")return l?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":l?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=jv.reduce(n.nodes),m=vD(...d,ce(H({},t),{wrap:!1,toRegex:!0}));if(m.length!==0)return d.length>1&&m.length>1?`(${m})`:m}if(n.nodes)for(let d of n.nodes)f+=r(d,n);return f};return r(e)};Uv.exports=SD});var Vv=S((pU,Yv)=>{"use strict";var _D=$l(),zv=Ss(),si=vs(),cn=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?si.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let a of i)n.push(cn(a,t,r));else for(let a of t)r===!0&&typeof a=="string"&&(a=`{${a}}`),n.push(Array.isArray(a)?cn(i,a,r):i+a);return si.flatten(n)},wD=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,a={})=>{i.queue=[];let s=a,l=a.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,l=s.queue;if(i.invalid||i.dollar){l.push(cn(l.pop(),zv(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){l.push(cn(l.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let m=si.reduce(i.nodes);if(si.exceedsLimit(...m,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=_D(...m,t);p.length===0&&(p=zv(i,t)),l.push(cn(l.pop(),p)),i.nodes=[];return}let c=si.encloseBrace(i),f=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,f=d.queue;for(let m=0;m<i.nodes.length;m++){let p=i.nodes[m];if(p.type==="comma"&&i.type==="brace"){m===1&&f.push(""),f.push("");continue}if(p.type==="close"){l.push(cn(l.pop(),f,c));continue}if(p.value&&p.type!=="open"){f.push(cn(f.pop(),p.value));continue}p.nodes&&n(p,i)}return f};return si.flatten(n(e))};Yv.exports=wD});var Kv=S((mU,Qv)=>{"use strict";Qv.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var tS=S((yU,eS)=>{"use strict";var ED=Ss(),{MAX_LENGTH:Xv,CHAR_BACKSLASH:Wl,CHAR_BACKTICK:RD,CHAR_COMMA:AD,CHAR_DOT:TD,CHAR_LEFT_PARENTHESES:PD,CHAR_RIGHT_PARENTHESES:OD,CHAR_LEFT_CURLY_BRACE:xD,CHAR_RIGHT_CURLY_BRACE:CD,CHAR_LEFT_SQUARE_BRACKET:Zv,CHAR_RIGHT_SQUARE_BRACKET:Jv,CHAR_DOUBLE_QUOTE:ID,CHAR_SINGLE_QUOTE:kD,CHAR_NO_BREAK_SPACE:DD,CHAR_ZERO_WIDTH_NOBREAK_SPACE:LD}=Kv(),FD=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Xv,r.maxLength):Xv;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},a=[i],s=i,l=i,c=0,f=e.length,d=0,m=0,p,g={},y=()=>e[d++],v=_=>{if(_.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&_.type==="text"){l.value+=_.value;return}return s.nodes.push(_),_.parent=s,_.prev=l,l=_,_};for(v({type:"bos"});d<f;)if(s=a[a.length-1],p=y(),!(p===LD||p===DD)){if(p===Wl){v({type:"text",value:(t.keepEscaping?p:"")+y()});continue}if(p===Jv){v({type:"text",value:"\\"+p});continue}if(p===Zv){c++;let _=!0,E;for(;d<f&&(E=y());){if(p+=E,E===Zv){c++;continue}if(E===Wl){p+=y();continue}if(E===Jv&&(c--,c===0))break}v({type:"text",value:p});continue}if(p===PD){s=v({type:"paren",nodes:[]}),a.push(s),v({type:"text",value:p});continue}if(p===OD){if(s.type!=="paren"){v({type:"text",value:p});continue}s=a.pop(),v({type:"text",value:p}),s=a[a.length-1];continue}if(p===ID||p===kD||p===RD){let _=p,E;for(t.keepQuotes!==!0&&(p="");d<f&&(E=y());){if(E===Wl){p+=E+y();continue}if(E===_){t.keepQuotes===!0&&(p+=E);break}p+=E}v({type:"text",value:p});continue}if(p===xD){m++;let _=l.value&&l.value.slice(-1)==="$"||s.dollar===!0;s=v({type:"brace",open:!0,close:!1,dollar:_,depth:m,commas:0,ranges:0,nodes:[]}),a.push(s),v({type:"open",value:p});continue}if(p===CD){if(s.type!=="brace"){v({type:"text",value:p});continue}let _="close";s=a.pop(),s.close=!0,v({type:_,value:p}),m--,s=a[a.length-1];continue}if(p===AD&&m>0){if(s.ranges>0){s.ranges=0;let _=s.nodes.shift();s.nodes=[_,{type:"text",value:ED(s)}]}v({type:"comma",value:p}),s.commas++;continue}if(p===TD&&m>0&&s.commas===0){let _=s.nodes;if(m===0||_.length===0){v({type:"text",value:p});continue}if(l.type==="dot"){if(s.range=[],l.value+=p,l.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,l.type="text";continue}s.ranges++,s.args=[];continue}if(l.type==="range"){_.pop();let E=_[_.length-1];E.value+=l.value+p,l=E,s.ranges--;continue}v({type:"dot",value:p});continue}v({type:"text",value:p})}do if(s=a.pop(),s.type!=="root"){s.nodes.forEach(P=>{P.nodes||(P.type==="open"&&(P.isOpen=!0),P.type==="close"&&(P.isClose=!0),P.nodes||(P.type="text"),P.invalid=!0)});let _=a[a.length-1],E=_.nodes.indexOf(s);_.nodes.splice(E,1,...s.nodes)}while(a.length>0);return v({type:"eos"}),i};eS.exports=FD});var iS=S((gU,nS)=>{"use strict";var rS=Ss(),MD=Hv(),qD=Vv(),ND=tS(),at=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=at.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(at.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};at.parse=(e,t={})=>ND(e,t);at.stringify=(e,t={})=>rS(typeof e=="string"?at.parse(e,t):e,t);at.compile=(e,t={})=>(typeof e=="string"&&(e=at.parse(e,t)),MD(e,t));at.expand=(e,t={})=>{typeof e=="string"&&(e=at.parse(e,t));let r=qD(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};at.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?at.compile(e,t):at.expand(e,t);nS.exports=at});var Sa=S((bU,cS)=>{"use strict";var BD=require("path"),qt="\\\\/",aS=`[^${qt}]`,Jt="\\.",GD="\\+",$D="\\?",ws="\\/",WD="(?=.)",oS="[^/]",jl=`(?:${ws}|$)`,sS=`(?:^|${ws})`,Ul=`${Jt}{1,2}${jl}`,jD=`(?!${Jt})`,UD=`(?!${sS}${Ul})`,HD=`(?!${Jt}{0,1}${jl})`,zD=`(?!${Ul})`,YD=`[^.${ws}]`,VD=`${oS}*?`,uS={DOT_LITERAL:Jt,PLUS_LITERAL:GD,QMARK_LITERAL:$D,SLASH_LITERAL:ws,ONE_CHAR:WD,QMARK:oS,END_ANCHOR:jl,DOTS_SLASH:Ul,NO_DOT:jD,NO_DOTS:UD,NO_DOT_SLASH:HD,NO_DOTS_SLASH:zD,QMARK_NO_DOT:YD,STAR:VD,START_ANCHOR:sS},QD=ce(H({},uS),{SLASH_LITERAL:`[${qt}]`,QMARK:aS,STAR:`${aS}*?`,DOTS_SLASH:`${Jt}{1,2}(?:[${qt}]|$)`,NO_DOT:`(?!${Jt})`,NO_DOTS:`(?!(?:^|[${qt}])${Jt}{1,2}(?:[${qt}]|$))`,NO_DOT_SLASH:`(?!${Jt}{0,1}(?:[${qt}]|$))`,NO_DOTS_SLASH:`(?!${Jt}{1,2}(?:[${qt}]|$))`,QMARK_NO_DOT:`[^.${qt}]`,START_ANCHOR:`(?:^|[${qt}])`,END_ANCHOR:`(?:[${qt}]|$)`}),KD={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};cS.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:KD,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:BD.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?QD:uS}}});var _a=S(et=>{"use strict";var XD=require("path"),ZD=process.platform==="win32",{REGEX_BACKSLASH:JD,REGEX_REMOVE_BACKSLASH:e1,REGEX_SPECIAL_CHARS:t1,REGEX_SPECIAL_CHARS_GLOBAL:r1}=Sa();et.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);et.hasRegexChars=e=>t1.test(e);et.isRegexChar=e=>e.length===1&&et.hasRegexChars(e);et.escapeRegex=e=>e.replace(r1,"\\$1");et.toPosixSlashes=e=>e.replace(JD,"/");et.removeBackslashes=e=>e.replace(e1,t=>t==="\\"?"":t);et.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};et.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:ZD===!0||XD.sep==="\\";et.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?et.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};et.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};et.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",a=`${n}(?:${e})${i}`;return t.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var gS=S((SU,yS)=>{"use strict";var lS=_a(),{CHAR_ASTERISK:Hl,CHAR_AT:n1,CHAR_BACKWARD_SLASH:wa,CHAR_COMMA:i1,CHAR_DOT:zl,CHAR_EXCLAMATION_MARK:Yl,CHAR_FORWARD_SLASH:mS,CHAR_LEFT_CURLY_BRACE:Vl,CHAR_LEFT_PARENTHESES:Ql,CHAR_LEFT_SQUARE_BRACKET:a1,CHAR_PLUS:o1,CHAR_QUESTION_MARK:fS,CHAR_RIGHT_CURLY_BRACE:s1,CHAR_RIGHT_PARENTHESES:dS,CHAR_RIGHT_SQUARE_BRACKET:u1}=Sa(),hS=e=>e===mS||e===wa,pS=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},c1=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,a=[],s=[],l=[],c=e,f=-1,d=0,m=0,p=!1,g=!1,y=!1,v=!1,_=!1,E=!1,P=!1,I=!1,D=!1,k=!1,M=0,N,L,C={value:"",depth:0,isGlob:!1},q=()=>f>=n,R=()=>c.charCodeAt(f+1),W=()=>(N=L,c.charCodeAt(++f));for(;f<n;){L=W();let $;if(L===wa){P=C.backslashes=!0,L=W(),L===Vl&&(E=!0);continue}if(E===!0||L===Vl){for(M++;q()!==!0&&(L=W());){if(L===wa){P=C.backslashes=!0,W();continue}if(L===Vl){M++;continue}if(E!==!0&&L===zl&&(L=W())===zl){if(p=C.isBrace=!0,y=C.isGlob=!0,k=!0,i===!0)continue;break}if(E!==!0&&L===i1){if(p=C.isBrace=!0,y=C.isGlob=!0,k=!0,i===!0)continue;break}if(L===s1&&(M--,M===0)){E=!1,p=C.isBrace=!0,k=!0;break}}if(i===!0)continue;break}if(L===mS){if(a.push(f),s.push(C),C={value:"",depth:0,isGlob:!1},k===!0)continue;if(N===zl&&f===d+1){d+=2;continue}m=f+1;continue}if(r.noext!==!0&&(L===o1||L===n1||L===Hl||L===fS||L===Yl)===!0&&R()===Ql){if(y=C.isGlob=!0,v=C.isExtglob=!0,k=!0,L===Yl&&f===d&&(D=!0),i===!0){for(;q()!==!0&&(L=W());){if(L===wa){P=C.backslashes=!0,L=W();continue}if(L===dS){y=C.isGlob=!0,k=!0;break}}continue}break}if(L===Hl){if(N===Hl&&(_=C.isGlobstar=!0),y=C.isGlob=!0,k=!0,i===!0)continue;break}if(L===fS){if(y=C.isGlob=!0,k=!0,i===!0)continue;break}if(L===a1){for(;q()!==!0&&($=W());){if($===wa){P=C.backslashes=!0,W();continue}if($===u1){g=C.isBracket=!0,y=C.isGlob=!0,k=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&L===Yl&&f===d){I=C.negated=!0,d++;continue}if(r.noparen!==!0&&L===Ql){if(y=C.isGlob=!0,i===!0){for(;q()!==!0&&(L=W());){if(L===Ql){P=C.backslashes=!0,L=W();continue}if(L===dS){k=!0;break}}continue}break}if(y===!0){if(k=!0,i===!0)continue;break}}r.noext===!0&&(v=!1,y=!1);let B=c,z="",A="";d>0&&(z=c.slice(0,d),c=c.slice(d),m-=d),B&&y===!0&&m>0?(B=c.slice(0,m),A=c.slice(m)):y===!0?(B="",A=c):B=c,B&&B!==""&&B!=="/"&&B!==c&&hS(B.charCodeAt(B.length-1))&&(B=B.slice(0,-1)),r.unescape===!0&&(A&&(A=lS.removeBackslashes(A)),B&&P===!0&&(B=lS.removeBackslashes(B)));let T={prefix:z,input:e,start:d,base:B,glob:A,isBrace:p,isBracket:g,isGlob:y,isExtglob:v,isGlobstar:_,negated:I,negatedExtglob:D};if(r.tokens===!0&&(T.maxDepth=0,hS(L)||s.push(C),T.tokens=s),r.parts===!0||r.tokens===!0){let $;for(let j=0;j<a.length;j++){let K=$?$+1:d,ke=a[j],Te=e.slice(K,ke);r.tokens&&(j===0&&d!==0?(s[j].isPrefix=!0,s[j].value=z):s[j].value=Te,pS(s[j]),T.maxDepth+=s[j].depth),(j!==0||Te!=="")&&l.push(Te),$=ke}if($&&$+1<e.length){let j=e.slice($+1);l.push(j),r.tokens&&(s[s.length-1].value=j,pS(s[s.length-1]),T.maxDepth+=s[s.length-1].depth)}T.slashes=a,T.parts=l}return T};yS.exports=c1});var SS=S((_U,vS)=>{"use strict";var Es=Sa(),ot=_a(),{MAX_LENGTH:Rs,POSIX_REGEX_SOURCE:l1,REGEX_NON_SPECIAL_CHARS:f1,REGEX_SPECIAL_CHARS_BACKREF:d1,REPLACEMENTS:bS}=Es,h1=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>ot.escapeRegex(i)).join("..")}return r},ui=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Kl=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=bS[e]||e;let r=H({},t),n=typeof r.maxLength=="number"?Math.min(Rs,r.maxLength):Rs,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},s=[a],l=r.capture?"":"?:",c=ot.isWindows(t),f=Es.globChars(c),d=Es.extglobChars(f),{DOT_LITERAL:m,PLUS_LITERAL:p,SLASH_LITERAL:g,ONE_CHAR:y,DOTS_SLASH:v,NO_DOT:_,NO_DOT_SLASH:E,NO_DOTS_SLASH:P,QMARK:I,QMARK_NO_DOT:D,STAR:k,START_ANCHOR:M}=f,N=G=>`(${l}(?:(?!${M}${G.dot?v:m}).)*?)`,L=r.dot?"":_,C=r.dot?I:D,q=r.bash===!0?N(r):k;r.capture&&(q=`(${q})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let R={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=ot.removePrefix(e,R),i=e.length;let W=[],B=[],z=[],A=a,T,$=()=>R.index===i-1,j=R.peek=(G=1)=>e[R.index+G],K=R.advance=()=>e[++R.index]||"",ke=()=>e.slice(R.index+1),Te=(G="",te=0)=>{R.consumed+=G,R.index+=te},ut=G=>{R.output+=G.output!=null?G.output:G.value,Te(G.value)},Ca=()=>{let G=1;for(;j()==="!"&&(j(2)!=="("||j(3)==="?");)K(),R.start++,G++;return G%2===0?!1:(R.negated=!0,R.start++,!0)},_n=G=>{R[G]++,z.push(G)},$t=G=>{R[G]--,z.pop()},V=G=>{if(A.type==="globstar"){let te=R.braces>0&&(G.type==="comma"||G.type==="brace"),F=G.extglob===!0||W.length&&(G.type==="pipe"||G.type==="paren");G.type!=="slash"&&G.type!=="paren"&&!te&&!F&&(R.output=R.output.slice(0,-A.output.length),A.type="star",A.value="*",A.output=q,R.output+=A.output)}if(W.length&&G.type!=="paren"&&(W[W.length-1].inner+=G.value),(G.value||G.output)&&ut(G),A&&A.type==="text"&&G.type==="text"){A.value+=G.value,A.output=(A.output||"")+G.value;return}G.prev=A,s.push(G),A=G},Be=(G,te)=>{let F=ce(H({},d[te]),{conditions:1,inner:""});F.prev=A,F.parens=R.parens,F.output=R.output;let X=(r.capture?"(":"")+F.open;_n("parens"),V({type:G,value:te,output:R.output?"":y}),V({type:"paren",extglob:!0,value:K(),output:X}),W.push(F)},lu=G=>{let te=G.close+(r.capture?")":""),F;if(G.type==="negate"){let X=q;if(G.inner&&G.inner.length>1&&G.inner.includes("/")&&(X=N(r)),(X!==q||$()||/^\)+$/.test(ke()))&&(te=G.close=`)$))${X}`),G.inner.includes("*")&&(F=ke())&&/^\.[^\\/.]+$/.test(F)){let pe=Kl(F,ce(H({},t),{fastpaths:!1})).output;te=G.close=`)${pe})${X})`}G.prev.type==="bos"&&(R.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:T,output:te}),$t("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let G=!1,te=e.replace(d1,(F,X,pe,De,Se,Mr)=>De==="\\"?(G=!0,F):De==="?"?X?X+De+(Se?I.repeat(Se.length):""):Mr===0?C+(Se?I.repeat(Se.length):""):I.repeat(pe.length):De==="."?m.repeat(pe.length):De==="*"?X?X+De+(Se?q:""):q:X?F:`\\${F}`);return G===!0&&(r.unescape===!0?te=te.replace(/\\/g,""):te=te.replace(/\\+/g,F=>F.length%2===0?"\\\\":F?"\\":"")),te===e&&r.contains===!0?(R.output=e,R):(R.output=ot.wrapOutput(te,R,t),R)}for(;!$();){if(T=K(),T==="\0")continue;if(T==="\\"){let F=j();if(F==="/"&&r.bash!==!0||F==="."||F===";")continue;if(!F){T+="\\",V({type:"text",value:T});continue}let X=/^\\+/.exec(ke()),pe=0;if(X&&X[0].length>2&&(pe=X[0].length,R.index+=pe,pe%2!==0&&(T+="\\")),r.unescape===!0?T=K():T+=K(),R.brackets===0){V({type:"text",value:T});continue}}if(R.brackets>0&&(T!=="]"||A.value==="["||A.value==="[^")){if(r.posix!==!1&&T===":"){let F=A.value.slice(1);if(F.includes("[")&&(A.posix=!0,F.includes(":"))){let X=A.value.lastIndexOf("["),pe=A.value.slice(0,X),De=A.value.slice(X+2),Se=l1[De];if(Se){A.value=pe+Se,R.backtrack=!0,K(),!a.output&&s.indexOf(A)===1&&(a.output=y);continue}}}(T==="["&&j()!==":"||T==="-"&&j()==="]")&&(T=`\\${T}`),T==="]"&&(A.value==="["||A.value==="[^")&&(T=`\\${T}`),r.posix===!0&&T==="!"&&A.value==="["&&(T="^"),A.value+=T,ut({value:T});continue}if(R.quotes===1&&T!=='"'){T=ot.escapeRegex(T),A.value+=T,ut({value:T});continue}if(T==='"'){R.quotes=R.quotes===1?0:1,r.keepQuotes===!0&&V({type:"text",value:T});continue}if(T==="("){_n("parens"),V({type:"paren",value:T});continue}if(T===")"){if(R.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ui("opening","("));let F=W[W.length-1];if(F&&R.parens===F.parens+1){lu(W.pop());continue}V({type:"paren",value:T,output:R.parens?")":"\\)"}),$t("parens");continue}if(T==="["){if(r.nobracket===!0||!ke().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ui("closing","]"));T=`\\${T}`}else _n("brackets");V({type:"bracket",value:T});continue}if(T==="]"){if(r.nobracket===!0||A&&A.type==="bracket"&&A.value.length===1){V({type:"text",value:T,output:`\\${T}`});continue}if(R.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ui("opening","["));V({type:"text",value:T,output:`\\${T}`});continue}$t("brackets");let F=A.value.slice(1);if(A.posix!==!0&&F[0]==="^"&&!F.includes("/")&&(T=`/${T}`),A.value+=T,ut({value:T}),r.literalBrackets===!1||ot.hasRegexChars(F))continue;let X=ot.escapeRegex(A.value);if(R.output=R.output.slice(0,-A.value.length),r.literalBrackets===!0){R.output+=X,A.value=X;continue}A.value=`(${l}${X}|${A.value})`,R.output+=A.value;continue}if(T==="{"&&r.nobrace!==!0){_n("braces");let F={type:"brace",value:T,output:"(",outputIndex:R.output.length,tokensIndex:R.tokens.length};B.push(F),V(F);continue}if(T==="}"){let F=B[B.length-1];if(r.nobrace===!0||!F){V({type:"text",value:T,output:T});continue}let X=")";if(F.dots===!0){let pe=s.slice(),De=[];for(let Se=pe.length-1;Se>=0&&(s.pop(),pe[Se].type!=="brace");Se--)pe[Se].type!=="dots"&&De.unshift(pe[Se].value);X=h1(De,r),R.backtrack=!0}if(F.comma!==!0&&F.dots!==!0){let pe=R.output.slice(0,F.outputIndex),De=R.tokens.slice(F.tokensIndex);F.value=F.output="\\{",T=X="\\}",R.output=pe;for(let Se of De)R.output+=Se.output||Se.value}V({type:"brace",value:T,output:X}),$t("braces"),B.pop();continue}if(T==="|"){W.length>0&&W[W.length-1].conditions++,V({type:"text",value:T});continue}if(T===","){let F=T,X=B[B.length-1];X&&z[z.length-1]==="braces"&&(X.comma=!0,F="|"),V({type:"comma",value:T,output:F});continue}if(T==="/"){if(A.type==="dot"&&R.index===R.start+1){R.start=R.index+1,R.consumed="",R.output="",s.pop(),A=a;continue}V({type:"slash",value:T,output:g});continue}if(T==="."){if(R.braces>0&&A.type==="dot"){A.value==="."&&(A.output=m);let F=B[B.length-1];A.type="dots",A.output+=T,A.value+=T,F.dots=!0;continue}if(R.braces+R.parens===0&&A.type!=="bos"&&A.type!=="slash"){V({type:"text",value:T,output:m});continue}V({type:"dot",value:T,output:m});continue}if(T==="?"){if(!(A&&A.value==="(")&&r.noextglob!==!0&&j()==="("&&j(2)!=="?"){Be("qmark",T);continue}if(A&&A.type==="paren"){let X=j(),pe=T;if(X==="<"&&!ot.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(A.value==="("&&!/[!=<:]/.test(X)||X==="<"&&!/<([!=]|\w+>)/.test(ke()))&&(pe=`\\${T}`),V({type:"text",value:T,output:pe});continue}if(r.dot!==!0&&(A.type==="slash"||A.type==="bos")){V({type:"qmark",value:T,output:D});continue}V({type:"qmark",value:T,output:I});continue}if(T==="!"){if(r.noextglob!==!0&&j()==="("&&(j(2)!=="?"||!/[!=<:]/.test(j(3)))){Be("negate",T);continue}if(r.nonegate!==!0&&R.index===0){Ca();continue}}if(T==="+"){if(r.noextglob!==!0&&j()==="("&&j(2)!=="?"){Be("plus",T);continue}if(A&&A.value==="("||r.regex===!1){V({type:"plus",value:T,output:p});continue}if(A&&(A.type==="bracket"||A.type==="paren"||A.type==="brace")||R.parens>0){V({type:"plus",value:T});continue}V({type:"plus",value:p});continue}if(T==="@"){if(r.noextglob!==!0&&j()==="("&&j(2)!=="?"){V({type:"at",extglob:!0,value:T,output:""});continue}V({type:"text",value:T});continue}if(T!=="*"){(T==="$"||T==="^")&&(T=`\\${T}`);let F=f1.exec(ke());F&&(T+=F[0],R.index+=F[0].length),V({type:"text",value:T});continue}if(A&&(A.type==="globstar"||A.star===!0)){A.type="star",A.star=!0,A.value+=T,A.output=q,R.backtrack=!0,R.globstar=!0,Te(T);continue}let G=ke();if(r.noextglob!==!0&&/^\([^?]/.test(G)){Be("star",T);continue}if(A.type==="star"){if(r.noglobstar===!0){Te(T);continue}let F=A.prev,X=F.prev,pe=F.type==="slash"||F.type==="bos",De=X&&(X.type==="star"||X.type==="globstar");if(r.bash===!0&&(!pe||G[0]&&G[0]!=="/")){V({type:"star",value:T,output:""});continue}let Se=R.braces>0&&(F.type==="comma"||F.type==="brace"),Mr=W.length&&(F.type==="pipe"||F.type==="paren");if(!pe&&F.type!=="paren"&&!Se&&!Mr){V({type:"star",value:T,output:""});continue}for(;G.slice(0,3)==="/**";){let bt=e[R.index+4];if(bt&&bt!=="/")break;G=G.slice(3),Te("/**",3)}if(F.type==="bos"&&$()){A.type="globstar",A.value+=T,A.output=N(r),R.output=A.output,R.globstar=!0,Te(T);continue}if(F.type==="slash"&&F.prev.type!=="bos"&&!De&&$()){R.output=R.output.slice(0,-(F.output+A.output).length),F.output=`(?:${F.output}`,A.type="globstar",A.output=N(r)+(r.strictSlashes?")":"|$)"),A.value+=T,R.globstar=!0,R.output+=F.output+A.output,Te(T);continue}if(F.type==="slash"&&F.prev.type!=="bos"&&G[0]==="/"){let bt=G[1]!==void 0?"|$":"";R.output=R.output.slice(0,-(F.output+A.output).length),F.output=`(?:${F.output}`,A.type="globstar",A.output=`${N(r)}${g}|${g}${bt})`,A.value+=T,R.output+=F.output+A.output,R.globstar=!0,Te(T+K()),V({type:"slash",value:"/",output:""});continue}if(F.type==="bos"&&G[0]==="/"){A.type="globstar",A.value+=T,A.output=`(?:^|${g}|${N(r)}${g})`,R.output=A.output,R.globstar=!0,Te(T+K()),V({type:"slash",value:"/",output:""});continue}R.output=R.output.slice(0,-A.output.length),A.type="globstar",A.output=N(r),A.value+=T,R.output+=A.output,R.globstar=!0,Te(T);continue}let te={type:"star",value:T,output:q};if(r.bash===!0){te.output=".*?",(A.type==="bos"||A.type==="slash")&&(te.output=L+te.output),V(te);continue}if(A&&(A.type==="bracket"||A.type==="paren")&&r.regex===!0){te.output=T,V(te);continue}(R.index===R.start||A.type==="slash"||A.type==="dot")&&(A.type==="dot"?(R.output+=E,A.output+=E):r.dot===!0?(R.output+=P,A.output+=P):(R.output+=L,A.output+=L),j()!=="*"&&(R.output+=y,A.output+=y)),V(te)}for(;R.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ui("closing","]"));R.output=ot.escapeLast(R.output,"["),$t("brackets")}for(;R.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ui("closing",")"));R.output=ot.escapeLast(R.output,"("),$t("parens")}for(;R.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ui("closing","}"));R.output=ot.escapeLast(R.output,"{"),$t("braces")}if(r.strictSlashes!==!0&&(A.type==="star"||A.type==="bracket")&&V({type:"maybe_slash",value:"",output:`${g}?`}),R.backtrack===!0){R.output="";for(let G of R.tokens)R.output+=G.output!=null?G.output:G.value,G.suffix&&(R.output+=G.suffix)}return R};Kl.fastpaths=(e,t)=>{let r=H({},t),n=typeof r.maxLength=="number"?Math.min(Rs,r.maxLength):Rs,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=bS[e]||e;let a=ot.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:l,ONE_CHAR:c,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:m,NO_DOTS_SLASH:p,STAR:g,START_ANCHOR:y}=Es.globChars(a),v=r.dot?m:d,_=r.dot?p:d,E=r.capture?"":"?:",P={negated:!1,prefix:""},I=r.bash===!0?".*?":g;r.capture&&(I=`(${I})`);let D=L=>L.noglobstar===!0?I:`(${E}(?:(?!${y}${L.dot?f:s}).)*?)`,k=L=>{switch(L){case"*":return`${v}${c}${I}`;case".*":return`${s}${c}${I}`;case"*.*":return`${v}${I}${s}${c}${I}`;case"*/*":return`${v}${I}${l}${c}${_}${I}`;case"**":return v+D(r);case"**/*":return`(?:${v}${D(r)}${l})?${_}${c}${I}`;case"**/*.*":return`(?:${v}${D(r)}${l})?${_}${I}${s}${c}${I}`;case"**/.*":return`(?:${v}${D(r)}${l})?${s}${c}${I}`;default:{let C=/^(.*?)\.(\w+)$/.exec(L);if(!C)return;let q=k(C[1]);return q?q+s+C[2]:void 0}}},M=ot.removePrefix(e,P),N=k(M);return N&&r.strictSlashes!==!0&&(N+=`${l}?`),N};vS.exports=Kl});var wS=S((wU,_S)=>{"use strict";var p1=require("path"),m1=gS(),Xl=SS(),Zl=_a(),y1=Sa(),g1=e=>e&&typeof e=="object"&&!Array.isArray(e),Ae=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(p=>Ae(p,t,r));return p=>{for(let g of d){let y=g(p);if(y)return y}return!1}}let n=g1(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},a=Zl.isWindows(t),s=n?Ae.compileRe(e,t):Ae.makeRe(e,t,!1,!0),l=s.state;delete s.state;let c=()=>!1;if(i.ignore){let d=ce(H({},t),{ignore:null,onMatch:null,onResult:null});c=Ae(i.ignore,d,r)}let f=(d,m=!1)=>{let{isMatch:p,match:g,output:y}=Ae.test(d,s,t,{glob:e,posix:a}),v={glob:e,state:l,regex:s,posix:a,input:d,output:y,match:g,isMatch:p};return typeof i.onResult=="function"&&i.onResult(v),p===!1?(v.isMatch=!1,m?v:!1):c(d)?(typeof i.onIgnore=="function"&&i.onIgnore(v),v.isMatch=!1,m?v:!1):(typeof i.onMatch=="function"&&i.onMatch(v),m?v:!0)};return r&&(f.state=l),f};Ae.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let a=r||{},s=a.format||(i?Zl.toPosixSlashes:null),l=e===n,c=l&&s?s(e):e;return l===!1&&(c=s?s(e):e,l=c===n),(l===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?l=Ae.matchBase(e,t,r,i):l=t.exec(c)),{isMatch:Boolean(l),match:l,output:c}};Ae.matchBase=(e,t,r,n=Zl.isWindows(r))=>(t instanceof RegExp?t:Ae.makeRe(t,r)).test(p1.basename(e));Ae.isMatch=(e,t,r)=>Ae(t,r)(e);Ae.parse=(e,t)=>Array.isArray(e)?e.map(r=>Ae.parse(r,t)):Xl(e,ce(H({},t),{fastpaths:!1}));Ae.scan=(e,t)=>m1(e,t);Ae.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},a=i.contains?"":"^",s=i.contains?"":"$",l=`${a}(?:${e.output})${s}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);let c=Ae.toRegex(l,t);return n===!0&&(c.state=e),c};Ae.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Xl.fastpaths(e,t)),i.output||(i=Xl(e,t)),Ae.compileRe(i,t,r,n)};Ae.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Ae.constants=y1;_S.exports=Ae});var RS=S((EU,ES)=>{"use strict";ES.exports=wS()});var xS=S((RU,OS)=>{"use strict";var TS=require("util"),PS=iS(),Nt=RS(),Jl=_a(),AS=e=>e===""||e==="./",be=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,a=new Set,s=0,l=d=>{a.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let m=Nt(String(t[d]),ce(H({},r),{onResult:l}),!0),p=m.state.negated||m.state.negatedExtglob;p&&s++;for(let g of e){let y=m(g,!0);!(p?!y.isMatch:y.isMatch)||(p?n.add(y.output):(n.delete(y.output),i.add(y.output)))}}let f=(s===t.length?[...a]:[...i]).filter(d=>!n.has(d));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return f};be.match=be;be.matcher=(e,t)=>Nt(e,t);be.isMatch=(e,t,r)=>Nt(t,r)(e);be.any=be.isMatch;be.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],a=l=>{r.onResult&&r.onResult(l),i.push(l.output)},s=new Set(be(e,t,ce(H({},r),{onResult:a})));for(let l of i)s.has(l)||n.add(l);return[...n]};be.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${TS.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>be.contains(e,n,r));if(typeof t=="string"){if(AS(e)||AS(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return be.isMatch(e,t,ce(H({},r),{contains:!0}))};be.matchKeys=(e,t,r)=>{if(!Jl.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=be(Object.keys(e),t,r),i={};for(let a of n)i[a]=e[a];return i};be.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let a=Nt(String(i),r);if(n.some(s=>a(s)))return!0}return!1};be.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let a=Nt(String(i),r);if(!n.every(s=>a(s)))return!1}return!0};be.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${TS.inspect(e)}"`);return[].concat(t).every(n=>Nt(n,r)(e))};be.capture=(e,t,r)=>{let n=Jl.isWindows(r),a=Nt.makeRe(String(e),ce(H({},r),{capture:!0})).exec(n?Jl.toPosixSlashes(t):t);if(a)return a.slice(1).map(s=>s===void 0?"":s)};be.makeRe=(...e)=>Nt.makeRe(...e);be.scan=(...e)=>Nt.scan(...e);be.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of PS(String(n),t))r.push(Nt.parse(i,t));return r};be.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:PS(e,t)};be.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return be.braces(e,ce(H({},t),{expand:!0}))};OS.exports=be});var qS=S(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.matchAny=Q.convertPatternsToRe=Q.makeRe=Q.getPatternParts=Q.expandBraceExpansion=Q.expandPatternsWithBraceExpansion=Q.isAffectDepthOfReadingPattern=Q.endsWithSlashGlobStar=Q.hasGlobStar=Q.getBaseDirectory=Q.isPatternRelatedToParentDirectory=Q.getPatternsOutsideCurrentDirectory=Q.getPatternsInsideCurrentDirectory=Q.getPositivePatterns=Q.getNegativePatterns=Q.isPositivePattern=Q.isNegativePattern=Q.convertToNegativePattern=Q.convertToPositivePattern=Q.isDynamicPattern=Q.isStaticPattern=void 0;var b1=require("path"),v1=_v(),ef=xS(),CS="**",S1="\\",_1=/[*?]|^!/,w1=/\[[^[]*]/,E1=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,R1=/[!*+?@]\([^(]*\)/,A1=/,|\.\./;function IS(e,t={}){return!kS(e,t)}Q.isStaticPattern=IS;function kS(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(S1)||_1.test(e)||w1.test(e)||E1.test(e)||t.extglob!==!1&&R1.test(e)||t.braceExpansion!==!1&&T1(e))}Q.isDynamicPattern=kS;function T1(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return A1.test(n)}function P1(e){return As(e)?e.slice(1):e}Q.convertToPositivePattern=P1;function O1(e){return"!"+e}Q.convertToNegativePattern=O1;function As(e){return e.startsWith("!")&&e[1]!=="("}Q.isNegativePattern=As;function DS(e){return!As(e)}Q.isPositivePattern=DS;function x1(e){return e.filter(As)}Q.getNegativePatterns=x1;function C1(e){return e.filter(DS)}Q.getPositivePatterns=C1;function I1(e){return e.filter(t=>!tf(t))}Q.getPatternsInsideCurrentDirectory=I1;function k1(e){return e.filter(tf)}Q.getPatternsOutsideCurrentDirectory=k1;function tf(e){return e.startsWith("..")||e.startsWith("./..")}Q.isPatternRelatedToParentDirectory=tf;function D1(e){return v1(e,{flipBackslashes:!1})}Q.getBaseDirectory=D1;function L1(e){return e.includes(CS)}Q.hasGlobStar=L1;function LS(e){return e.endsWith("/"+CS)}Q.endsWithSlashGlobStar=LS;function F1(e){let t=b1.basename(e);return LS(e)||IS(t)}Q.isAffectDepthOfReadingPattern=F1;function M1(e){return e.reduce((t,r)=>t.concat(FS(r)),[])}Q.expandPatternsWithBraceExpansion=M1;function FS(e){return ef.braces(e,{expand:!0,nodupes:!0})}Q.expandBraceExpansion=FS;function q1(e,t){let{parts:r}=ef.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Q.getPatternParts=q1;function MS(e,t){return ef.makeRe(e,t)}Q.makeRe=MS;function N1(e,t){return e.map(r=>MS(r,t))}Q.convertPatternsToRe=N1;function B1(e,t){return t.some(r=>r.test(e))}Q.matchAny=B1});var BS=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.merge=void 0;var G1=Fl();function $1(e){let t=G1(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>NS(e)),t.once("end",()=>NS(e)),t}Ts.merge=$1;function NS(e){e.forEach(t=>t.emit("close"))}});var GS=S(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.isEmpty=ci.isString=void 0;function W1(e){return typeof e=="string"}ci.isString=W1;function j1(e){return e===""}ci.isEmpty=j1});var er=S(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.string=We.stream=We.pattern=We.path=We.fs=We.errno=We.array=void 0;var U1=fv();We.array=U1;var H1=dv();We.errno=H1;var z1=pv();We.fs=z1;var Y1=mv();We.path=Y1;var V1=qS();We.pattern=V1;var Q1=BS();We.stream=Q1;var K1=GS();We.string=K1});var jS=S(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.convertPatternGroupToTask=je.convertPatternGroupsToTasks=je.groupPatternsByBaseDirectory=je.getNegativePatternsAsPositive=je.getPositivePatterns=je.convertPatternsToTasks=je.generate=void 0;var tr=er();function X1(e,t){let r=$S(e),n=WS(e,t.ignore),i=r.filter(c=>tr.pattern.isStaticPattern(c,t)),a=r.filter(c=>tr.pattern.isDynamicPattern(c,t)),s=rf(i,n,!1),l=rf(a,n,!0);return s.concat(l)}je.generate=X1;function rf(e,t,r){let n=[],i=tr.pattern.getPatternsOutsideCurrentDirectory(e),a=tr.pattern.getPatternsInsideCurrentDirectory(e),s=nf(i),l=nf(a);return n.push(...af(s,t,r)),"."in l?n.push(of(".",a,t,r)):n.push(...af(l,t,r)),n}je.convertPatternsToTasks=rf;function $S(e){return tr.pattern.getPositivePatterns(e)}je.getPositivePatterns=$S;function WS(e,t){return tr.pattern.getNegativePatterns(e).concat(t).map(tr.pattern.convertToPositivePattern)}je.getNegativePatternsAsPositive=WS;function nf(e){let t={};return e.reduce((r,n)=>{let i=tr.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}je.groupPatternsByBaseDirectory=nf;function af(e,t,r){return Object.keys(e).map(n=>of(n,e[n],t,r))}je.convertPatternGroupsToTasks=af;function of(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(tr.pattern.convertToNegativePattern))}}je.convertPatternGroupToTask=of});var HS=S(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.removeDuplicateSlashes=li.transform=void 0;var Z1=/(?!^)\/{2,}/g;function J1(e){return e.map(t=>US(t))}li.transform=J1;function US(e){return e.replace(Z1,"/")}li.removeDuplicateSlashes=US});var YS=S(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.read=void 0;function eL(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){zS(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){sf(r,i);return}t.fs.stat(e,(a,s)=>{if(a!==null){if(t.throwErrorOnBrokenSymbolicLink){zS(r,a);return}sf(r,i);return}t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),sf(r,s)})})}Ps.read=eL;function zS(e,t){e(t)}function sf(e,t){e(null,t)}});var VS=S(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.read=void 0;function tL(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Os.read=tL});var QS=S(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.createFileSystemAdapter=Rr.FILE_SYSTEM_ADAPTER=void 0;var xs=require("fs");Rr.FILE_SYSTEM_ADAPTER={lstat:xs.lstat,stat:xs.stat,lstatSync:xs.lstatSync,statSync:xs.statSync};function rL(e){return e===void 0?Rr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Rr.FILE_SYSTEM_ADAPTER),e)}Rr.createFileSystemAdapter=rL});var XS=S(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var nL=QS(),KS=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=nL.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};uf.default=KS});var ln=S(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.statSync=Ar.stat=Ar.Settings=void 0;var ZS=YS(),iL=VS(),cf=XS();Ar.Settings=cf.default;function aL(e,t,r){if(typeof t=="function"){ZS.read(e,lf(),t);return}ZS.read(e,lf(t),r)}Ar.stat=aL;function oL(e,t){let r=lf(t);return iL.read(e,r)}Ar.statSync=oL;function lf(e={}){return e instanceof cf.default?e:new cf.default(e)}});var t_=S((MU,e_)=>{var JS;e_.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(JS||(JS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var n_=S((qU,r_)=>{r_.exports=uL;var sL=t_();function uL(e,t){let r,n,i,a=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function s(c){function f(){t&&t(c,r),t=null}a?sL(f):f()}function l(c,f,d){r[c]=d,(--n===0||f)&&s(f)}n?i?i.forEach(function(c){e[c](function(f,d){l(c,f,d)})}):e.forEach(function(c,f){c(function(d,m){l(f,d,m)})}):s(null),a=!1}});var ff=S(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Cs=process.versions.node.split(".");if(Cs[0]===void 0||Cs[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var i_=Number.parseInt(Cs[0],10),cL=Number.parseInt(Cs[1],10),a_=10,lL=10,fL=i_>a_,dL=i_===a_&&cL>=lL;Is.IS_SUPPORT_READDIR_WITH_FILE_TYPES=fL||dL});var s_=S(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.createDirentFromStats=void 0;var o_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function hL(e,t){return new o_(e,t)}ks.createDirentFromStats=hL});var df=S(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.fs=void 0;var pL=s_();Ds.fs=pL});var hf=S(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.joinPathSegments=void 0;function mL(e,t,r){return e.endsWith(r)?e+t:e+r+t}Ls.joinPathSegments=mL});var h_=S(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.readdir=Tr.readdirWithFileTypes=Tr.read=void 0;var yL=ln(),u_=n_(),gL=ff(),c_=df(),l_=hf();function bL(e,t,r){if(!t.stats&&gL.IS_SUPPORT_READDIR_WITH_FILE_TYPES){f_(e,t,r);return}d_(e,t,r)}Tr.read=bL;function f_(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){Fs(r,n);return}let a=i.map(l=>({dirent:l,name:l.name,path:l_.joinPathSegments(e,l.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){pf(r,a);return}let s=a.map(l=>vL(l,t));u_(s,(l,c)=>{if(l!==null){Fs(r,l);return}pf(r,c)})})}Tr.readdirWithFileTypes=f_;function vL(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=c_.fs.createDirentFromStats(e.name,i),r(null,e)})}}function d_(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){Fs(r,n);return}let a=i.map(s=>{let l=l_.joinPathSegments(e,s,t.pathSegmentSeparator);return c=>{yL.stat(l,t.fsStatSettings,(f,d)=>{if(f!==null){c(f);return}let m={name:s,path:l,dirent:c_.fs.createDirentFromStats(s,d)};t.stats&&(m.stats=d),c(null,m)})}});u_(a,(s,l)=>{if(s!==null){Fs(r,s);return}pf(r,l)})})}Tr.readdir=d_;function Fs(e,t){e(t)}function pf(e,t){e(null,t)}});var b_=S(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.readdir=Pr.readdirWithFileTypes=Pr.read=void 0;var SL=ln(),_L=ff(),p_=df(),m_=hf();function wL(e,t){return!t.stats&&_L.IS_SUPPORT_READDIR_WITH_FILE_TYPES?y_(e,t):g_(e,t)}Pr.read=wL;function y_(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:m_.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let a=t.fs.statSync(i.path);i.dirent=p_.fs.createDirentFromStats(i.name,a)}catch(a){if(t.throwErrorOnBrokenSymbolicLink)throw a}return i})}Pr.readdirWithFileTypes=y_;function g_(e,t){return t.fs.readdirSync(e).map(n=>{let i=m_.joinPathSegments(e,n,t.pathSegmentSeparator),a=SL.statSync(i,t.fsStatSettings),s={name:n,path:i,dirent:p_.fs.createDirentFromStats(n,a)};return t.stats&&(s.stats=a),s})}Pr.readdir=g_});var v_=S(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.createFileSystemAdapter=Or.FILE_SYSTEM_ADAPTER=void 0;var fi=require("fs");Or.FILE_SYSTEM_ADAPTER={lstat:fi.lstat,stat:fi.stat,lstatSync:fi.lstatSync,statSync:fi.statSync,readdir:fi.readdir,readdirSync:fi.readdirSync};function EL(e){return e===void 0?Or.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Or.FILE_SYSTEM_ADAPTER),e)}Or.createFileSystemAdapter=EL});var __=S(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var RL=require("path"),AL=ln(),TL=v_(),S_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=TL.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,RL.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new AL.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};mf.default=S_});var Ms=S(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.Settings=xr.scandirSync=xr.scandir=void 0;var w_=h_(),PL=b_(),yf=__();xr.Settings=yf.default;function OL(e,t,r){if(typeof t=="function"){w_.read(e,gf(),t);return}w_.read(e,gf(t),r)}xr.scandir=OL;function xL(e,t){let r=gf(t);return PL.read(e,r)}xr.scandirSync=xL;function gf(e={}){return e instanceof yf.default?e:new yf.default(e)}});var R_=S((YU,E_)=>{"use strict";function CL(e){var t=new e,r=t;function n(){var a=t;return a.next?t=a.next:(t=new e,r=t),a.next=null,a}function i(a){r.next=a,r=a}return{get:n,release:i}}E_.exports=CL});var T_=S((VU,bf)=>{"use strict";var IL=R_();function A_(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=IL(kL),i=null,a=null,s=0,l=null,c={push:v,drain:pt,saturated:pt,pause:d,paused:!1,concurrency:r,running:f,resume:g,idle:y,length:m,getQueue:p,unshift:_,empty:pt,kill:P,killAndDrain:I,error:D};return c;function f(){return s}function d(){c.paused=!0}function m(){for(var k=i,M=0;k;)k=k.next,M++;return M}function p(){for(var k=i,M=[];k;)M.push(k.value),k=k.next;return M}function g(){if(!!c.paused){c.paused=!1;for(var k=0;k<c.concurrency;k++)s++,E()}}function y(){return s===0&&c.length()===0}function v(k,M){var N=n.get();N.context=e,N.release=E,N.value=k,N.callback=M||pt,N.errorHandler=l,s===c.concurrency||c.paused?a?(a.next=N,a=N):(i=N,a=N,c.saturated()):(s++,t.call(e,N.value,N.worked))}function _(k,M){var N=n.get();N.context=e,N.release=E,N.value=k,N.callback=M||pt,s===c.concurrency||c.paused?i?(N.next=i,i=N):(i=N,a=N,c.saturated()):(s++,t.call(e,N.value,N.worked))}function E(k){k&&n.release(k);var M=i;M?c.paused?s--:(a===i&&(a=null),i=M.next,M.next=null,t.call(e,M.value,M.worked),a===null&&c.empty()):--s===0&&c.drain()}function P(){i=null,a=null,c.drain=pt}function I(){i=null,a=null,c.drain(),c.drain=pt}function D(k){l=k}}function pt(){}function kL(){this.value=null,this.callback=pt,this.next=null,this.release=pt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,a=e.errorHandler,s=e.value;e.value=null,e.callback=pt,e.errorHandler&&a(r,s),i.call(e.context,r,n),e.release(e)}}function DL(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(d,m){t.call(this,d).then(function(p){m(null,p)},m)}var i=A_(e,n,r),a=i.push,s=i.unshift;return i.push=l,i.unshift=c,i.drained=f,i;function l(d){var m=new Promise(function(p,g){a(d,function(y,v){if(y){g(y);return}p(v)})});return m.catch(pt),m}function c(d){var m=new Promise(function(p,g){s(d,function(y,v){if(y){g(y);return}p(v)})});return m.catch(pt),m}function f(){var d=i.drain,m=new Promise(function(p){i.drain=function(){d(),p()}});return m}}bf.exports=A_;bf.exports.promise=DL});var qs=S(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.joinPathSegments=Bt.replacePathSegmentSeparator=Bt.isAppliedFilter=Bt.isFatalError=void 0;function LL(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Bt.isFatalError=LL;function FL(e,t){return e===null||e(t)}Bt.isAppliedFilter=FL;function ML(e,t){return e.split(/[/\\]/).join(t)}Bt.replacePathSegmentSeparator=ML;function qL(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Bt.joinPathSegments=qL});var Sf=S(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var NL=qs(),P_=class{constructor(t,r){this._root=t,this._settings=r,this._root=NL.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};vf.default=P_});var wf=S(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var BL=require("events"),GL=Ms(),$L=T_(),Ns=qs(),WL=Sf(),O_=class extends WL.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=GL.scandir,this._emitter=new BL.EventEmitter,this._queue=$L(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let a of i)this._handleEntry(a,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Ns.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Ns.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Ns.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Ns.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};_f.default=O_});var C_=S(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var jL=wf(),x_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new jL.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{UL(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{HL(t,this._storage)}),this._reader.read()}};Ef.default=x_;function UL(e,t){e(t)}function HL(e,t){e(null,t)}});var k_=S(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var zL=require("stream"),YL=wf(),I_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new YL.default(this._root,this._settings),this._stream=new zL.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Rf.default=I_});var L_=S(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var VL=Ms(),Bs=qs(),QL=Sf(),D_=class extends QL.default{constructor(){super(...arguments);this._scandir=VL.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!Bs.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Bs.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Bs.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Bs.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Af.default=D_});var M_=S(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var KL=L_(),F_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new KL.default(this._root,this._settings)}read(){return this._reader.read()}};Tf.default=F_});var N_=S(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var XL=require("path"),ZL=Ms(),q_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,XL.sep),this.fsScandirSettings=new ZL.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Pf.default=q_});var xf=S(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.Settings=Gt.walkStream=Gt.walkSync=Gt.walk=void 0;var B_=C_(),JL=k_(),eF=M_(),Of=N_();Gt.Settings=Of.default;function tF(e,t,r){if(typeof t=="function"){new B_.default(e,Gs()).read(t);return}new B_.default(e,Gs(t)).read(r)}Gt.walk=tF;function rF(e,t){let r=Gs(t);return new eF.default(e,r).read()}Gt.walkSync=rF;function nF(e,t){let r=Gs(t);return new JL.default(e,r).read()}Gt.walkStream=nF;function Gs(e={}){return e instanceof Of.default?e:new Of.default(e)}});var If=S(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});var iF=require("path"),aF=ln(),G_=er(),$_=class{constructor(t){this._settings=t,this._fsStatSettings=new aF.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return iF.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:G_.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!G_.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Cf.default=$_});var Df=S(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var oF=require("stream"),sF=ln(),uF=xf(),cF=If(),W_=class extends cF.default{constructor(){super(...arguments);this._walkStream=uF.walkStream,this._stat=sF.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new oF.PassThrough({objectMode:!0});i._write=(a,s,l)=>this._getEntry(n[a],t[a],r).then(c=>{c!==null&&r.entryFilter(c)&&i.push(c),a===n.length-1&&i.end(),l()}).catch(l);for(let a=0;a<n.length;a++)i.write(a);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,a)=>i===null?r(a):n(i))})}};kf.default=W_});var U_=S(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});var di=er(),j_=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=di.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return di.pattern.getPatternParts(t,this._micromatchOptions).map(n=>di.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:di.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return di.array.splitWhen(t,r=>r.dynamic&&di.pattern.hasGlobStar(r.pattern))}};Lf.default=j_});var z_=S(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});var lF=U_(),H_=class extends lF.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(a=>!a.complete||a.segments.length>n);for(let a of i){let s=a.sections[0];if(!a.complete&&n>s.length||r.every((c,f)=>{let d=a.segments[f];return!!(d.dynamic&&d.patternRe.test(c)||!d.dynamic&&d.pattern===c)}))return!0}return!1}};Ff.default=H_});var V_=S(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var $s=er(),fF=z_(),Y_=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),a=this._getNegativePatternsRe(n);return s=>this._filter(t,s,i,a)}_getMatcher(t){return new fF.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter($s.pattern.isAffectDepthOfReadingPattern);return $s.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let a=$s.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(a,n)?!1:this._isSkippedByNegativePatterns(a,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!$s.pattern.matchAny(t,r)}};Mf.default=Y_});var K_=S(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var fn=er(),Q_=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=fn.pattern.convertPatternsToRe(t,this._micromatchOptions),i=fn.pattern.convertPatternsToRe(r,this._micromatchOptions);return a=>this._filter(a,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,a=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&a&&this._createIndexRecord(t),a}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=fn.path.makeAbsolute(this._settings.cwd,t);return fn.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=fn.path.removeLeadingDotSegment(t);return fn.pattern.matchAny(n,r)||fn.pattern.matchAny(n+"/",r)}};qf.default=Q_});var Z_=S(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var dF=er(),X_=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return dF.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Nf.default=X_});var tw=S(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var J_=er(),ew=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=J_.path.makeAbsolute(this._settings.cwd,r),r=J_.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Bf.default=ew});var Ws=S(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var hF=require("path"),pF=V_(),mF=K_(),yF=Z_(),gF=tw(),rw=class{constructor(t){this._settings=t,this.errorFilter=new yF.default(this._settings),this.entryFilter=new mF.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new pF.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new gF.default(this._settings)}_getRootDirectory(t){return hF.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Gf.default=rw});var iw=S($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var bF=Df(),vF=Ws(),nw=class extends vF.default{constructor(){super(...arguments);this._reader=new bF.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((a,s)=>{let l=this.api(r,t,n);l.once("error",s),l.on("data",c=>i.push(n.transform(c))),l.once("end",()=>a(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};$f.default=nw});var ow=S(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var SF=require("stream"),_F=Df(),wF=Ws(),aw=class extends wF.default{constructor(){super(...arguments);this._reader=new _F.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),a=new SF.Readable({objectMode:!0,read:()=>{}});return i.once("error",s=>a.emit("error",s)).on("data",s=>a.emit("data",n.transform(s))).once("end",()=>a.emit("end")),a.once("close",()=>i.destroy()),a}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Wf.default=aw});var uw=S(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});var EF=ln(),RF=xf(),AF=If(),sw=class extends AF.default{constructor(){super(...arguments);this._walkSync=RF.walkSync,this._statSync=EF.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let a=this._getFullEntryPath(i),s=this._getEntry(a,i,r);s===null||!r.entryFilter(s)||n.push(s)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};jf.default=sw});var lw=S(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});var TF=uw(),PF=Ws(),cw=class extends PF.default{constructor(){super(...arguments);this._reader=new TF.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Uf.default=cw});var dw=S(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var hi=require("fs"),OF=require("os"),xF=Math.max(OF.cpus().length,1);pi.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:hi.lstat,lstatSync:hi.lstatSync,stat:hi.stat,statSync:hi.statSync,readdir:hi.readdir,readdirSync:hi.readdirSync};var fw=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,xF),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},pi.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};pi.default=fw});var Vf=S((bH,mw)=>{"use strict";var hw=jS(),pw=HS(),CF=iw(),IF=ow(),kF=lw(),Hf=dw(),dn=er();async function zf(e,t){mi(e);let r=Yf(e,CF.default,t),n=await Promise.all(r);return dn.array.flatten(n)}(function(e){function t(s,l){mi(s);let c=Yf(s,kF.default,l);return dn.array.flatten(c)}e.sync=t;function r(s,l){mi(s);let c=Yf(s,IF.default,l);return dn.stream.merge(c)}e.stream=r;function n(s,l){mi(s);let c=pw.transform([].concat(s)),f=new Hf.default(l);return hw.generate(c,f)}e.generateTasks=n;function i(s,l){mi(s);let c=new Hf.default(l);return dn.pattern.isDynamicPattern(s,c)}e.isDynamicPattern=i;function a(s){return mi(s),dn.path.escape(s)}e.escapePath=a})(zf||(zf={}));function Yf(e,t,r){let n=pw.transform([].concat(e)),i=new Hf.default(r),a=hw.generate(n,i),s=new t(i);return a.map(s.read,s)}function mi(e){if(![].concat(e).every(n=>dn.string.isString(n)&&!dn.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}mw.exports=zf});var gw=S(hn=>{"use strict";var{promisify:DF}=require("util"),yw=require("fs");async function Qf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await DF(yw[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Kf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return yw[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}hn.isFile=Qf.bind(null,"stat","isFile");hn.isDirectory=Qf.bind(null,"stat","isDirectory");hn.isSymlink=Qf.bind(null,"lstat","isSymbolicLink");hn.isFileSync=Kf.bind(null,"statSync","isFile");hn.isDirectorySync=Kf.bind(null,"statSync","isDirectory");hn.isSymlinkSync=Kf.bind(null,"lstatSync","isSymbolicLink")});var ww=S((SH,Xf)=>{"use strict";var pn=require("path"),bw=gw(),vw=e=>e.length>1?`{${e.join(",")}}`:e[0],Sw=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return pn.isAbsolute(r)?r:pn.join(t,r)},LF=(e,t)=>pn.extname(e)?`**/${e}`:`**/${e}.${vw(t)}`,_w=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>pn.posix.join(e,LF(r,t.extensions))):t.files?t.files.map(r=>pn.posix.join(e,`**/${r}`)):t.extensions?[pn.posix.join(e,`**/*.${vw(t.extensions)}`)]:[pn.posix.join(e,"**")]};Xf.exports=async(e,t)=>{if(t=H({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await bw.isDirectory(Sw(n,t.cwd))?_w(n,t):n));return[].concat.apply([],r)};Xf.exports.sync=(e,t)=>{if(t=H({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>bw.isDirectorySync(Sw(n,t.cwd))?_w(n,t):n);return[].concat.apply([],r)}});var Dw=S((_H,kw)=>{function Ew(e){return Array.isArray(e)?e:[e]}var Pw="",Rw=" ",Zf="\\",FF=/^\s+$/,MF=/^\\!/,qF=/^\\#/,NF=/\r?\n/g,BF=/^\.*\/|^\.+$/,Jf="/",Aw=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",GF=(e,t,r)=>Object.defineProperty(e,t,{value:r}),$F=/([0-z])-([0-z])/g,Ow=()=>!1,WF=e=>e.replace($F,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Pw),jF=e=>{let{length:t}=e;return e.slice(0,t-t%2)},UF=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Rw:Pw],[/\\\s/g,()=>Rw],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Zf],[/\\\\/g,()=>Zf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Zf?`\\[${r}${jF(n)}${i}`:i==="]"&&n.length%2===0?`[${WF(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Tw=Object.create(null),HF=(e,t)=>{let r=Tw[e];return r||(r=UF.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),Tw[e]=r),t?new RegExp(r,"i"):new RegExp(r)},ed=e=>typeof e=="string",zF=e=>e&&ed(e)&&!FF.test(e)&&e.indexOf("#")!==0,YF=e=>e.split(NF),xw=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},VF=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(MF,"!").replace(qF,"#");let i=HF(e,t);return new xw(r,e,n,i)},QF=(e,t)=>{throw new t(e)},rr=(e,t,r)=>ed(e)?e?rr.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Cw=e=>BF.test(e);rr.isNotRelative=Cw;rr.convert=e=>e;var Iw=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){GF(this,Aw,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Aw]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(zF(t)){let r=VF(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Ew(ed(t)?YF(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&n!==i||s&&!n&&!i&&!r)return;a.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let a=t&&rr.convert(t);return rr(a,t,this._allowRelativePaths?Ow:QF),this._t(a,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Jf)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let a=this._t(i.join(Jf)+Jf,r,n,i);return r[t]=a.ignored?a:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Ew(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},js=e=>new Iw(e),KF=e=>rr(e&&rr.convert(e),e,Ow);js.isPathValid=KF;js.default=js;kw.exports=js;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");rr.convert=e;let t=/^[a-z]:\//i;rr.isNotRelative=r=>t.test(r)||Cw(r)}});var td=S((wH,Lw)=>{"use strict";Lw.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var $w=S((EH,rd)=>{"use strict";var{promisify:XF}=require("util"),Fw=require("fs"),nr=require("path"),Mw=Vf(),ZF=Dw(),Ea=td(),qw=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],JF=XF(Fw.readFile),eM=e=>t=>t.startsWith("!")?"!"+nr.posix.join(e,t.slice(1)):nr.posix.join(e,t),tM=(e,t)=>{let r=Ea(nr.relative(t.cwd,nr.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(eM(r))},Nw=e=>{let t=ZF();for(let r of e)t.add(tM(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},rM=(e,t)=>{if(e=Ea(e),nr.isAbsolute(t)){if(Ea(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return nr.join(e,t)},Bw=(e,t)=>r=>e.ignores(Ea(nr.relative(t,rM(t,r.path||r)))),nM=async(e,t)=>{let r=nr.join(t,e),n=await JF(r,"utf8");return{cwd:t,filePath:r,content:n}},iM=(e,t)=>{let r=nr.join(t,e),n=Fw.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},Gw=({ignore:e=[],cwd:t=Ea(process.cwd())}={})=>({ignore:e,cwd:t});rd.exports=async e=>{e=Gw(e);let t=await Mw("**/.gitignore",{ignore:qw.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>nM(i,e.cwd))),n=Nw(r);return Bw(n,e.cwd)};rd.exports.sync=e=>{e=Gw(e);let r=Mw.sync("**/.gitignore",{ignore:qw.concat(e.ignore),cwd:e.cwd}).map(i=>iM(i,e.cwd)),n=Nw(r);return Bw(n,e.cwd)}});var Hw=S((RH,Uw)=>{"use strict";var{Transform:aM}=require("stream"),nd=class extends aM{constructor(){super({objectMode:!0})}},Ww=class extends nd{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},jw=class extends nd{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};Uw.exports={FilterStream:Ww,UniqueStream:jw}});var Kw=S((AH,mn)=>{"use strict";var Yw=require("fs"),Us=sv(),oM=Fl(),Hs=Vf(),zs=ww(),id=$w(),{FilterStream:sM,UniqueStream:uM}=Hw(),Vw=()=>!1,zw=e=>e[0]==="!",cM=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},lM=(e={})=>{if(!e.cwd)return;let t;try{t=Yw.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},fM=e=>e.stats instanceof Yw.Stats?e.path:e,Ys=(e,t)=>{e=Us([].concat(e)),cM(e),lM(t);let r=[];t=H({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(zw(i))continue;let a=e.slice(n).filter(l=>zw(l)).map(l=>l.slice(1)),s=ce(H({},t),{ignore:t.ignore.concat(a)});r.push({pattern:i,options:s})}return r},dM=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=ce(H({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=H(H({},r),e.options.expandDirectories)),t(e.pattern,r)},ad=(e,t)=>e.options.expandDirectories?dM(e,t):[e.pattern],Qw=e=>e&&e.gitignore?id.sync({cwd:e.cwd,ignore:e.ignore}):Vw,od=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=zs.sync(r.ignore)),{pattern:t,options:r}};mn.exports=async(e,t)=>{let r=Ys(e,t),n=async()=>t&&t.gitignore?id({cwd:t.cwd,ignore:t.ignore}):Vw,i=async()=>{let c=await Promise.all(r.map(async f=>{let d=await ad(f,zs);return Promise.all(d.map(od(f)))}));return Us(...c)},[a,s]=await Promise.all([n(),i()]),l=await Promise.all(s.map(c=>Hs(c.pattern,c.options)));return Us(...l).filter(c=>!a(fM(c)))};mn.exports.sync=(e,t)=>{let r=Ys(e,t),n=[];for(let s of r){let l=ad(s,zs.sync).map(od(s));n.push(...l)}let i=Qw(t),a=[];for(let s of n)a=Us(a,Hs.sync(s.pattern,s.options));return a.filter(s=>!i(s))};mn.exports.stream=(e,t)=>{let r=Ys(e,t),n=[];for(let l of r){let c=ad(l,zs.sync).map(od(l));n.push(...c)}let i=Qw(t),a=new sM(l=>!i(l)),s=new uM;return oM(n.map(l=>Hs.stream(l.pattern,l.options))).pipe(a).pipe(s)};mn.exports.generateGlobTasks=Ys;mn.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Hs.isDynamicPattern(r,t));mn.exports.gitignore=id});var Zw=S((TH,Xw)=>{var Cr=require("constants"),hM=process.cwd,Vs=null,pM=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Vs||(Vs=hM.call(process)),Vs};try{process.cwd()}catch{}typeof process.chdir=="function"&&(sd=process.chdir,process.chdir=function(e){Vs=null,sd.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,sd));var sd;Xw.exports=mM;function mM(e){Cr.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(d,m,p){p&&process.nextTick(p)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(d,m,p,g){g&&process.nextTick(g)},e.lchownSync=function(){}),pM==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(d){function m(p,g,y){var v=Date.now(),_=0;d(p,g,function E(P){if(P&&(P.code==="EACCES"||P.code==="EPERM")&&Date.now()-v<6e4){setTimeout(function(){e.stat(g,function(I,D){I&&I.code==="ENOENT"?d(p,g,E):y(P)})},_),_<100&&(_+=10);return}y&&y(P)})}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.rename)),e.read=typeof e.read!="function"?e.read:function(d){function m(p,g,y,v,_,E){var P;if(E&&typeof E=="function"){var I=0;P=function(D,k,M){if(D&&D.code==="EAGAIN"&&I<10)return I++,d.call(e,p,g,y,v,_,P);E.apply(this,arguments)}}return d.call(e,p,g,y,v,_,P)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(d){return function(m,p,g,y,v){for(var _=0;;)try{return d.call(e,m,p,g,y,v)}catch(E){if(E.code==="EAGAIN"&&_<10){_++;continue}throw E}}}(e.readSync);function t(d){d.lchmod=function(m,p,g){d.open(m,Cr.O_WRONLY|Cr.O_SYMLINK,p,function(y,v){if(y){g&&g(y);return}d.fchmod(v,p,function(_){d.close(v,function(E){g&&g(_||E)})})})},d.lchmodSync=function(m,p){var g=d.openSync(m,Cr.O_WRONLY|Cr.O_SYMLINK,p),y=!0,v;try{v=d.fchmodSync(g,p),y=!1}finally{if(y)try{d.closeSync(g)}catch{}else d.closeSync(g)}return v}}function r(d){Cr.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(m,p,g,y){d.open(m,Cr.O_SYMLINK,function(v,_){if(v){y&&y(v);return}d.futimes(_,p,g,function(E){d.close(_,function(P){y&&y(E||P)})})})},d.lutimesSync=function(m,p,g){var y=d.openSync(m,Cr.O_SYMLINK),v,_=!0;try{v=d.futimesSync(y,p,g),_=!1}finally{if(_)try{d.closeSync(y)}catch{}else d.closeSync(y)}return v}):d.futimes&&(d.lutimes=function(m,p,g,y){y&&process.nextTick(y)},d.lutimesSync=function(){})}function n(d){return d&&function(m,p,g){return d.call(e,m,p,function(y){f(y)&&(y=null),g&&g.apply(this,arguments)})}}function i(d){return d&&function(m,p){try{return d.call(e,m,p)}catch(g){if(!f(g))throw g}}}function a(d){return d&&function(m,p,g,y){return d.call(e,m,p,g,function(v){f(v)&&(v=null),y&&y.apply(this,arguments)})}}function s(d){return d&&function(m,p,g){try{return d.call(e,m,p,g)}catch(y){if(!f(y))throw y}}}function l(d){return d&&function(m,p,g){typeof p=="function"&&(g=p,p=null);function y(v,_){_&&(_.uid<0&&(_.uid+=4294967296),_.gid<0&&(_.gid+=4294967296)),g&&g.apply(this,arguments)}return p?d.call(e,m,p,y):d.call(e,m,y)}}function c(d){return d&&function(m,p){var g=p?d.call(e,m,p):d.call(e,m);return g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),g}}function f(d){if(!d||d.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(d.code==="EINVAL"||d.code==="EPERM"))}}});var tE=S((PH,eE)=>{var Jw=require("stream").Stream;eE.exports=yM;function yM(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Jw.call(this);var a=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),l=0,c=s.length;l<c;l++){var f=s[l];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}e.open(this.path,this.flags,this.mode,function(d,m){if(d){a.emit("error",d),a.readable=!1;return}a.fd=m,a.emit("open",m),a._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Jw.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var a=Object.keys(i),s=0,l=a.length;s<l;s++){var c=a[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var nE=S((OH,rE)=>{"use strict";rE.exports=bM;var gM=Object.getPrototypeOf||function(e){return e.__proto__};function bM(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:gM(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var sE=S((xH,ld)=>{var ve=require("fs"),vM=Zw(),SM=tE(),_M=nE(),Qs=require("util"),qe,Xs;typeof Symbol=="function"&&typeof Symbol.for=="function"?(qe=Symbol.for("graceful-fs.queue"),Xs=Symbol.for("graceful-fs.previous")):(qe="___graceful-fs.queue",Xs="___graceful-fs.previous");function wM(){}function oE(e,t){Object.defineProperty(e,qe,{get:function(){return t}})}var yn=wM;Qs.debuglog?yn=Qs.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(yn=function(){var e=Qs.format.apply(Qs,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});ve[qe]||(iE=global[qe]||[],oE(ve,iE),ve.close=function(e){function t(r,n){return e.call(ve,r,function(i){i||aE(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Xs,{value:e}),t}(ve.close),ve.closeSync=function(e){function t(r){e.apply(ve,arguments),aE()}return Object.defineProperty(t,Xs,{value:e}),t}(ve.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){yn(ve[qe]),require("assert").equal(ve[qe].length,0)}));var iE;global[qe]||oE(global,ve[qe]);ld.exports=ud(_M(ve));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ve.__patched&&(ld.exports=ud(ve),ve.__patched=!0);function ud(e){vM(e),e.gracefulify=ud,e.createReadStream=k,e.createWriteStream=M;var t=e.readFile;e.readFile=r;function r(C,q,R){return typeof q=="function"&&(R=q,q=null),W(C,q,R);function W(B,z,A,T){return t(B,z,function($){$&&($.code==="EMFILE"||$.code==="ENFILE")?yi([W,[B,z,A],$,T||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(C,q,R,W){return typeof R=="function"&&(W=R,R=null),B(C,q,R,W);function B(z,A,T,$,j){return n(z,A,T,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?yi([B,[z,A,T,$],K,j||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var a=e.appendFile;a&&(e.appendFile=s);function s(C,q,R,W){return typeof R=="function"&&(W=R,R=null),B(C,q,R,W);function B(z,A,T,$,j){return a(z,A,T,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?yi([B,[z,A,T,$],K,j||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var l=e.copyFile;l&&(e.copyFile=c);function c(C,q,R,W){return typeof R=="function"&&(W=R,R=0),B(C,q,R,W);function B(z,A,T,$,j){return l(z,A,T,function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?yi([B,[z,A,T,$],K,j||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var f=e.readdir;e.readdir=m;var d=/^v[0-5]\./;function m(C,q,R){typeof q=="function"&&(R=q,q=null);var W=d.test(process.version)?function(A,T,$,j){return f(A,B(A,T,$,j))}:function(A,T,$,j){return f(A,T,B(A,T,$,j))};return W(C,q,R);function B(z,A,T,$){return function(j,K){j&&(j.code==="EMFILE"||j.code==="ENFILE")?yi([W,[z,A,T],j,$||Date.now(),Date.now()]):(K&&K.sort&&K.sort(),typeof T=="function"&&T.call(this,j,K))}}}if(process.version.substr(0,4)==="v0.8"){var p=SM(e);E=p.ReadStream,I=p.WriteStream}var g=e.ReadStream;g&&(E.prototype=Object.create(g.prototype),E.prototype.open=P);var y=e.WriteStream;y&&(I.prototype=Object.create(y.prototype),I.prototype.open=D),Object.defineProperty(e,"ReadStream",{get:function(){return E},set:function(C){E=C},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(C){I=C},enumerable:!0,configurable:!0});var v=E;Object.defineProperty(e,"FileReadStream",{get:function(){return v},set:function(C){v=C},enumerable:!0,configurable:!0});var _=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return _},set:function(C){_=C},enumerable:!0,configurable:!0});function E(C,q){return this instanceof E?(g.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function P(){var C=this;L(C.path,C.flags,C.mode,function(q,R){q?(C.autoClose&&C.destroy(),C.emit("error",q)):(C.fd=R,C.emit("open",R),C.read())})}function I(C,q){return this instanceof I?(y.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function D(){var C=this;L(C.path,C.flags,C.mode,function(q,R){q?(C.destroy(),C.emit("error",q)):(C.fd=R,C.emit("open",R))})}function k(C,q){return new e.ReadStream(C,q)}function M(C,q){return new e.WriteStream(C,q)}var N=e.open;e.open=L;function L(C,q,R,W){return typeof R=="function"&&(W=R,R=null),B(C,q,R,W);function B(z,A,T,$,j){return N(z,A,T,function(K,ke){K&&(K.code==="EMFILE"||K.code==="ENFILE")?yi([B,[z,A,T,$],K,j||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}return e}function yi(e){yn("ENQUEUE",e[0].name,e[1]),ve[qe].push(e),cd()}var Ks;function aE(){for(var e=Date.now(),t=0;t<ve[qe].length;++t)ve[qe][t].length>2&&(ve[qe][t][3]=e,ve[qe][t][4]=e);cd()}function cd(){if(clearTimeout(Ks),Ks=void 0,ve[qe].length!==0){var e=ve[qe].shift(),t=e[0],r=e[1],n=e[2],i=e[3],a=e[4];if(i===void 0)yn("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){yn("TIMEOUT",t.name,r);var s=r.pop();typeof s=="function"&&s.call(null,n)}else{var l=Date.now()-a,c=Math.max(a-i,1),f=Math.min(c*1.2,100);l>=f?(yn("RETRY",t.name,r),t.apply(null,r.concat([i]))):ve[qe].push(e)}Ks===void 0&&(Ks=setTimeout(cd,0))}}});var cE=S((CH,uE)=>{"use strict";var EM=require("path");uE.exports=e=>{let t=process.cwd();return e=EM.resolve(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),e===t}});var fE=S((IH,lE)=>{"use strict";var fd=require("path");lE.exports=(e,t)=>{let r=fd.relative(t,e);return Boolean(r&&r!==".."&&!r.startsWith(`..${fd.sep}`)&&r!==fd.resolve(e))}});var dE=S(dd=>{var gn=require("path"),kr=process.platform==="win32",Ir=require("fs"),RM=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function AM(){var e;if(RM){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function TM(e){return typeof e=="function"?e:AM()}var kH=gn.normalize;kr?ir=/(.*?)(?:[\/\\]+|$)/g:ir=/(.*?)(?:[\/]+|$)/g;var ir;kr?Ra=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Ra=/^[\/]*/;var Ra;dd.realpathSync=function(t,r){if(t=gn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},a={},s,l,c,f;d();function d(){var _=Ra.exec(t);s=_[0].length,l=_[0],c=_[0],f="",kr&&!a[c]&&(Ir.lstatSync(c),a[c]=!0)}for(;s<t.length;){ir.lastIndex=s;var m=ir.exec(t);if(f=l,l+=m[0],c=f+m[1],s=ir.lastIndex,!(a[c]||r&&r[c]===c)){var p;if(r&&Object.prototype.hasOwnProperty.call(r,c))p=r[c];else{var g=Ir.lstatSync(c);if(!g.isSymbolicLink()){a[c]=!0,r&&(r[c]=c);continue}var y=null;if(!kr){var v=g.dev.toString(32)+":"+g.ino.toString(32);i.hasOwnProperty(v)&&(y=i[v])}y===null&&(Ir.statSync(c),y=Ir.readlinkSync(c)),p=gn.resolve(f,y),r&&(r[c]=p),kr||(i[v]=y)}t=gn.resolve(p,t.slice(s)),d()}}return r&&(r[n]=t),t};dd.realpath=function(t,r,n){if(typeof n!="function"&&(n=TM(r),r=null),t=gn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,a={},s={},l,c,f,d;m();function m(){var _=Ra.exec(t);l=_[0].length,c=_[0],f=_[0],d="",kr&&!s[f]?Ir.lstat(f,function(E){if(E)return n(E);s[f]=!0,p()}):process.nextTick(p)}function p(){if(l>=t.length)return r&&(r[i]=t),n(null,t);ir.lastIndex=l;var _=ir.exec(t);return d=c,c+=_[0],f=d+_[1],l=ir.lastIndex,s[f]||r&&r[f]===f?process.nextTick(p):r&&Object.prototype.hasOwnProperty.call(r,f)?v(r[f]):Ir.lstat(f,g)}function g(_,E){if(_)return n(_);if(!E.isSymbolicLink())return s[f]=!0,r&&(r[f]=f),process.nextTick(p);if(!kr){var P=E.dev.toString(32)+":"+E.ino.toString(32);if(a.hasOwnProperty(P))return y(null,a[P],f)}Ir.stat(f,function(I){if(I)return n(I);Ir.readlink(f,function(D,k){kr||(a[P]=k),y(D,k)})})}function y(_,E,P){if(_)return n(_);var I=gn.resolve(d,E);r&&(r[P]=I),v(I)}function v(_){t=gn.resolve(_,t.slice(l)),m()}}});var yd=S((LH,yE)=>{yE.exports=Dr;Dr.realpath=Dr;Dr.sync=md;Dr.realpathSync=md;Dr.monkeypatch=OM;Dr.unmonkeypatch=xM;var gi=require("fs"),hd=gi.realpath,pd=gi.realpathSync,PM=process.version,hE=/^v[0-5]\./.test(PM),pE=dE();function mE(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Dr(e,t,r){if(hE)return hd(e,t,r);typeof t=="function"&&(r=t,t=null),hd(e,t,function(n,i){mE(n)?pE.realpath(e,t,r):r(n,i)})}function md(e,t){if(hE)return pd(e,t);try{return pd(e,t)}catch(r){if(mE(r))return pE.realpathSync(e,t);throw r}}function OM(){gi.realpath=Dr,gi.realpathSync=md}function xM(){gi.realpath=hd,gi.realpathSync=pd}});var bE=S((FH,gE)=>{gE.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);CM(i)?r.push.apply(r,i):r.push(i)}return r};var CM=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var EE=S((MH,wE)=>{"use strict";wE.exports=SE;function SE(e,t,r){e instanceof RegExp&&(e=vE(e,r)),t instanceof RegExp&&(t=vE(t,r));var n=_E(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function vE(e,t){var r=t.match(e);return r?r[0]:null}SE.range=_E;function _E(e,t,r){var n,i,a,s,l,c=r.indexOf(e),f=r.indexOf(t,c+1),d=c;if(c>=0&&f>0){if(e===t)return[c,f];for(n=[],a=r.length;d>=0&&!l;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?l=[n.pop(),f]:(i=n.pop(),i<a&&(a=i,s=f),f=r.indexOf(t,d+1)),d=c<f&&c>=0?c:f;n.length&&(l=[a,s])}return l}});var IE=S((qH,CE)=>{var IM=bE(),RE=EE();CE.exports=LM;var AE="\0SLASH"+Math.random()+"\0",TE="\0OPEN"+Math.random()+"\0",bd="\0CLOSE"+Math.random()+"\0",PE="\0COMMA"+Math.random()+"\0",OE="\0PERIOD"+Math.random()+"\0";function gd(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function kM(e){return e.split("\\\\").join(AE).split("\\{").join(TE).split("\\}").join(bd).split("\\,").join(PE).split("\\.").join(OE)}function DM(e){return e.split(AE).join("\\").split(TE).join("{").split(bd).join("}").split(PE).join(",").split(OE).join(".")}function xE(e){if(!e)return[""];var t=[],r=RE("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var l=xE(a);return a.length&&(s[s.length-1]+=l.shift(),s.push.apply(s,l)),t.push.apply(t,s),t}function LM(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),bi(kM(e),!0).map(DM)):[]}function FM(e){return"{"+e+"}"}function MM(e){return/^-?0\d/.test(e)}function qM(e,t){return e<=t}function NM(e,t){return e>=t}function bi(e,t){var r=[],n=RE("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||a,l=n.body.indexOf(",")>=0;if(!s&&!l)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+bd+n.post,bi(e)):[e];var c;if(s)c=n.body.split(/\.\./);else if(c=xE(n.body),c.length===1&&(c=bi(c[0],!1).map(FM),c.length===1)){var d=n.post.length?bi(n.post,!1):[""];return d.map(function(R){return n.pre+c[0]+R})}var f=n.pre,d=n.post.length?bi(n.post,!1):[""],m;if(s){var p=gd(c[0]),g=gd(c[1]),y=Math.max(c[0].length,c[1].length),v=c.length==3?Math.abs(gd(c[2])):1,_=qM,E=g<p;E&&(v*=-1,_=NM);var P=c.some(MM);m=[];for(var I=p;_(I,g);I+=v){var D;if(a)D=String.fromCharCode(I),D==="\\"&&(D="");else if(D=String(I),P){var k=y-D.length;if(k>0){var M=new Array(k+1).join("0");I<0?D="-"+M+D.slice(1):D=M+D}}m.push(D)}}else m=IM(c,function(q){return bi(q,!1)});for(var N=0;N<m.length;N++)for(var L=0;L<d.length;L++){var C=f+m[N]+d[L];(!t||s||C)&&r.push(C)}return r}});var eu=S((NH,ME)=>{ME.exports=st;st.Minimatch=Ne;var Aa=function(){try{return require("path")}catch{}}()||{sep:"/"};st.sep=Aa.sep;var _d=st.GLOBSTAR=Ne.GLOBSTAR={},BM=IE(),kE={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},vd="[^/]",Sd=vd+"*?",GM="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$M="(?:(?!(?:\\/|^)\\.).)*?",DE=WM("().*{}+?[]^$\\!");function WM(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var LE=/\/+/;st.filter=jM;function jM(e,t){return t=t||{},function(r,n,i){return st(r,e,t)}}function Lr(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}st.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return st;var t=st,r=function(i,a,s){return t(i,a,Lr(e,s))};return r.Minimatch=function(i,a){return new t.Minimatch(i,Lr(e,a))},r.Minimatch.defaults=function(i){return t.defaults(Lr(e,i)).Minimatch},r.filter=function(i,a){return t.filter(i,Lr(e,a))},r.defaults=function(i){return t.defaults(Lr(e,i))},r.makeRe=function(i,a){return t.makeRe(i,Lr(e,a))},r.braceExpand=function(i,a){return t.braceExpand(i,Lr(e,a))},r.match=function(n,i,a){return t.match(n,i,Lr(e,a))},r};Ne.defaults=function(e){return st.defaults(e).Minimatch};function st(e,t,r){return Js(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new Ne(t,r).match(e)}function Ne(e,t){if(!(this instanceof Ne))return new Ne(e,t);Js(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&Aa.sep!=="/"&&(e=e.split(Aa.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}Ne.prototype.debug=function(){};Ne.prototype.make=UM;function UM(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(LE)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Ne.prototype.parseNegate=HM;function HM(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=e.length;i<a&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}st.braceExpand=function(e,t){return FE(e,t)};Ne.prototype.braceExpand=FE;function FE(e,t){return t||(this instanceof Ne?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,Js(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:BM(e)}var zM=1024*64,Js=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>zM)throw new TypeError("pattern is too long")};Ne.prototype.parse=YM;var Zs={};function YM(e,t){Js(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return _d;if(e==="")return"";var n="",i=!!r.nocase,a=!1,s=[],l=[],c,f=!1,d=-1,m=-1,p=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function y(){if(c){switch(c){case"*":n+=Sd,i=!0;break;case"?":n+=vd,i=!0;break;default:n+="\\"+c;break}g.debug("clearStateChar %j %j",c,n),c=!1}}for(var v=0,_=e.length,E;v<_&&(E=e.charAt(v));v++){if(this.debug("%s	%s %s %j",e,v,n,E),a&&DE[E]){n+="\\"+E,a=!1;continue}switch(E){case"/":return!1;case"\\":y(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,v,n,E),f){this.debug("  in class"),E==="!"&&v===m+1&&(E="^"),n+=E;continue}g.debug("call clearStateChar %j",c),y(),c=E,r.noext&&y();continue;case"(":if(f){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:v-1,reStart:n.length,open:kE[c].open,close:kE[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(f||!s.length){n+="\\)";continue}y(),i=!0;var P=s.pop();n+=P.close,P.type==="!"&&l.push(P),P.reEnd=n.length;continue;case"|":if(f||!s.length||a){n+="\\|",a=!1;continue}y(),n+="|";continue;case"[":if(y(),f){n+="\\"+E;continue}f=!0,m=v,d=n.length,n+=E;continue;case"]":if(v===m+1||!f){n+="\\"+E,a=!1;continue}var I=e.substring(m+1,v);try{RegExp("["+I+"]")}catch{var D=this.parse(I,Zs);n=n.substr(0,d)+"\\["+D[0]+"\\]",i=i||D[1],f=!1;continue}i=!0,f=!1,n+=E;continue;default:y(),a?a=!1:DE[E]&&!(E==="^"&&f)&&(n+="\\"),n+=E}}for(f&&(I=e.substr(m+1),D=this.parse(I,Zs),n=n.substr(0,d)+"\\["+D[0],i=i||D[1]),P=s.pop();P;P=s.pop()){var k=n.slice(P.reStart+P.open.length);this.debug("setting tail",n,P),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ke,Te,ut){return ut||(ut="\\"),Te+Te+ut+"|"}),this.debug(`tail=%j
   %s`,k,k,P,n);var M=P.type==="*"?Sd:P.type==="?"?vd:"\\"+P.type;i=!0,n=n.slice(0,P.reStart)+M+"\\("+k}y(),a&&(n+="\\\\");var N=!1;switch(n.charAt(0)){case"[":case".":case"(":N=!0}for(var L=l.length-1;L>-1;L--){var C=l[L],q=n.slice(0,C.reStart),R=n.slice(C.reStart,C.reEnd-8),W=n.slice(C.reEnd-8,C.reEnd),B=n.slice(C.reEnd);W+=B;var z=q.split("(").length-1,A=B;for(v=0;v<z;v++)A=A.replace(/\)[+*?]?/,"");B=A;var T="";B===""&&t!==Zs&&(T="$");var $=q+R+B+T+W;n=$}if(n!==""&&i&&(n="(?=.)"+n),N&&(n=p+n),t===Zs)return[n,i];if(!i)return QM(e);var j=r.nocase?"i":"";try{var K=new RegExp("^"+n+"$",j)}catch{return new RegExp("$.")}return K._glob=e,K._src=n,K}st.makeRe=function(e,t){return new Ne(e,t||{}).makeRe()};Ne.prototype.makeRe=VM;function VM(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Sd:t.dot?GM:$M,n=t.nocase?"i":"",i=e.map(function(a){return a.map(function(s){return s===_d?r:typeof s=="string"?KM(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}st.match=function(e,t,r){r=r||{};var n=new Ne(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};Ne.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;Aa.sep!=="/"&&(t=t.split(Aa.sep).join("/")),t=t.split(LE),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var a,s;for(s=t.length-1;s>=0&&(a=t[s],!a);s--);for(s=0;s<i.length;s++){var l=i[s],c=t;n.matchBase&&l.length===1&&(c=[a]);var f=this.matchOne(c,l,r);if(f)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Ne.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,s=e.length,l=t.length;i<s&&a<l;i++,a++){this.debug("matchOne loop");var c=t[a],f=e[i];if(this.debug(t,c,f),c===!1)return!1;if(c===_d){this.debug("GLOBSTAR",[t,c,f]);var d=i,m=a+1;if(m===l){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;d<s;){var p=e[d];if(this.debug(`
globstar while`,e,d,t,m,p),this.matchOne(e.slice(d),t.slice(m),r))return this.debug("globstar found match!",d,s,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,d,t,m);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,d,t,m),d===s))}var g;if(typeof c=="string"?(g=f===c,this.debug("string match",c,f,g)):(g=f.match(c),this.debug("pattern match",c,f,g)),!g)return!1}if(i===s&&a===l)return!0;if(i===s)return r;if(a===l)return i===s-1&&e[i]==="";throw new Error("wtf?")};function QM(e){return e.replace(/\\(.)/g,"$1")}function KM(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var qE=S((BH,wd)=>{typeof Object.create=="function"?wd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:wd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var NE=S((GH,Rd)=>{try{if(Ed=require("util"),typeof Ed.inherits!="function")throw"";Rd.exports=Ed.inherits}catch{Rd.exports=qE()}var Ed});var ru=S(($H,tu)=>{"use strict";function BE(e){return e.charAt(0)==="/"}function GE(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}tu.exports=process.platform==="win32"?GE:BE;tu.exports.posix=BE;tu.exports.win32=GE});var Td=S(Fr=>{Fr.setopts=rq;Fr.ownProp=$E;Fr.makeAbs=Ta;Fr.finish=nq;Fr.mark=iq;Fr.isIgnored=jE;Fr.childrenIgnored=aq;function $E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var XM=require("fs"),vi=require("path"),ZM=eu(),WE=ru(),Ad=ZM.Minimatch;function JM(e,t){return e.localeCompare(t,"en")}function eq(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(tq))}function tq(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Ad(r,{dot:!0})}return{matcher:new Ad(e,{dot:!0}),gmatcher:t}}function rq(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||XM,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),eq(e,r),e.changedCwd=!1;var n=process.cwd();$E(r,"cwd")?(e.cwd=vi.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||vi.resolve(e.cwd,"/"),e.root=vi.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=WE(e.cwd)?e.cwd:Ta(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new Ad(t,r),e.options=e.minimatch.options}function nq(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var a=e.matches[n];if(!a||Object.keys(a).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var l=Object.keys(a);t?r.push.apply(r,l):l.forEach(function(c){r[c]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(JM)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(c){var f=!/\/$/.test(c),d=e.cache[c]||e.cache[Ta(e,c)];return f&&d&&(f=d!=="DIR"&&!Array.isArray(d)),f}))}e.ignore.length&&(r=r.filter(function(c){return!jE(e,c)})),e.found=r}function iq(e,t){var r=Ta(e,t),n=e.cache[r],i=t;if(n){var a=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(a&&!s?i+="/":!a&&s&&(i=i.slice(0,-1)),i!==t){var l=Ta(e,i);e.statCache[l]=e.statCache[r],e.cache[l]=e.cache[r]}}return i}function Ta(e,t){var r=t;return t.charAt(0)==="/"?r=vi.join(e.root,t):WE(t)||t===""?r=t:e.changedCwd?r=vi.resolve(e.cwd,t):r=vi.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function jE(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function aq(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var VE=S((zH,YE)=>{YE.exports=zE;zE.GlobSync=Oe;var oq=yd(),UE=eu(),jH=UE.Minimatch,UH=xd().Glob,HH=require("util"),Pd=require("path"),HE=require("assert"),nu=ru(),bn=Td(),sq=bn.setopts,Od=bn.ownProp,uq=bn.childrenIgnored,cq=bn.isIgnored;function zE(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Oe(e,t).found}function Oe(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Oe))return new Oe(e,t);if(sq(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Oe.prototype._finish=function(){if(HE.ok(this instanceof Oe),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=oq.realpathSync(i,e.realpathCache);n[a]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}bn.finish(this)};Oe.prototype._process=function(e,t,r){HE.ok(this instanceof Oe);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var a=e.slice(n),s;i===null?s=".":((nu(i)||nu(e.map(function(f){return typeof f=="string"?f:"[*]"}).join("/")))&&(!i||!nu(i))&&(i="/"+i),s=i);var l=this._makeAbs(s);if(!uq(this,s)){var c=a[0]===UE.GLOBSTAR;c?this._processGlobStar(i,s,l,a,t,r):this._processReaddir(i,s,l,a,t,r)}};Oe.prototype._processReaddir=function(e,t,r,n,i,a){var s=this._readdir(r,a);if(!!s){for(var l=n[0],c=!!this.minimatch.negate,f=l._glob,d=this.dot||f.charAt(0)===".",m=[],p=0;p<s.length;p++){var g=s[p];if(g.charAt(0)!=="."||d){var y;c&&!e?y=!g.match(l):y=g.match(l),y&&m.push(g)}}var v=m.length;if(v!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<v;p++){var g=m[p];e&&(e.slice(-1)!=="/"?g=e+"/"+g:g=e+g),g.charAt(0)==="/"&&!this.nomount&&(g=Pd.join(this.root,g)),this._emitMatch(i,g)}return}n.shift();for(var p=0;p<v;p++){var g=m[p],_;e?_=[e,g]:_=[g],this._process(_.concat(n),i,a)}}}};Oe.prototype._emitMatch=function(e,t){if(!cq(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Oe.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Oe.prototype._readdir=function(e,t){var r;if(t&&!Od(this.symlinks,e))return this._readdirInGlobStar(e);if(Od(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Oe.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Oe.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Oe.prototype._processGlobStar=function(e,t,r,n,i,a){var s=this._readdir(r,a);if(!!s){var l=n.slice(1),c=e?[e]:[],f=c.concat(l);this._process(f,i,!1);var d=s.length,m=this.symlinks[r];if(!(m&&a))for(var p=0;p<d;p++){var g=s[p];if(!(g.charAt(0)==="."&&!this.dot)){var y=c.concat(s[p],l);this._process(y,i,!0);var v=c.concat(s[p],n);this._process(v,i,!0)}}}};Oe.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&nu(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Pd.join(this.root,e):(e=Pd.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Oe.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Od(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var a;try{a=this.fs.lstatSync(t)}catch(l){if(l&&(l.code==="ENOENT"||l.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=a}else i=a}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};Oe.prototype._mark=function(e){return bn.mark(this,e)};Oe.prototype._makeAbs=function(e){return bn.makeAbs(this,e)}});var Cd=S((YH,KE)=>{KE.exports=QE;function QE(e,t){if(e&&t)return QE(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=e.apply(this,n),s=n[n.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(l){a[l]=s[l]}),a}}});var kd=S((VH,Id)=>{var XE=Cd();Id.exports=XE(iu);Id.exports.strict=XE(ZE);iu.proto=iu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return iu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ZE(this)},configurable:!0})});function iu(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ZE(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var e0=S((QH,JE)=>{var lq=Cd(),Pa=Object.create(null),fq=kd();JE.exports=lq(dq);function dq(e,t){return Pa[e]?(Pa[e].push(t),null):(Pa[e]=[t],hq(e))}function hq(e){return fq(function t(){var r=Pa[e],n=r.length,i=pq(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Pa[e]}})}function pq(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var xd=S((ZH,r0)=>{r0.exports=vn;var mq=yd(),t0=eu(),KH=t0.Minimatch,yq=NE(),gq=require("events").EventEmitter,Dd=require("path"),Ld=require("assert"),Oa=ru(),Md=VE(),Sn=Td(),bq=Sn.setopts,Fd=Sn.ownProp,qd=e0(),XH=require("util"),vq=Sn.childrenIgnored,Sq=Sn.isIgnored,_q=kd();function vn(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Md(e,t)}return new le(e,t,r)}vn.sync=Md;var wq=vn.GlobSync=Md.GlobSync;vn.glob=vn;function Eq(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}vn.hasMagic=function(e,t){var r=Eq({},t);r.noprocess=!0;var n=new le(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};vn.Glob=le;yq(le,gq);function le(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new wq(e,t)}if(!(this instanceof le))return new le(e,t,r);bq(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=_q(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return l();for(var a=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,l);a=!1;function l(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}le.prototype._finish=function(){if(Ld(this instanceof le),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Sn.finish(this),this.emit("end",this.found)}};le.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};le.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,a=n.length;if(a===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(l,c){l=i._makeAbs(l),mq.realpath(l,i.realpathCache,function(f,d){f?f.syscall==="stat"?s[l]=!0:i.emit("error",f):s[d]=!0,--a===0&&(i.matches[e]=s,t())})})};le.prototype._mark=function(e){return Sn.mark(this,e)};le.prototype._makeAbs=function(e){return Sn.makeAbs(this,e)};le.prototype.abort=function(){this.aborted=!0,this.emit("abort")};le.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};le.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};le.prototype._process=function(e,t,r,n){if(Ld(this instanceof le),Ld(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var a;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:a=null;break;default:a=e.slice(0,i).join("/");break}var s=e.slice(i),l;a===null?l=".":((Oa(a)||Oa(e.map(function(d){return typeof d=="string"?d:"[*]"}).join("/")))&&(!a||!Oa(a))&&(a="/"+a),l=a);var c=this._makeAbs(l);if(vq(this,l))return n();var f=s[0]===t0.GLOBSTAR;f?this._processGlobStar(a,l,c,s,t,r,n):this._processReaddir(a,l,c,s,t,r,n)}};le.prototype._processReaddir=function(e,t,r,n,i,a,s){var l=this;this._readdir(r,a,function(c,f){return l._processReaddir2(e,t,r,n,i,a,f,s)})};le.prototype._processReaddir2=function(e,t,r,n,i,a,s,l){if(!s)return l();for(var c=n[0],f=!!this.minimatch.negate,d=c._glob,m=this.dot||d.charAt(0)===".",p=[],g=0;g<s.length;g++){var y=s[g];if(y.charAt(0)!=="."||m){var v;f&&!e?v=!y.match(c):v=y.match(c),v&&p.push(y)}}var _=p.length;if(_===0)return l();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var g=0;g<_;g++){var y=p[g];e&&(e!=="/"?y=e+"/"+y:y=e+y),y.charAt(0)==="/"&&!this.nomount&&(y=Dd.join(this.root,y)),this._emitMatch(i,y)}return l()}n.shift();for(var g=0;g<_;g++){var y=p[g],E;e&&(e!=="/"?y=e+"/"+y:y=e+y),this._process([y].concat(n),i,a,l)}l()};le.prototype._emitMatch=function(e,t){if(!this.aborted&&!Sq(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Oa(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};le.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=qd(r,a);i&&n.fs.lstat(e,i);function a(s,l){if(s&&s.code==="ENOENT")return t();var c=l&&l.isSymbolicLink();n.symlinks[e]=c,!c&&l&&!l.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};le.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=qd("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Fd(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Fd(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,Rq(this,e,r))}};function Rq(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}le.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};le.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};le.prototype._processGlobStar=function(e,t,r,n,i,a,s){var l=this;this._readdir(r,a,function(c,f){l._processGlobStar2(e,t,r,n,i,a,f,s)})};le.prototype._processGlobStar2=function(e,t,r,n,i,a,s,l){if(!s)return l();var c=n.slice(1),f=e?[e]:[],d=f.concat(c);this._process(d,i,!1,l);var m=this.symlinks[r],p=s.length;if(m&&a)return l();for(var g=0;g<p;g++){var y=s[g];if(!(y.charAt(0)==="."&&!this.dot)){var v=f.concat(s[g],c);this._process(v,i,!0,l);var _=f.concat(s[g],n);this._process(_,i,!0,l)}}l()};le.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,a){n._processSimple2(e,t,i,a,r)})};le.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Oa(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Dd.join(this.root,e):(e=Dd.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};le.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Fd(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var a,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var l=s.isDirectory()?"DIR":"FILE";return n&&l==="FILE"?t():t(null,l,s)}var c=this,f=qd("stat\0"+r,d);f&&c.fs.lstat(r,f);function d(m,p){if(p&&p.isSymbolicLink())return c.fs.stat(r,function(g,y){g?c._stat2(e,r,null,p,t):c._stat2(e,r,g,y,t)});c._stat2(e,r,m,p,t)}};le.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var a=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,a&&s==="FILE"?i():i(null,s,n)}});var l0=S((JH,c0)=>{var he=require("assert"),o0=require("path"),n0=require("fs"),Si;try{Si=xd()}catch{}var Aq={nosort:!0,silent:!0},Nd=0,xa=process.platform==="win32",s0=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||n0[r],r=r+"Sync",e[r]=e[r]||n0[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&Si===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||Aq},Gd=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),he(e,"rimraf: missing path"),he.equal(typeof e,"string","rimraf: path should be a string"),he.equal(typeof r,"function","rimraf: callback function required"),he(t,"rimraf: invalid options argument provided"),he.equal(typeof t,"object","rimraf: options should be object"),s0(t);let n=0,i=null,a=0,s=c=>{i=i||c,--a===0&&r(i)},l=(c,f)=>{if(c)return r(c);if(a=f.length,a===0)return r();f.forEach(d=>{let m=p=>{if(p){if((p.code==="EBUSY"||p.code==="ENOTEMPTY"||p.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>Bd(d,t,m),n*100);if(p.code==="EMFILE"&&Nd<t.emfileWait)return setTimeout(()=>Bd(d,t,m),Nd++);p.code==="ENOENT"&&(p=null)}Nd=0,s(p)};Bd(d,t,m)})};if(t.disableGlob||!Si.hasMagic(e))return l(null,[e]);t.lstat(e,(c,f)=>{if(!c)return l(null,[e]);Si(e,t.glob,l)})},Bd=(e,t,r)=>{he(e),he(t),he(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&xa&&i0(e,t,n,r),i&&i.isDirectory())return au(e,t,n,r);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return r(null);if(a.code==="EPERM")return xa?i0(e,t,a,r):au(e,t,a,r);if(a.code==="EISDIR")return au(e,t,a,r)}return r(a)})})},i0=(e,t,r,n)=>{he(e),he(t),he(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(a,s)=>{a?n(a.code==="ENOENT"?null:r):s.isDirectory()?au(e,t,r,n):t.unlink(e,n)})})},a0=(e,t,r)=>{he(e),he(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ou(e,t,r):t.unlinkSync(e)},au=(e,t,r,n)=>{he(e),he(t),he(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Tq(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},Tq=(e,t,r)=>{he(e),he(t),he(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let a=i.length;if(a===0)return t.rmdir(e,r);let s;i.forEach(l=>{Gd(o0.join(e,l),t,c=>{if(!s){if(c)return r(s=c);--a===0&&t.rmdir(e,r)}})})})},u0=(e,t)=>{t=t||{},s0(t),he(e,"rimraf: missing path"),he.equal(typeof e,"string","rimraf: path should be a string"),he(t,"rimraf: missing options"),he.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!Si.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=Si.sync(e,t.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],a;try{a=t.lstatSync(i)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&xa&&a0(i,t,s)}try{a&&a.isDirectory()?ou(i,t,null):t.unlinkSync(i)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return xa?a0(i,t,s):ou(i,t,s);if(s.code!=="EISDIR")throw s;ou(i,t,s)}}},ou=(e,t,r)=>{he(e),he(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&Pq(e,t)}},Pq=(e,t)=>{he(e),he(t),t.readdirSync(e).forEach(i=>u0(o0.join(e,i),t));let r=xa?100:1,n=0;do{let i=!0;try{let a=t.rmdirSync(e,t);return i=!1,a}finally{if(++n<r&&i)continue}}while(!0)};c0.exports=Gd;Gd.sync=u0});var d0=S((e2,f0)=>{"use strict";f0.exports=(e,t=1,r)=>{if(r=H({indent:" ",includeEmptyLines:!1},r),typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var y0=S((t2,m0)=>{"use strict";var h0=require("os"),p0=/\s+at.*(?:\(|\s)(.*)\)?/,Oq=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,xq=typeof h0.homedir>"u"?"":h0.homedir();m0.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(p0);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!Oq.test(i)}).filter(r=>r.trim()!=="").map(r=>t.pretty?r.replace(p0,(n,i)=>n.replace(i,i.replace(xq,"~"))):r).join(`
`))});var v0=S((r2,b0)=>{"use strict";var Cq=d0(),Iq=y0(),kq=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),g0=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=[...t].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=t.map(n=>typeof n.stack=="string"?kq(Iq(n.stack)):String(n)).join(`
`);r=`
`+Cq(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(let t of this._errors)yield t}};b0.exports=g0});var _0=S((n2,S0)=>{"use strict";var Dq=v0();S0.exports=async(e,t,{concurrency:r=1/0,stopOnError:n=!0}={})=>new Promise((i,a)=>{if(typeof t!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===1/0)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let s=[],l=[],c=e[Symbol.iterator](),f=!1,d=!1,m=0,p=0,g=()=>{if(f)return;let y=c.next(),v=p;if(p++,y.done){d=!0,m===0&&(!n&&l.length!==0?a(new Dq(l)):i(s));return}m++,(async()=>{try{let _=await y.value;s[v]=await t(_,v),m--,g()}catch(_){n?(f=!0,a(_)):(l.push(_),m--,g())}})()};for(let y=0;y<r&&(g(),!d);y++);})});var O0=S((i2,$d)=>{"use strict";var{promisify:Lq}=require("util"),w0=require("path"),E0=Kw(),Fq=Ml(),Mq=td(),mt=sE(),qq=cE(),Nq=fE(),R0=l0(),Bq=_0(),Gq=Lq(R0),A0={glob:!1,unlink:mt.unlink,unlinkSync:mt.unlinkSync,chmod:mt.chmod,chmodSync:mt.chmodSync,stat:mt.stat,statSync:mt.statSync,lstat:mt.lstat,lstatSync:mt.lstatSync,rmdir:mt.rmdir,rmdirSync:mt.rmdirSync,readdir:mt.readdir,readdirSync:mt.readdirSync};function T0(e,t){if(qq(e))throw new Error("Cannot delete the current working directory. Can be overridden with the `force` option.");if(!Nq(e,t))throw new Error("Cannot delete files/directories outside the current working directory. Can be overridden with the `force` option.")}function P0(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>process.platform==="win32"&&Fq(t)===!1?Mq(t):t),e}$d.exports=async(e,s={})=>{var l=s,{force:t,dryRun:r,cwd:n=process.cwd(),onProgress:i=()=>{}}=l,a=Pt(l,["force","dryRun","cwd","onProgress"]);a=H({expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:n},a),e=P0(e);let c=(await E0(e,a)).sort((m,p)=>p.localeCompare(m));c.length===0&&i({totalCount:0,deletedCount:0,percent:1});let d=await Bq(c,async(m,p)=>(m=w0.resolve(n,m),t||T0(m,n),r||await Gq(m,A0),i({totalCount:c.length,deletedCount:p,percent:p/c.length}),m),a);return i({totalCount:c.length,deletedCount:c.length,percent:1}),d.sort((m,p)=>m.localeCompare(p)),d};$d.exports.sync=(e,a={})=>{var s=a,{force:t,dryRun:r,cwd:n=process.cwd()}=s,i=Pt(s,["force","dryRun","cwd"]);i=H({expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:n},i),e=P0(e);let c=E0.sync(e,i).sort((f,d)=>d.localeCompare(f)).map(f=>(f=w0.resolve(n,f),t||T0(f,n),r||R0.sync(f,A0),f));return c.sort((f,d)=>f.localeCompare(d)),c}});var Uq={};tp(Uq,{default:()=>G0});var yt=require("react"),gt=require("@raycast/api");var _o=_e(require("fs"));var Fp=_e(require("node:http"),1),Mp=_e(require("node:https"),1),zr=_e(require("node:zlib"),1),it=_e(require("node:stream"),1),Yi=require("node:buffer");function hA(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",i=!1,a=r[0]||"text/plain",s=a;for(let d=1;d<r.length;d++)r[d]==="base64"?i=!0:(s+=`;${r[d]}`,r[d].indexOf("charset=")===0&&(n=r[d].substring(8)));!r[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let l=i?"base64":"ascii",c=unescape(e.substring(t+1)),f=Buffer.from(c,l);return f.type=a,f.typeFull=s,f.charset=n,f}var np=hA;var lt=_e(require("node:stream"),1),zt=require("node:util"),nt=require("node:buffer");$i();fo();var dr=class extends Error{constructor(t,r){super(t);Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var rt=class extends dr{constructor(t,r,n){super(t,r);n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var ho=Symbol.toStringTag,Gu=e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[ho]==="URLSearchParams",ji=e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[ho]),dp=e=>typeof e=="object"&&(e[ho]==="AbortSignal"||e[ho]==="EventTarget"),hp=(e,t)=>{let r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)};var OA=(0,zt.promisify)(lt.default.pipeline),Xe=Symbol("Body internals"),Ht=class{constructor(t,{size:r=0}={}){let n=null;t===null?t=null:Gu(t)?t=nt.Buffer.from(t.toString()):ji(t)||nt.Buffer.isBuffer(t)||(zt.types.isAnyArrayBuffer(t)?t=nt.Buffer.from(t):ArrayBuffer.isView(t)?t=nt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof lt.default||(t instanceof Ur?(t=fp(t),n=t.type.split("=")[1]):t=nt.Buffer.from(String(t))));let i=t;nt.Buffer.isBuffer(t)?i=lt.default.Readable.from(t):ji(t)&&(i=lt.default.Readable.from(t.stream())),this[Xe]={body:t,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,t instanceof lt.default&&t.on("error",a=>{let s=a instanceof dr?a:new rt(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Xe].error=s})}get body(){return this[Xe].stream}get bodyUsed(){return this[Xe].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:r,byteLength:n}=await ju(this);return t.slice(r,r+n)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let n=new Ur,i=new URLSearchParams(await this.text());for(let[a,s]of i)n.append(a,s);return n}let{toFormData:r}=await Promise.resolve().then(()=>(Sp(),vp));return r(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[Xe].body&&this[Xe].body.type||"",r=await this.arrayBuffer();return new Ut([r],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await ju(this);return new TextDecoder().decode(t)}buffer(){return ju(this)}};Ht.prototype.buffer=(0,zt.deprecate)(Ht.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ht.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,zt.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function ju(e){if(e[Xe].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[Xe].disturbed=!0,e[Xe].error)throw e[Xe].error;let{body:t}=e;if(t===null)return nt.Buffer.alloc(0);if(!(t instanceof lt.default))return nt.Buffer.alloc(0);let r=[],n=0;try{for await(let i of t){if(e.size>0&&n+i.length>e.size){let a=new rt(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(a),a}n+=i.length,r.push(i)}}catch(i){throw i instanceof dr?i:new rt(`Invalid response body while trying to fetch ${e.url}: ${i.message}`,"system",i)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?nt.Buffer.from(r.join("")):nt.Buffer.concat(r,n)}catch(i){throw new rt(`Could not create Buffer from response body for ${e.url}: ${i.message}`,"system",i)}else throw new rt(`Premature close of server response while trying to fetch ${e.url}`)}var Dn=(e,t)=>{let r,n,{body:i}=e[Xe];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof lt.default&&typeof i.getBoundary!="function"&&(r=new lt.PassThrough({highWaterMark:t}),n=new lt.PassThrough({highWaterMark:t}),i.pipe(r),i.pipe(n),e[Xe].stream=r,i=n),i},xA=(0,zt.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),yo=(e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":Gu(e)?"application/x-www-form-urlencoded;charset=UTF-8":ji(e)?e.type||null:nt.Buffer.isBuffer(e)||zt.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof Ur?`multipart/form-data; boundary=${t[Xe].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${xA(e)}`:e instanceof lt.default?null:"text/plain;charset=UTF-8",_p=e=>{let{body:t}=e[Xe];return t===null?0:ji(t)?t.size:nt.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},wp=async(e,{body:t})=>{t===null?e.end():await OA(t,e)};var Uu=require("node:util"),zi=_e(require("node:http"),1),go=typeof zi.default.validateHeaderName=="function"?zi.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},Hu=typeof zi.default.validateHeaderValue=="function"?zi.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},ze=class extends URLSearchParams{constructor(t){let r=[];if(t instanceof ze){let n=t.raw();for(let[i,a]of Object.entries(n))r.push(...a.map(s=>[i,s]))}else if(t!=null)if(typeof t=="object"&&!Uu.types.isBoxedPrimitive(t)){let n=t[Symbol.iterator];if(n==null)r.push(...Object.entries(t));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(i=>{if(typeof i!="object"||Uu.types.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");r=r.length>0?r.map(([n,i])=>(go(n),Hu(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0;super(r);return new Proxy(this,{get(n,i,a){switch(i){case"append":case"set":return(s,l)=>(go(s),Hu(s,String(l)),URLSearchParams.prototype[i].call(n,String(s).toLowerCase(),String(l)));case"delete":case"has":case"getAll":return s=>(go(s),URLSearchParams.prototype[i].call(n,String(s).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(t)&&(n=n.toLowerCase()),n}forEach(t,r=void 0){for(let n of this.keys())Reflect.apply(t,r,[this.get(n),n,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let n=this.getAll(r);return r==="host"?t[r]=n[0]:t[r]=n.length>1?n:n[0],t},{})}};Object.defineProperties(ze.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function Ep(e=[]){return new ze(e.reduce((t,r,n,i)=>(n%2===0&&t.push(i.slice(n,n+2)),t),[]).filter(([t,r])=>{try{return go(t),Hu(t,String(r)),!0}catch{return!1}}))}var CA=new Set([301,302,303,307,308]),bo=e=>CA.has(e);var wt=Symbol("Response internals"),Le=class extends Ht{constructor(t=null,r={}){super(t,r);let n=r.status!=null?r.status:200,i=new ze(r.headers);if(t!==null&&!i.has("Content-Type")){let a=yo(t,this);a&&i.append("Content-Type",a)}this[wt]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[wt].type}get url(){return this[wt].url||""}get status(){return this[wt].status}get ok(){return this[wt].status>=200&&this[wt].status<300}get redirected(){return this[wt].counter>0}get statusText(){return this[wt].statusText}get headers(){return this[wt].headers}get highWaterMark(){return this[wt].highWaterMark}clone(){return new Le(Dn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!bo(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Le(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new Le(null,{status:0,statusText:""});return t[wt].type="error",t}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Le.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var kp=require("node:url"),Dp=require("node:util");var Rp=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""};var Tp=require("node:net");function Ap(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}var Pp=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Op="strict-origin-when-cross-origin";function xp(e){if(!Pp.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function IA(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,Tp.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:/^(.+\.)*localhost$/.test(e.host)?!1:e.protocol==="file:"}function Ln(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:IA(e)}function Cp(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let n=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let i=e.referrer,a=Ap(i),s=Ap(i,!0);a.toString().length>4096&&(a=s),t&&(a=t(a)),r&&(s=r(s));let l=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return a;case"strict-origin":return Ln(a)&&!Ln(l)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return a.origin===l.origin?a:Ln(a)&&!Ln(l)?"no-referrer":s;case"same-origin":return a.origin===l.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===l.origin?a:s;case"no-referrer-when-downgrade":return Ln(a)&&!Ln(l)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function Ip(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of t)n&&Pp.has(n)&&(r=n);return r}var xe=Symbol("Request internals"),vo=e=>typeof e=="object"&&typeof e[xe]=="object",kA=(0,Dp.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),xt=class extends Ht{constructor(t,r={}){let n;if(vo(t)?n=new URL(t.url):(n=new URL(t),t={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),"data"in r&&kA(),(r.body!=null||vo(t)&&t.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:vo(t)&&t.body!==null?Dn(t):null;super(a,{size:r.size||t.size||0});let s=new ze(r.headers||t.headers||{});if(a!==null&&!s.has("Content-Type")){let f=yo(a,this);f&&s.set("Content-Type",f)}let l=vo(t)?t.signal:null;if("signal"in r&&(l=r.signal),l!=null&&!dp(l))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?t.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let f=new URL(c);c=/^about:(\/\/)?client$/.test(f)?"client":f}else c=void 0;this[xe]={method:i,redirect:r.redirect||t.redirect||"follow",headers:s,parsedURL:n,signal:l,referrer:c},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[xe].method}get url(){return(0,kp.format)(this[xe].parsedURL)}get headers(){return this[xe].headers}get redirect(){return this[xe].redirect}get signal(){return this[xe].signal}get referrer(){if(this[xe].referrer==="no-referrer")return"";if(this[xe].referrer==="client")return"about:client";if(this[xe].referrer)return this[xe].referrer.toString()}get referrerPolicy(){return this[xe].referrerPolicy}set referrerPolicy(t){this[xe].referrerPolicy=xp(t)}clone(){return new xt(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(xt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Lp=e=>{let{parsedURL:t}=e[xe],r=new ze(e[xe].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(n="0"),e.body!==null){let l=_p(e);typeof l=="number"&&!Number.isNaN(l)&&(n=String(l))}n&&r.set("Content-Length",n),e.referrerPolicy===""&&(e.referrerPolicy=Op),e.referrer&&e.referrer!=="no-referrer"?e[xe].referrer=Cp(e):e[xe].referrer="no-referrer",e[xe].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate,br");let{agent:i}=e;typeof i=="function"&&(i=i(t)),!r.has("Connection")&&!i&&r.set("Connection","close");let a=Rp(t),s={path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i};return{parsedURL:t,options:s}};var pr=class extends dr{constructor(t,r="aborted"){super(t,r)}};fo();Wu();var DA=new Set(["data:","http:","https:"]);async function Ye(e,t){return new Promise((r,n)=>{let i=new xt(e,t),{parsedURL:a,options:s}=Lp(i);if(!DA.has(a.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let y=np(i.url),v=new Le(y,{headers:{"Content-Type":y.typeFull}});r(v);return}let l=(a.protocol==="https:"?Mp.default:Fp.default).request,{signal:c}=i,f=null,d=()=>{let y=new pr("The operation was aborted.");n(y),i.body&&i.body instanceof it.default.Readable&&i.body.destroy(y),!(!f||!f.body)&&f.body.emit("error",y)};if(c&&c.aborted){d();return}let m=()=>{d(),g()},p=l(a.toString(),s);c&&c.addEventListener("abort",m);let g=()=>{p.abort(),c&&c.removeEventListener("abort",m)};p.on("error",y=>{n(new rt(`request to ${i.url} failed, reason: ${y.message}`,"system",y)),g()}),LA(p,y=>{f.body.destroy(y)}),process.version<"v14"&&p.on("socket",y=>{let v;y.prependListener("end",()=>{v=y._eventsCount}),y.prependListener("close",_=>{if(f&&v<y._eventsCount&&!_){let E=new Error("Premature close");E.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",E)}})}),p.on("response",y=>{p.setTimeout(0);let v=Ep(y.rawHeaders);if(bo(y.statusCode)){let D=v.get("Location"),k=null;try{k=D===null?null:new URL(D,i.url)}catch{if(i.redirect!=="manual"){n(new rt(`uri requested responds with an invalid redirect URL: ${D}`,"invalid-redirect")),g();return}}switch(i.redirect){case"error":n(new rt(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(k===null)break;if(i.counter>=i.follow){n(new rt(`maximum redirect reached at: ${i.url}`,"max-redirect")),g();return}let M={headers:new ze(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Dn(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!hp(i.url,k))for(let L of["authorization","www-authenticate","cookie","cookie2"])M.headers.delete(L);if(y.statusCode!==303&&i.body&&t.body instanceof it.default.Readable){n(new rt("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&i.method==="POST")&&(M.method="GET",M.body=void 0,M.headers.delete("content-length"));let N=Ip(v);N&&(M.referrerPolicy=N),r(Ye(new xt(k,M))),g();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}c&&y.once("end",()=>{c.removeEventListener("abort",m)});let _=(0,it.pipeline)(y,new it.PassThrough,D=>{D&&n(D)});process.version<"v12.10"&&y.on("aborted",m);let E={url:i.url,status:y.statusCode,statusText:y.statusMessage,headers:v,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},P=v.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||P===null||y.statusCode===204||y.statusCode===304){f=new Le(_,E),r(f);return}let I={flush:zr.default.Z_SYNC_FLUSH,finishFlush:zr.default.Z_SYNC_FLUSH};if(P==="gzip"||P==="x-gzip"){_=(0,it.pipeline)(_,zr.default.createGunzip(I),D=>{D&&n(D)}),f=new Le(_,E),r(f);return}if(P==="deflate"||P==="x-deflate"){let D=(0,it.pipeline)(y,new it.PassThrough,k=>{k&&n(k)});D.once("data",k=>{(k[0]&15)===8?_=(0,it.pipeline)(_,zr.default.createInflate(),M=>{M&&n(M)}):_=(0,it.pipeline)(_,zr.default.createInflateRaw(),M=>{M&&n(M)}),f=new Le(_,E),r(f)}),D.once("end",()=>{f||(f=new Le(_,E),r(f))});return}if(P==="br"){_=(0,it.pipeline)(_,zr.default.createBrotliDecompress(),D=>{D&&n(D)}),f=new Le(_,E),r(f);return}f=new Le(_,E),r(f)}),wp(p,i).catch(n)})}function LA(e,t){let r=Yi.Buffer.from(`0\r
\r
`),n=!1,i=!1,a;e.on("response",s=>{let{headers:l}=s;n=l["transfer-encoding"]==="chunked"&&!l["content-length"]}),e.on("socket",s=>{let l=()=>{if(n&&!i){let c=new Error("Premature close");c.code="ERR_STREAM_PREMATURE_CLOSE",t(c)}};s.prependListener("close",l),e.on("abort",()=>{s.removeListener("close",l)}),s.on("data",c=>{i=Yi.Buffer.compare(c.slice(-5),r)===0,!i&&a&&(i=Yi.Buffer.compare(a.slice(-3),r.slice(0,3))===0&&Yi.Buffer.compare(c.slice(-2),r.slice(3))===0),a=c})})}var Np=_e(require("path"));function Z(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ue(e){Z(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Yt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function So(e){Z(1,arguments);var t=ue(e);return t.setHours(0,0,0,0),t}var FA=864e5;function Vi(e,t){Z(2,arguments);var r=So(e),n=So(t),i=r.getTime()-Yt(r),a=n.getTime()-Yt(n);return Math.round((i-a)/FA)}function qp(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function zu(e,t){Z(2,arguments);var r=ue(e),n=ue(t),i=qp(r,n),a=Math.abs(Vi(r,n));r.setDate(r.getDate()-i*a);var s=Number(qp(r,n)===-i),l=i*(a-s);return l===0?0:l}var mr=require("@raycast/api"),MA="apiKey",qA="maxResults",NA="defaultAction",BA="layoutType",GA="gridItemSize",$A="gridTrendingItemSize",WA="https://cdn.joe.sh/gif-search/config.json",fe={GIPHY:"giphy",TENOR:"tenor",FINER_GIFS:"finergifs",FAVORITES:"favorites",RECENTS:"recents"};function Bp(){return Object.values(fe).filter(e=>e!=fe.FAVORITES&&e!=fe.RECENTS)}function yr(e){switch(e){case fe.GIPHY:return"Giphy";case fe.TENOR:return"Tenor";case fe.FINER_GIFS:return"Finer Gifs Club"}return""}var Yu;function Fn(){return Yu||(Yu=(0,mr.getPreferenceValues)()),Yu}async function wo(e,t){let r=Fn()[`${e}-${MA}`];return r||(r=(await jA(t)).apiKeys[e]),r}function Gp(){return Fn()[NA]}function $p(){return parseInt(Fn()[qA],10)??10}var Vu=Np.default.resolve(mr.environment.supportPath,"config.json");async function jA(e){let t;try{if(e)throw new Error("Forcibly fetching config from server");t=JSON.parse(_o.default.readFileSync(Vu,"utf-8"));let{mtime:r}=_o.default.statSync(Vu),n=zu(new Date,new Date(r));if(n>7)throw new Error(`Config out of date, ${n} days old`)}catch{t=await(await Ye(WA)).json(),_o.default.writeFileSync(Vu,JSON.stringify(t,null,2),"utf-8")}return t}var Wp={List:"list",Grid:"grid"};function jp(){return Fn()[BA]}var Up={small:mr.Grid.ItemSize.Small,medium:mr.Grid.ItemSize.Medium,large:mr.Grid.ItemSize.Large};function Eo(){return Up[Fn()[GA]]}function Qu(){return Up[Fn()[$A]]}var Vp=_e(require("react"));var Mn=require("@raycast/api");function Qi(e,t){return`${e}-${t}`}function Ku(e,t,r){return Mn.LocalStorage.setItem(Qi(t,r),JSON.stringify([...e||[]]))}async function Ki(e,t){return await Mn.LocalStorage.removeItem(Qi(e,t))}async function Hp(e){for(let t of(await Xu(e)).keys())await Mn.LocalStorage.removeItem(Qi(t,e))}async function zp(e,t){let r=await Mn.LocalStorage.getItem(Qi(e,t)),n=JSON.parse(r||"[]");return new Set(n)}async function Xu(e){let t=new Map;for(let r of Bp()){let n=await Mn.LocalStorage.getItem(Qi(r,e)),i=JSON.parse(n||"[]");t.set(r,new Set(i))}return t}function Yp(e=new Map){return Object.values(fe).reduce((t,r)=>(r!==fe.FAVORITES&&r!==fe.RECENTS&&t.set(r,new Set),t),e)}var Zu={favIds:Yp(),recentIds:Yp()},UA=Vp.default.createContext({state:Zu}),qn=UA;function Qp(e,t){let{type:r,favIds:n,recentIds:i}=t,a=t.service,s=n?.get(a);if(s)switch(r){case"replace":e.favIds?.get(a)?.clear(),s.forEach(d=>e.favIds?.get(a)?.add(d));break;case"add":s.forEach(d=>{e.favIds?.get(a)?.add(d),e.recentIds?.get(a)?.delete(d)});break;case"remove":s.forEach(d=>e.favIds?.get(a)?.delete(d));break}else(n&&r=="replace"||r=="clear")&&(e.favIds=n);let l=i?.get(a);if(l)switch(r){case"replace":e.recentIds?.get(a)?.clear(),l.forEach(d=>!e.favIds?.get(a)?.has(d)&&e.recentIds?.get(a)?.add(d));break;case"add":l.forEach(d=>!e.favIds?.get(a)?.has(d)&&e.recentIds?.get(a)?.add(d));break;case"remove":l.forEach(d=>e.recentIds?.get(a)?.delete(d));break}else(i&&r=="replace"||r=="clear")&&(e.recentIds=i);let c=e.favIds?.get(a),f=e.recentIds?.get(a);return t.save&&a&&(c&&Ku(c,a,"favs"),f&&Ku(f,a,"recent")),ce(H({},e),{favIds:e.favIds,recentIds:e.recentIds})}var Nn=require("react");function Ro(e){let[t,r]=(0,Nn.useState)(!0),[n,i]=(0,Nn.useState)(),a=(0,Nn.useCallback)(async function(c,f){let{offset:d=0}=f||{};if(!!c){r(!0);try{let m=await zp(c,e);i({ids:new Map([[c,m]])})}catch(m){console.error(m);let p=m;await Ki(c,e),i({error:p})}finally{r(!1)}}},[i,r]),s=(0,Nn.useCallback)(async function(c){let{offset:f=0}=c||{};r(!0);try{let d=await Xu(e);i({ids:d})}catch(d){console.error(d);let m=d;await Hp(e),i({error:m})}finally{r(!1)}},[i]);return[n,t,a,s]}var Er=require("react");function Ju(e){return Z(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ec(e){if(Z(1,arguments),!Ju(e)&&typeof e!="number")return!1;var t=ue(e);return!isNaN(Number(t))}var HA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zA=function(e,t,r){var n,i=HA[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},Kp=zA;function Xi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var YA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KA={date:Xi({formats:YA,defaultWidth:"full"}),time:Xi({formats:VA,defaultWidth:"full"}),dateTime:Xi({formats:QA,defaultWidth:"full"})},Xp=KA;var XA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZA=function(e,t,r,n){return XA[e]},Zp=ZA;function Yr(e){return function(t,r){var n=r||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,l=n.width?String(n.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{var c=e.defaultWidth,f=n.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[c]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var JA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aT=function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oT={ordinalNumber:aT,era:Yr({values:JA,defaultWidth:"wide"}),quarter:Yr({values:eT,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Yr({values:tT,defaultWidth:"wide"}),day:Yr({values:rT,defaultWidth:"wide"}),dayPeriod:Yr({values:nT,defaultWidth:"wide",formattingValues:iT,defaultFormattingWidth:"wide"})},Jp=oT;function Vr(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?uT(l,function(m){return m.test(s)}):sT(l,function(m){return m.test(s)}),f;f=e.valueCallback?e.valueCallback(c):c,f=r.valueCallback?r.valueCallback(f):f;var d=t.slice(s.length);return{value:f,rest:d}}}function sT(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function uT(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function tc(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],a=t.match(e.parsePattern);if(!a)return null;var s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var l=t.slice(i.length);return{value:s,rest:l}}}var cT=/^(\d+)(th|st|nd|rd)?/i,lT=/\d+/i,fT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dT={any:[/^b/i,/^(a|c)/i]},hT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pT={any:[/1/i,/2/i,/3/i,/4/i]},mT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ST={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_T={ordinalNumber:tc({matchPattern:cT,parsePattern:lT,valueCallback:function(e){return parseInt(e,10)}}),era:Vr({matchPatterns:fT,defaultMatchWidth:"wide",parsePatterns:dT,defaultParseWidth:"any"}),quarter:Vr({matchPatterns:hT,defaultMatchWidth:"wide",parsePatterns:pT,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Vr({matchPatterns:mT,defaultMatchWidth:"wide",parsePatterns:yT,defaultParseWidth:"any"}),day:Vr({matchPatterns:gT,defaultMatchWidth:"wide",parsePatterns:bT,defaultParseWidth:"any"}),dayPeriod:Vr({matchPatterns:vT,defaultMatchWidth:"any",parsePatterns:ST,defaultParseWidth:"any"})},em=_T;var wT={code:"en-US",formatDistance:Kp,formatLong:Xp,formatRelative:Zp,localize:Jp,match:em,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ao=wT;function we(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function rc(e,t){Z(2,arguments);var r=ue(e).getTime(),n=we(t);return new Date(r+n)}function Bn(e,t){Z(2,arguments);var r=we(t);return rc(e,-r)}var ET=864e5;function nc(e){Z(1,arguments);var t=ue(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/ET)+1}function gr(e){Z(1,arguments);var t=1,r=ue(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Zi(e){Z(1,arguments);var t=ue(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=gr(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=gr(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function ic(e){Z(1,arguments);var t=Zi(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=gr(r);return n}var RT=6048e5;function ac(e){Z(1,arguments);var t=ue(e),r=gr(t).getTime()-ic(t).getTime();return Math.round(r/RT)+1}function br(e,t){Z(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:we(i),s=r.weekStartsOn==null?a:we(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=ue(e),c=l.getUTCDay(),f=(c<s?7:0)+c-s;return l.setUTCDate(l.getUTCDate()-f),l.setUTCHours(0,0,0,0),l}function Ji(e,t){Z(1,arguments);var r=ue(e),n=r.getUTCFullYear(),i=t||{},a=i.locale,s=a&&a.options&&a.options.firstWeekContainsDate,l=s==null?1:we(s),c=i.firstWeekContainsDate==null?l:we(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(n+1,0,c),f.setUTCHours(0,0,0,0);var d=br(f,t),m=new Date(0);m.setUTCFullYear(n,0,c),m.setUTCHours(0,0,0,0);var p=br(m,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function oc(e,t){Z(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:we(i),s=r.firstWeekContainsDate==null?a:we(r.firstWeekContainsDate),l=Ji(e,t),c=new Date(0);c.setUTCFullYear(l,0,s),c.setUTCHours(0,0,0,0);var f=br(c,t);return f}var AT=6048e5;function sc(e,t){Z(1,arguments);var r=ue(e),n=br(r,t).getTime()-oc(r,t).getTime();return Math.round(n/AT)+1}function se(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var TT={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return se(t==="yy"?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):se(r+1,2)},d:function(e,t){return se(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return se(e.getUTCHours()%12||12,t.length)},H:function(e,t){return se(e.getUTCHours(),t.length)},m:function(e,t){return se(e.getUTCMinutes(),t.length)},s:function(e,t){return se(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return se(i,t.length)}},Vt=TT;var Gn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PT={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vt.y(e,t)},Y:function(e,t,r,n){var i=Ji(e,n),a=i>0?i:1-i;if(t==="YY"){var s=a%100;return se(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):se(a,t.length)},R:function(e,t){var r=Zi(e);return se(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return se(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return se(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return se(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Vt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return se(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=sc(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):se(i,t.length)},I:function(e,t,r){var n=ac(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):se(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Vt.d(e,t)},D:function(e,t,r){var n=nc(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):se(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return se(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return se(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return se(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n=e.getUTCHours(),i;switch(n===12?i=Gn.noon:n===0?i=Gn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n=e.getUTCHours(),i;switch(n>=17?i=Gn.evening:n>=12?i=Gn.afternoon:n>=4?i=Gn.morning:i=Gn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Vt.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):se(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):se(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Vt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Vt.s(e,t)},S:function(e,t){return Vt.S(e,t)},X:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return rm(a);case"XXXX":case"XX":return Qr(a);case"XXXXX":case"XXX":default:return Qr(a,":")}},x:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return rm(a);case"xxxx":case"xx":return Qr(a);case"xxxxx":case"xxx":default:return Qr(a,":")}},O:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tm(a,":");case"OOOO":default:return"GMT"+Qr(a,":")}},z:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tm(a,":");case"zzzz":default:return"GMT"+Qr(a,":")}},t:function(e,t,r,n){var i=n._originalDate||e,a=Math.floor(i.getTime()/1e3);return se(a,t.length)},T:function(e,t,r,n){var i=n._originalDate||e,a=i.getTime();return se(a,t.length)}};function tm(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=t||"";return r+String(i)+s+se(a,2)}function rm(e,t){if(e%60===0){var r=e>0?"-":"+";return r+se(Math.abs(e)/60,2)}return Qr(e,t)}function Qr(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),a=se(Math.floor(i/60),2),s=se(i%60,2);return n+a+r+s}var nm=PT;function im(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function am(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function OT(e,t){var r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return im(e,t);var a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",im(n,t)).replace("{{time}}",am(i,t))}var xT={p:am,P:OT},om=xT;var CT=["D","DD"],IT=["YY","YYYY"];function sm(e){return CT.indexOf(e)!==-1}function um(e){return IT.indexOf(e)!==-1}function uc(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var kT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LT=/^'([^]*?)'?$/,FT=/''/g,MT=/[a-zA-Z]/;function cc(e,t,r){Z(2,arguments);var n=String(t),i=r||{},a=i.locale||Ao,s=a.options&&a.options.firstWeekContainsDate,l=s==null?1:we(s),c=i.firstWeekContainsDate==null?l:we(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=a.options&&a.options.weekStartsOn,d=f==null?0:we(f),m=i.weekStartsOn==null?d:we(i.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var p=ue(e);if(!ec(p))throw new RangeError("Invalid time value");var g=Yt(p),y=Bn(p,g),v={firstWeekContainsDate:c,weekStartsOn:m,locale:a,_originalDate:p},_=n.match(DT).map(function(E){var P=E[0];if(P==="p"||P==="P"){var I=om[P];return I(E,a.formatLong,v)}return E}).join("").match(kT).map(function(E){if(E==="''")return"'";var P=E[0];if(P==="'")return qT(E);var I=nm[P];if(I)return!i.useAdditionalWeekYearTokens&&um(E)&&uc(E,t,e),!i.useAdditionalDayOfYearTokens&&sm(E)&&uc(E,t,e),I(y,E,a.localize,v);if(P.match(MT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return E}).join("");return _}function qT(e){return e.match(LT)[1].replace(FT,"'")}function ea(e,t,r){Z(2,arguments);var n=ue(e),i=ue(t),a=r||{},s=a.locale,l=s===void 0?Ao:s,c=a.weekStartsOn,f=c===void 0?0:c;if(!l.localize)throw new RangeError("locale must contain localize property");if(!l.formatLong)throw new RangeError("locale must contain formatLong property");if(!l.formatRelative)throw new RangeError("locale must contain formatRelative property");var d=Vi(n,i);if(isNaN(d))throw new RangeError("Invalid time value");var m;d<-6?m="other":d<-1?m="lastWeek":d<0?m="yesterday":d<1?m="today":d<2?m="tomorrow":d<7?m="nextWeek":m="other";var p=Bn(n,Yt(n)),g=Bn(i,Yt(i)),y=l.formatRelative(m,p,g,{locale:l,weekStartsOn:f});return cc(n,y,{locale:l,weekStartsOn:f})}var ng=_e(rg());function rs(e,t){let r=t?190:"";return`<img alt="${e.title}" src="${e.gif_url}" height="${r}" />`}function Qn(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var rl;async function AC(e){return(!rl||e)&&(rl=new ng.GiphyFetch(await wo(fe.GIPHY,e))),rl}async function il(e){let t=await AC(e);return{async search(r,n){let{offset:i=0,limit:a}=n||{};return(await t.search(r,{offset:i,limit:a})).data.map(nl)},async trending(r){let{offset:n=0,limit:i=10}=r||{};return(await t.trending({offset:n,limit:i})).data.map(nl)},async gifs(r){if(!r.length)return[];let{data:n}=await t.gifs(r);return n.map(nl)}}}function nl(e){let t=e.title||e.slug;return{id:e.id,title:t,url:e.url,slug:Qn(t),preview_gif_url:e.images.preview_gif.url,gif_url:e.images.fixed_height.url,metadata:{width:e.images.original.width,height:e.images.original.height,size:parseInt(e.images.original.size??"",10)??0,labels:[{title:"Created",text:ea(new Date(e.import_datetime),new Date)},e.username&&{title:"User",text:e.username}],links:[e.source&&{title:"Source",text:e.source_tld,target:e.source}],tags:e.tags},attribution:"giphy-logo-square-180.png"}}function al(e){Z(1,arguments);var t=we(e);return ue(t*1e3)}var ol;async function TC(e){return(!ol||e)&&(ol=new ns(await wo(fe.TENOR,e))),ol}async function cl(e){let t=await TC(e);return{async search(r,n){let{offset:i=0,limit:a,abort:s}=n||{};return(await t.search(r,{offset:i,limit:a,abort:s})).results?.map(ul)??[]},async trending(r){let{offset:n=0,limit:i=10,abort:a}=r||{};return(await t.trending({offset:n,limit:i,abort:a})).results?.map(ul)??[]},async gifs(r,n){if(!r.length)return[];let{abort:i}=n||{};return(await t.gifs(r,{abort:i})).results?.map(ul)??[]}}}var sl="https://g.tenor.com/",Kn=class{constructor(t){this.apiKey=t}async trending(t){let r=new URL("/v1/trending",sl);r.searchParams.set("key",this.apiKey),r.searchParams.set("locale",Kn.locale),r.searchParams.set("media_filter",Kn.mediaFilter),r.searchParams.set("limit",t?.limit?.toString()??"10"),r.searchParams.set("media_filter","minimal"),t?.offset&&r.searchParams.set("pos",t.offset.toString());let n=await Ye(r.toString(),{signal:t.abort?.signal});if(!n.ok)throw new Error(n.statusText);return await n.json()}async search(t,r){let n=new URL("/v1/search",sl);n.searchParams.set("key",this.apiKey),n.searchParams.set("q",t),n.searchParams.set("locale",Kn.locale),n.searchParams.set("media_filter",Kn.mediaFilter),n.searchParams.set("limit",r?.limit?.toString()??"10"),n.searchParams.set("media_filter","minimal"),r?.offset&&n.searchParams.set("pos",r.offset.toString());let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}async gifs(t,r){let n=new URL("/v1/gifs",sl);n.searchParams.set("key",this.apiKey),n.searchParams.set("ids",t.join(",")),n.searchParams.set("limit",r?.limit?.toString()??"10"),n.searchParams.set("media_filter","minimal");let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}},ns=Kn;ns.locale="en_US",ns.mediaFilter="basic";function ul(e){let t=e.media[0],r=e.title||e.h1_title||e.content_description;return{id:e.id,title:r,url:e.itemurl,slug:Qn(r),preview_gif_url:t.tinygif.url,gif_url:t.gif.url,metadata:{width:t.gif.dims[0],height:t.gif.dims[1],size:t.gif.size,labels:[{title:"Created",text:ea(al(e.created),new Date)}],tags:e.tags},attribution:"tenor-logo-square-180.png"}}function PC(){return new og}function ll(){let e=PC();return{async search(t,r){let{offset:n=0,limit:i,abort:a}=r||{};return(await e.search(t,{offset:n,limit:i,abort:a})).results.map(ag)},async trending(t){return[]},async gifs(t,r){if(!t.length)return[];let{abort:n}=r||{};return(await e.gifs(t,{abort:n})).results.map(ag)}}}var ig="https://api.thefinergifs.club/",og=class{async search(t,r){let n=new URL("/search",ig);n.searchParams.set("q",t),n.searchParams.set("q.parser","simple"),n.searchParams.set("sort","_score desc"),n.searchParams.set("size",r?.limit?.toString()??"10"),r?.offset&&n.searchParams.set("start",r.offset.toString());let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}async gifs(t,r){let n=new URL("/search",ig);n.searchParams.set("q",t.join("|")),n.searchParams.set("q.parser","simple"),n.searchParams.set("q.options",JSON.stringify({fields:["fileid"]})),n.searchParams.set("size",r?.limit?.toString()??"10");let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}},OC=/^(\d{2})x(\d{2})-.+/i;function ag(e){let t=new URL(e.fields.fileid+".gif","https://media.thefinergifs.club"),[,r,n]=e.fields.fileid.match(OC)||new Array(2),i=parseInt(r,10);return{id:e.fields.fileid,title:e.fields.text,slug:Qn(e.fields.text),preview_gif_url:t.toString(),gif_url:t.toString(),metadata:r||n?{labels:[r&&{title:"Season",text:r},n&&{title:"Episode",text:n}],links:[i&&{title:"The TVDB",text:`Season ${i}`,target:`https://thetvdb.com/series/the-office-us/seasons/official/${i}`}]}:void 0}}function nn(e){return Array.from(e.reduce((t,r)=>(t.get(r.id.toString())||t.set(r.id.toString(),r),t),new Map).values())}async function an(e,t){switch(e){case fe.GIPHY:return await il(t);case fe.TENOR:return await cl(t);case fe.FINER_GIFS:return ll();case fe.FAVORITES:case fe.RECENTS:return null}throw new Error(`Unable to find API for service "${e}"`)}function fl({offset:e=0,limit:t}){let[r,n]=(0,Er.useState)(!0),[i,a]=(0,Er.useState)(),[s,l]=(0,Er.useState)(""),c=(0,Er.useRef)(null),f=(0,Er.useCallback)(async function(m,p){c.current?.abort(),c.current=new AbortController,n(!0);let g;try{let y=await an(p);if(y===null){a({items:[]}),n(!1);return}m?g=nn(await y.search(m,{offset:e,limit:t})):g=nn(await y.trending({offset:e,limit:t})),a({items:g,term:m})}catch(y){console.error(y);let v=y;if(y instanceof pr)return;v.message.toLowerCase().includes("invalid authentication credentials")&&(v.message="Invalid credentials, please try again.",await an(p,!0)),a({error:v})}finally{n(!1)}return()=>{c.current?.abort()}},[c,n,a,s,i]);return[i,r,l,s,f]}var wi=require("@raycast/api");var Je=require("@raycast/api");function sg(e,t){let i=e,{layoutType:r}=i,n=Pt(i,["layoutType"]);return r==="list"?(0,Je.List)(n,t):(0,Je.Grid)(n,t)}function ug(e,t){let i=e,{layoutType:r="list"}=i,n=Pt(i,["layoutType"]);return r==="list"?Je.List.Section(n,t):Je.Grid.Section(n,t)}function cg(e,t){let i=e,{layoutType:r="list"}=i,n=Pt(i,["layoutType"]);return r==="list"?Je.List.EmptyView(n,t):Je.Grid.EmptyView(n,t)}function lg(e,t){let i=e,{layoutType:r="list"}=i,n=Pt(i,["layoutType"]);return r==="list"?Je.List.Dropdown(n,t):Je.Grid.Dropdown(n,t)}function dl(e,t){let i=e,{layoutType:r="list"}=i,n=Pt(i,["layoutType"]);return r==="list"?Je.List.Dropdown.Section(n,t):Je.Grid.Dropdown.Section(n,t)}function Xn(e,t){let i=e,{layoutType:r="list"}=i,n=Pt(i,["layoutType"]);return r==="list"?Je.List.Dropdown.Item(n,t):Je.Grid.Dropdown.Item(n,t)}var M0=require("react"),Ue=require("@raycast/api");var da=class{static iec(e,t){let r=this.optionsInit(t),n=1024,i={1:r.byte,2:"KiB",3:"MiB",4:"GiB",5:"TiB",6:"PiB",7:"EiB",8:"ZiB",9:"YiB"};return typeof e=="number"?this.formatNumber(e,n,i,r):this.formatBigInt(e,BigInt(n),i,r)}static si(e,t){let r=this.optionsInit(t),n=1e3,i={1:r.byte,2:"kB",3:"MB",4:"GB",5:"TB",6:"PB",7:"EB",8:"ZB",9:"YB"};return typeof e=="number"?this.formatNumber(e,n,i,r):this.formatBigInt(e,BigInt(n),i,r)}static optionsInit(e){if(e!==void 0){let t=e.digits;if(t!==void 0&&(!Number.isInteger(t)||t<0))throw new RangeError("The options `digits` must be an integer greater than or equal to 0.")}return{space:e?.space??!1,byte:e?.byte??"byte",digits:e?.digits??0}}static formatNumber(e,t,r,n){if(Number.isNaN(e)||!Number.isFinite(e)||e<0)throw new RangeError("The file size must be a number greater than or equal to 0.");if(!Number.isSafeInteger(e))throw new RangeError(`\`BigInt\` should be used when specifying huge numbers (Value greater than ${Number.MAX_SAFE_INTEGER}).`);let i=n.space?" ":"",a=10**n.digits,s="";for(let[l,c]of Object.entries(r)){let f=Number(l);if(e<t**f){s=`${Math.round(e/t**(f-1)*a)/a}${i}${c}`;break}}return s}static formatBigInt(e,t,r,n){if(e<0)throw new RangeError("The file size must be a number greater than or equal to 0.");let i=n.space?" ":"";for(let[l,c]of Object.entries(r)){let f=BigInt(l);if(e<t**f){let d=t**(f-1n);return`${(e+d/2n)/d}${i}${c}`}}let a=Object.keys(r),s=Object.values(r);return`${e/t**(BigInt(a[a.length-1])-1n)}${i}${s[s.length-1]}`}};var F0=require("react"),de=require("@raycast/api");var dt=require("@raycast/api");function fg(e){let{title:t,metadata:r,attribution:n}=e.item,i=[];r?.tags?.length&&i.push(_jsx(dt.Detail.Metadata.TagList,{title:"tags"},r.tags.map((l,c)=>_jsx(dt.Detail.Metadata.TagList.Item,{text:l,key:c}))));let a=r?.labels?.filter(Boolean).map(({title:l,text:c},f)=>_jsx(dt.Detail.Metadata.Label,{title:l,text:c,key:f})),s=r?.links?.filter(Boolean).map(({title:l,text:c,target:f},d)=>_jsx(dt.Detail.Metadata.Link,{title:l,text:c,target:f,key:d}));return _jsx(dt.Detail,{markdown:rs(e.item),actions:_jsx(ha,{item:e.item,showViewDetails:!1,service:e.service}),metadata:_jsx(dt.Detail.Metadata,null,_jsx(dt.Detail.Metadata.Label,{title:"Title",text:t}),r?.width?_jsx(dt.Detail.Metadata.Label,{title:"Width",text:`${r.width.toString()}px`}):void 0,r?.height?_jsx(dt.Detail.Metadata.Label,{title:"Height",text:`${r.height.toString()}px`}):void 0,r?.size&&_jsx(dt.Detail.Metadata.Label,{title:"Size",text:da.si(r?.size)}),a,s,i,_jsx(dt.Detail.Metadata.Label,{title:"Source",text:yr(e.service),icon:n}))})}var L0=_e(require("path"));var Qb=_e(require("node:process"),1),Kb=_e(Vb(),1);async function Xb(e){if(Qb.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,Kb.default)("osascript",["-e",e]);return t}var _i=_e(require("node:fs"),1),Wd=_e(require("node:path"),1),x0=_e(require("node:stream"),1),C0=require("node:util");var Zb=require("util"),ys=_e(require("crypto"),1),Jb=(0,Zb.promisify)(ys.default.randomBytes),wk="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~".split(""),Ek="0123456789".split(""),Rk="CDEHKMPRTUWXY012458".split(""),Ak="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),Tk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Pk=(e,t)=>{let r=t.length,n=Math.floor(65536/r)*r-1,i=2*Math.ceil(1.1*e),a="",s=0;for(;s<e;){let l=ys.default.randomBytes(i),c=0;for(;c<i&&s<e;){let f=l.readUInt16LE(c);c+=2,!(f>n)&&(a+=t[f%r],s++)}}return a},Ok=async(e,t)=>{let r=t.length,n=Math.floor(65536/r)*r-1,i=2*Math.ceil(1.1*e),a="",s=0;for(;s<e;){let l=await Jb(i),c=0;for(;c<i&&s<e;){let f=l.readUInt16LE(c);c+=2,!(f>n)&&(a+=t[f%r],s++)}}return a},xk=(e,t,r)=>ys.default.randomBytes(e).toString(t).slice(0,r),Ck=async(e,t,r)=>(await Jb(e)).toString(t).slice(0,r),Ik=new Set([void 0,"hex","base64","url-safe","numeric","distinguishable","ascii-printable","alphanumeric"]),ev=(e,t)=>({length:r,type:n,characters:i})=>{if(!(r>=0&&Number.isFinite(r)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(n!==void 0&&i!==void 0)throw new TypeError("Expected either `type` or `characters`");if(i!==void 0&&typeof i!="string")throw new TypeError("Expected `characters` to be string");if(!Ik.has(n))throw new TypeError(`Unknown type: ${n}`);if(n===void 0&&i===void 0&&(n="hex"),n==="hex"||n===void 0&&i===void 0)return t(Math.ceil(r*.5),"hex",r);if(n==="base64")return t(Math.ceil(r*.75),"base64",r);if(n==="url-safe")return e(r,wk);if(n==="numeric")return e(r,Ek);if(n==="distinguishable")return e(r,Rk);if(n==="ascii-printable")return e(r,Ak);if(n==="alphanumeric")return e(r,Tk);if(i.length===0)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(i.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return e(r,i.split(""))},tv=ev(Pk,xk);tv.async=ev(Ok,Ck);var rv=tv;function Dl(){return rv({length:32})}var jd=_e(iv(),1);function av(e){return e!==null&&typeof e=="object"&&typeof e.pipe=="function"}var I0=_e(O0(),1),$q=(0,C0.promisify)(x0.default.pipeline),k0=(e="")=>Wd.default.join(jd.default,e+Dl()),Wq=async(e,t)=>$q(t,_i.default.createWriteStream(e)),Ud=(e,{extraArguments:t=0}={})=>async(...r)=>{let[n,i]=r.slice(t),a=await e(...r.slice(0,t),i);try{return await n(a)}finally{await(0,I0.default)(a,{force:!0})}},Qe={};Qe.file=e=>{if(e=H({},e),e.name){if(e.extension!==void 0&&e.extension!==null)throw new Error("The `name` and `extension` options are mutually exclusive");return Wd.default.join(Qe.directory(),e.name)}return k0()+(e.extension===void 0||e.extension===null?"":"."+e.extension.replace(/^\./,""))};Qe.file.task=Ud(Qe.file);Qe.directory=({prefix:e=""}={})=>{let t=k0(e);return _i.default.mkdirSync(t),t};Qe.directory.task=Ud(Qe.directory);Qe.write=async(e,t)=>{let r=Qe.file(t);return await(av(e)?Wq:_i.promises.writeFile)(r,e),r};Qe.write.task=Ud(Qe.write,{extraArguments:1});Qe.writeSync=(e,t)=>{let r=Qe.file(t);return _i.default.writeFileSync(r,e),r};Object.defineProperty(Qe,"root",{get(){return jd.default}});var D0=Qe;async function Hd(e,t){let r=await Ye(e);if(r.status!==200)throw new Error(`GIF file download failed. Server responded with ${r.status}`);if(r.body===null)throw new Error("Unable to read GIF response");let n;t?n={name:t}:n={extension:".gif"};let i;try{i=await D0.write(await r.body,n)}catch(a){let s=a;throw new Error(`Failed to download GIF: "${s.message}"`)}try{await Xb(`tell app "Finder" to set the clipboard to ( POSIX file "${i}" )`)}catch(a){let s=a;throw new Error(`Failed to copy GIF: "${s.message}"`)}return L0.default.basename(i)}function su(e){let t=new URL(e);return t.search="",t.toString()}function ha(e){let t=jq(e.item,e.showViewDetails,e.service);return _jsx(de.ActionPanel,{title:e.item.title},t.map((r,n)=>_jsx(de.ActionPanel.Section,{key:n},r)))}function jq(e,t,r){let{id:n,url:i,gif_url:a,slug:s}=e,{state:l,dispatch:c}=(0,F0.useContext)(qn),{favIds:f,recentIds:d}=l,m=new Map([[r,new Set([n.toString()])]]),p=()=>c({type:"add",save:!0,recentIds:m,service:r}),g=()=>c({type:"remove",save:!0,recentIds:m,service:r}),y=()=>c({type:"add",save:!0,favIds:m,service:r}),v=()=>c({type:"remove",save:!0,favIds:m,service:r}),_=()=>(0,de.showToast)({style:de.Toast.Style.Animated,title:"Copying..."}).then(z=>Hd(a,`${s}.gif`).then(A=>{z.hide(),(0,de.showHUD)(`Copied GIF "${A}" to clipboard`)})).catch(z=>(0,de.showToast)({style:de.Toast.Style.Failure,title:"Error, please try again",message:z?.message,primaryAction:{title:"Copy Error Message",onAction:A=>de.Clipboard.copy(A.message??""),shortcut:{modifiers:["cmd"],key:"c"}}})),E=i?_jsx(de.Action.OpenInBrowser,{key:"openUrlInBrowser",url:i,shortcut:{modifiers:["cmd","shift"],key:"b"}}):void 0,P=_jsx(de.Action.CopyToClipboard,{key:"copyGifUrl",title:"Copy GIF Link",content:su(a)}),I=_jsx(de.Action.CopyToClipboard,{key:"copyGifMarkdown",title:"Copy GIF Markdown",shortcut:{modifiers:["cmd","shift"],key:"enter"},content:`![${e.title}](${su(a)})`}),D=i?_jsx(de.Action.CopyToClipboard,{key:"copyPageUrl",title:"Copy Page Link",content:i,shortcut:{modifiers:["cmd","shift"],key:"c"},onCopy:p}):void 0,k=_jsx(de.Action,{icon:de.Icon.Clipboard,key:"copyFile",title:"Copy GIF",onAction:()=>_().then(p),shortcut:{modifiers:["cmd","opt"],key:"c"}}),M=_jsx(de.Action.Push,{icon:de.Icon.Eye,key:"viewDetails",title:"View GIF Details",target:_jsx(fg,{item:e,service:r}),shortcut:{modifiers:["cmd","shift"],key:"d"},onPush:p}),N,L=f?.get(r)?.has(n.toString());f&&(N=L?_jsx(de.Action,{icon:de.Icon.Star,key:"toggleFav",title:"Remove from Favorites",onAction:v,shortcut:{modifiers:["cmd","shift"],key:"f"}}):_jsx(de.Action,{icon:de.Icon.Star,key:"toggleFav",title:"Add to Favorites",onAction:y,shortcut:{modifiers:["cmd","shift"],key:"f"}}));let q=d?.get(r)?.has(n.toString())?_jsx(de.Action,{icon:de.Icon.Clock,key:"removeRecent",title:"Remove from Recents",onAction:g}):void 0,R=[[k,P,I],[N,q,t?M:void 0],[D,E]],W=R[0]?.[0],B=Gp();for(let z=0;z<R.length;z++){let A=R[z];for(let T=0;T<A.length;T++){let $=A[T];$?.key!==W?.key&&$?.key==B&&(A.splice(T,1),z===0?A.unshift($):R.unshift([$]))}}return R}function q0(e){let{preview_gif_url:t,title:r,id:n,gif_url:i}=e.item,{state:a}=(0,M0.useContext)(qn),s=a.favIds?.get(e.service)?.has(n.toString()),l=[];s&&l.push({icon:{source:Ue.Icon.Star,tintColor:Ue.Color.Yellow}});let{metadata:c,attribution:f}=e.item,d=e.layoutType===Wp.Grid,m=Eo()===Ue.Grid.ItemSize.Large;return d?_jsx(Ue.Grid.Item,{title:r,content:{source:m?i:t},actions:_jsx(ha,{item:e.item,showViewDetails:!0,service:e.service})}):_jsx(Ue.List.Item,{title:r,icon:{source:t},detail:_jsx(Ue.List.Item.Detail,{markdown:rs(e.item,!0),metadata:c&&_jsx(Ue.List.Item.Detail.Metadata,null,_jsx(Ue.List.Item.Detail.Metadata.Label,{title:"Title",text:r}),c?.width?_jsx(Ue.List.Item.Detail.Metadata.Label,{title:"Width",text:`${c.width.toString()}px`}):void 0,c?.height?_jsx(Ue.List.Item.Detail.Metadata.Label,{title:"Height",text:`${c.height.toString()}px`}):void 0,c?.size&&_jsx(Ue.List.Item.Detail.Metadata.Label,{title:"Size",text:da.si(c?.size)}),_jsx(Ue.List.Item.Detail.Metadata.Label,{title:"Source",text:yr(e.service),icon:f}))}),actions:_jsx(ha,{item:e.item,showViewDetails:!0,service:e.service}),accessories:l})}function N0(e){let{title:t}=e;return e.term&&(t=`GIF results for "${e.term}"`),e.hide?null:_jsx(ug,{layoutType:e.layoutType,title:t,key:e.title},e.results?.map((r,n)=>_jsx(q0,{layoutType:e.layoutType,key:r.id,item:r,index:n,service:e.service})))}function uu(e){let{layoutType:t}=e;return _jsx(sg,{layoutType:t,itemSize:e.itemSize,searchBarAccessory:e.showDropdown?_jsx(lg,{layoutType:e.layoutType,tooltip:"",storeValue:!0,onChange:e.onDropdownChange},_jsx(dl,{layoutType:e.layoutType},_jsx(Xn,{layoutType:e.layoutType,title:"Giphy",value:fe.GIPHY,icon:{source:"giphy-logo-square-180.png"}}),_jsx(Xn,{layoutType:e.layoutType,title:"Tenor",value:fe.TENOR,icon:{source:"tenor-logo-square-180.png"}}),_jsx(Xn,{layoutType:e.layoutType,title:"Finer Gifs Club",value:fe.FINER_GIFS,icon:{source:"finergifs-logo.svg",tintColor:wi.Color.PrimaryText}})),_jsx(dl,{layoutType:e.layoutType},_jsx(Xn,{layoutType:e.layoutType,title:"Favorites",value:fe.FAVORITES,icon:{source:wi.Icon.Star,tintColor:wi.Color.Yellow}}),_jsx(Xn,{layoutType:e.layoutType,title:"Recent",value:fe.RECENTS,icon:{source:wi.Icon.Clock}}))):void 0,enableFiltering:e.enableFiltering,isLoading:e.isLoading,throttle:!0,searchBarPlaceholder:e.searchBarPlaceholder,onSearchTextChange:e.onSearchTextChange,isShowingDetail:e.showDetail},e.showEmpty?_jsx(cg,{layoutType:t,title:e.emptyStateText,icon:e.emptyStateIcon}):e.sections.map(r=>_jsx(N0,{layoutType:r.layoutType,key:r.title,title:r.title,results:r.results,term:r.term,hide:r.hide,service:r.service})))}var Ei=require("react");function cu(){let[e,t]=(0,Ei.useState)(!0),[r,n]=(0,Ei.useState)(),i=(0,Ei.useCallback)(async function(l,c,f){let{offset:d=0,limit:m,reverse:p}=f||{};if(!c||!l.size){t(!1),n({items:new Map});return}t(!0);let g=await an(c);if(!g){n({items:new Map}),t(!1);return}let y;try{let v=[...l];p&&v.reverse(),m&&(v=v.slice(0,m-1)),y=nn(await g.gifs(v)),y.length&&n({items:new Map([[c,y]])})}catch(v){let _=v;if(v instanceof pr){t(!1);return}else _.message.toLowerCase().includes("invalid authentication credentials")?(_.message="Invalid credentials, please try again.",await an(c,!0)):await Ki(c,"favs");n({errors:[_]})}t(!1)},[t,n]),a=(0,Ei.useCallback)(async function(l,c){let{offset:f=0,limit:d,reverse:m}=c||{};if(!l.size){t(!1),n({items:new Map});return}t(!0);let p=new Map,g=[];for(let y of l.keys()){let v=await an(y);if(!v)continue;let _;try{let E=[...l.get(y)||new Set];m&&E.reverse(),d&&(E=E.slice(0,d-1)),_=nn(await v.gifs(E)),_.length&&p.set(y,_)}catch(E){let P=E;if(E instanceof pr)break;P.message.toLowerCase().includes("invalid authentication credentials")?(P.message="Invalid credentials, please try again.",await an(y,!0)):await Ki(y,"favs"),g.push(P);break}}g.length?n({errors:g}):n({items:p}),t(!1)},[t,n]);return[r,e,i,a]}function B0(){let e=$p(),t=jp(),[r,n]=(0,yt.useState)(),[i,a,s,l,c]=fl({limit:e}),[f,d]=(0,yt.useState)(Qu()),m=$=>{n($),s(l)};(0,yt.useEffect)(()=>{!r||(c(l,r),d(l?Eo():Qu()))},[l,r]),(0,yt.useEffect)(()=>{i?.error&&(0,gt.showToast)({style:gt.Toast.Style.Failure,title:"Failed loading gifs",message:i?.error.message})},[i?.error]);let[p,g]=(0,yt.useReducer)(Qp,Zu),[y,v,_,E]=Ro("favs"),[P,I,D,k]=cu(),[M,N,L,C]=Ro("recent"),[q,R,W,B]=cu(),z=()=>r===fe.FAVORITES,A=()=>r===fe.RECENTS;(0,yt.useEffect)(()=>{!r||(z()?E():_(r),A()?C():L(r))},[_,E,L,C,r]),(0,yt.useEffect)(()=>{v||g({type:"replace",favIds:y?.ids,service:r}),N||g({type:"replace",recentIds:M?.ids,service:r})},[v,N,g]),(0,yt.useEffect)(()=>{z()?k(p.favIds||new Map,{reverse:!0}):D(p.favIds?.get(r)||new Set,r,{limit:e/2,reverse:!0}),A()?B(p.recentIds||new Map,{reverse:!0}):W(p.recentIds?.get(r)||new Set,r,{limit:e/2,reverse:!0})},[p]),(0,yt.useEffect)(()=>{if(y?.error||P?.errors){let $=P?.errors?.map(({message:j})=>j).join(". ");(0,gt.showToast)({style:gt.Toast.Style.Failure,title:"Failed loading favorites",message:y?.error?.message||$})}if(M?.error||q?.errors){let $=q?.errors?.map(({message:j})=>j).join(". ");(0,gt.showToast)({style:gt.Toast.Style.Failure,title:"Failed loading recent",message:M?.error?.message||$})}},[y?.error,P?.errors,M?.error,q?.errors]);let T;return z()?T=_jsx(uu,{layoutType:t,itemSize:f,isLoading:v||I,showDropdown:!0,showDetail:(P?.items?.size??0)!==0,showEmpty:!P?.items?.size&&!i?.term,onDropdownChange:m,enableFiltering:!0,searchBarPlaceholder:"Search favorites...",emptyStateText:"Add some GIFs to your Favorites first!",emptyStateIcon:gt.Icon.Star,sections:Array.from(P?.items||[]).map(([$,j])=>({title:yr($),results:j,service:$,layoutType:t}))}):A()?T=_jsx(uu,{layoutType:t,itemSize:f,isLoading:N||R,showDropdown:!0,showDetail:(q?.items?.size??0)!==0,showEmpty:!q?.items?.size&&!i?.term,onDropdownChange:m,enableFiltering:!0,searchBarPlaceholder:"Search recents...",emptyStateText:"Work with some GIFs first...",emptyStateIcon:gt.Icon.Clock,sections:Array.from(q?.items||[]).map(([$,j])=>({title:yr($),results:j,service:$,layoutType:t}))}):T=_jsx(uu,{layoutType:t,itemSize:f,isLoading:a||v||I||R,showDropdown:!0,showDetail:(i?.items?.length??0)+(P?.items?.size??0)!=0,showEmpty:!P?.items?.size&&!i?.term&&!i?.items?.length,searchBarPlaceholder:`Search for GIFs${r?` on ${yr(r)}`:""}...`,emptyStateText:"Enter a search above to get started...",emptyStateIcon:gt.Icon.MagnifyingGlass,onDropdownChange:m,onSearchTextChange:s,sections:[{title:"Favorites",results:P?.items?.get(r),service:r,hide:!P?.items||!!i?.term,layoutType:t},{title:"Recent",results:q?.items?.get(r),service:r,hide:!q?.items||!!i?.term,layoutType:t},{title:"Trending",term:i?.term,results:i?.items,service:r,layoutType:t}]}),_jsx(qn.Provider,{value:{state:p,dispatch:g}},T)}globalThis.fetch||(globalThis.fetch=Ye,globalThis.Headers=ze,globalThis.Request=xt,globalThis.Response=Le);function G0(){return _jsx(B0,null)}module.exports=dA(Uq);0&&(module.exports={});
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
